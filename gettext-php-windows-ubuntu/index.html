<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.24.5"/><style data-href="/styles.f7b0302c8427f1a04772.css" data-identity="gatsby-global-css">@media (prefers-color-scheme:light){code[class*=language-],pre[class*=language-]{background:#fafafa;color:#383a42;direction:ltr;font-family:Fira Code,Fira Mono,Menlo,Consolas,DejaVu Sans Mono,monospace;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#e5e5e6;color:inherit}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection{background:#e5e5e6;color:inherit}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.2em .3em;white-space:normal}.token.cdata,.token.comment,.token.prolog{color:#a0a1a7}.token.doctype,.token.entity,.token.punctuation{color:#383a42}.token.atrule,.token.attr-name,.token.boolean,.token.class-name,.token.constant,.token.number{color:#b76b01}.token.keyword{color:#a626a4}.token.deleted,.token.important,.token.property,.token.symbol,.token.tag{color:#e45649}.token.attr-value,.token.attr-value>.token.punctuation,.token.builtin,.token.char,.token.inserted,.token.regex,.token.selector,.token.string{color:#50a14f}.token.function,.token.operator,.token.variable{color:#4078f2}.token.url{color:#0184bc}.token.attr-value>.token.punctuation.attr-equals,.token.special-attr>.token.attr-value>.token.value.css{color:#383a42}.language-css .token.selector{color:#e45649}.language-css .token.property{color:#383a42}.language-css .token.function,.language-css .token.url>.token.function{color:#0184bc}.language-css .token.url>.token.string.url{color:#50a14f}.language-css .token.atrule .token.rule,.language-css .token.important,.language-javascript .token.operator{color:#a626a4}.language-javascript .token.template-string>.token.interpolation>.token.interpolation-punctuation.punctuation{color:#ca1243}.language-json .token.operator{color:#383a42}.language-json .token.null.keyword{color:#b76b01}.language-markdown .token.url,.language-markdown .token.url-reference.url>.token.string,.language-markdown .token.url>.token.operator{color:#383a42}.language-markdown .token.url>.token.content{color:#4078f2}.language-markdown .token.url-reference.url,.language-markdown .token.url>.token.url{color:#0184bc}.language-markdown .token.blockquote.punctuation,.language-markdown .token.hr.punctuation{color:#a0a1a7;font-style:italic}.language-markdown .token.code-snippet{color:#50a14f}.language-markdown .token.bold .token.content{color:#b76b01}.language-markdown .token.italic .token.content{color:#a626a4}.language-markdown .token.list.punctuation,.language-markdown .token.strike .token.content,.language-markdown .token.strike .token.punctuation,.language-markdown .token.title.important>.token.punctuation{color:#e45649}.token.bold{font-weight:700}.token.comment,.token.italic{font-style:italic}.token.entity{cursor:help}.token.namespace{opacity:.8}.token.token.cr:before,.token.token.lf:before,.token.token.space:before,.token.token.tab:not(:empty):before{color:rgba(56,58,66,.2)}div.code-toolbar>.toolbar.toolbar>.toolbar-item{margin-right:.4em}div.code-toolbar>.toolbar.toolbar>.toolbar-item>a,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span{background:#e5e5e6;border-radius:.3em;color:#696c77;padding:.1em .4em}div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:hover{background:#c6c7c7;color:#383a42}.line-highlight.line-highlight{background:rgba(56,58,66,.05)}.line-highlight.line-highlight:before,.line-highlight.line-highlight[data-end]:after{background:#e5e5e6;border-radius:.3em;box-shadow:0 2px 0 0 rgba(0,0,0,.2);color:#383a42;padding:.1em .6em}pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows>span:hover:before{background-color:rgba(56,58,66,.05)}.command-line .command-line-prompt,.line-numbers.line-numbers .line-numbers-rows{border-right-color:rgba(56,58,66,.2)}.command-line .command-line-prompt>span:before,.line-numbers .line-numbers-rows>span:before{color:#9d9d9f}.rainbow-braces .token.token.punctuation.brace-level-1,.rainbow-braces .token.token.punctuation.brace-level-5,.rainbow-braces .token.token.punctuation.brace-level-9{color:#e45649}.rainbow-braces .token.token.punctuation.brace-level-10,.rainbow-braces .token.token.punctuation.brace-level-2,.rainbow-braces .token.token.punctuation.brace-level-6{color:#50a14f}.rainbow-braces .token.token.punctuation.brace-level-11,.rainbow-braces .token.token.punctuation.brace-level-3,.rainbow-braces .token.token.punctuation.brace-level-7{color:#4078f2}.rainbow-braces .token.token.punctuation.brace-level-12,.rainbow-braces .token.token.punctuation.brace-level-4,.rainbow-braces .token.token.punctuation.brace-level-8{color:#a626a4}pre.diff-highlight>code .token.token.deleted:not(.prefix),pre>code.diff-highlight .token.token.deleted:not(.prefix){background-color:rgba(255,82,102,.15)}pre.diff-highlight>code .token.token.deleted:not(.prefix) ::-moz-selection,pre.diff-highlight>code .token.token.deleted:not(.prefix)::-moz-selection,pre>code.diff-highlight .token.token.deleted:not(.prefix) ::-moz-selection,pre>code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection{background-color:rgba(251,86,105,.25)}pre.diff-highlight>code .token.token.deleted:not(.prefix) ::selection,pre.diff-highlight>code .token.token.deleted:not(.prefix)::selection,pre>code.diff-highlight .token.token.deleted:not(.prefix) ::selection,pre>code.diff-highlight .token.token.deleted:not(.prefix)::selection{background-color:rgba(251,86,105,.25)}pre.diff-highlight>code .token.token.inserted:not(.prefix),pre>code.diff-highlight .token.token.inserted:not(.prefix){background-color:rgba(25,255,91,.15)}pre.diff-highlight>code .token.token.inserted:not(.prefix) ::-moz-selection,pre.diff-highlight>code .token.token.inserted:not(.prefix)::-moz-selection,pre>code.diff-highlight .token.token.inserted:not(.prefix) ::-moz-selection,pre>code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection{background-color:rgba(56,224,98,.25)}pre.diff-highlight>code .token.token.inserted:not(.prefix) ::selection,pre.diff-highlight>code .token.token.inserted:not(.prefix)::selection,pre>code.diff-highlight .token.token.inserted:not(.prefix) ::selection,pre>code.diff-highlight .token.token.inserted:not(.prefix)::selection{background-color:rgba(56,224,98,.25)}.prism-previewer-gradient.prism-previewer-gradient div,.prism-previewer.prism-previewer:before{border-color:hsl(0,0,95%)}.prism-previewer-color.prism-previewer-color:before,.prism-previewer-easing.prism-previewer-easing:before,.prism-previewer-gradient.prism-previewer-gradient div{border-radius:.3em}.prism-previewer.prism-previewer:after{border-top-color:hsl(0,0,95%)}.prism-previewer-flipped.prism-previewer-flipped.after{border-bottom-color:hsl(0,0,95%)}.prism-previewer-angle.prism-previewer-angle:before,.prism-previewer-easing.prism-previewer-easing,.prism-previewer-time.prism-previewer-time:before{background:#fff}.prism-previewer-angle.prism-previewer-angle circle,.prism-previewer-time.prism-previewer-time circle{stroke:#383a42;stroke-opacity:1}.prism-previewer-easing.prism-previewer-easing circle,.prism-previewer-easing.prism-previewer-easing line,.prism-previewer-easing.prism-previewer-easing path{stroke:#383a42}.prism-previewer-easing.prism-previewer-easing circle{fill:transparent}}@media (prefers-color-scheme:dark){code[class*=language-],pre[class*=language-]{background:#282c34;color:#abb2bf;direction:ltr;font-family:Fira Code,Fira Mono,Menlo,Consolas,DejaVu Sans Mono,monospace;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#3e4451;color:inherit;text-shadow:none}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection{background:#3e4451;color:inherit;text-shadow:none}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.2em .3em;white-space:normal}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}.token.cdata,.token.comment,.token.prolog{color:#5c6370}.token.doctype,.token.entity,.token.punctuation{color:#abb2bf}.token.atrule,.token.attr-name,.token.boolean,.token.class-name,.token.constant,.token.number{color:#d19a66}.token.keyword{color:#c678dd}.token.deleted,.token.important,.token.property,.token.symbol,.token.tag{color:#e06c75}.token.attr-value,.token.attr-value>.token.punctuation,.token.builtin,.token.char,.token.inserted,.token.regex,.token.selector,.token.string{color:#98c379}.token.function,.token.operator,.token.variable{color:#61afef}.token.url{color:#56b6c2}.token.attr-value>.token.punctuation.attr-equals,.token.special-attr>.token.attr-value>.token.value.css{color:#abb2bf}.language-css .token.selector{color:#e06c75}.language-css .token.property{color:#abb2bf}.language-css .token.function,.language-css .token.url>.token.function{color:#56b6c2}.language-css .token.url>.token.string.url{color:#98c379}.language-css .token.atrule .token.rule,.language-css .token.important,.language-javascript .token.operator{color:#c678dd}.language-javascript .token.template-string>.token.interpolation>.token.interpolation-punctuation.punctuation{color:#be5046}.language-json .token.operator{color:#abb2bf}.language-json .token.null.keyword{color:#d19a66}.language-markdown .token.url,.language-markdown .token.url-reference.url>.token.string,.language-markdown .token.url>.token.operator{color:#abb2bf}.language-markdown .token.url>.token.content{color:#61afef}.language-markdown .token.url-reference.url,.language-markdown .token.url>.token.url{color:#56b6c2}.language-markdown .token.blockquote.punctuation,.language-markdown .token.hr.punctuation{color:#5c6370;font-style:italic}.language-markdown .token.code-snippet{color:#98c379}.language-markdown .token.bold .token.content{color:#d19a66}.language-markdown .token.italic .token.content{color:#c678dd}.language-markdown .token.list.punctuation,.language-markdown .token.strike .token.content,.language-markdown .token.strike .token.punctuation,.language-markdown .token.title.important>.token.punctuation{color:#e06c75}.token.bold{font-weight:700}.token.comment,.token.italic{font-style:italic}.token.entity{cursor:help}.token.namespace{opacity:.8}.token.token.cr:before,.token.token.lf:before,.token.token.space:before,.token.token.tab:not(:empty):before{color:rgba(171,178,191,.15);text-shadow:none}div.code-toolbar>.toolbar.toolbar>.toolbar-item{margin-right:.4em}div.code-toolbar>.toolbar.toolbar>.toolbar-item>a,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span{background:#3a3f4b;border-radius:.3em;color:#828997;padding:.1em .4em}div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:hover{background:#3e4451;color:#abb2bf}.line-highlight.line-highlight{background:rgba(153,187,255,.04)}.line-highlight.line-highlight:before,.line-highlight.line-highlight[data-end]:after{background:#3a3f4b;border-radius:.3em;box-shadow:0 2px 0 0 rgba(0,0,0,.2);color:#abb2bf;padding:.1em .6em}pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows>span:hover:before{background-color:rgba(153,187,255,.04)}.command-line .command-line-prompt,.line-numbers.line-numbers .line-numbers-rows{border-right-color:rgba(171,178,191,.15)}.command-line .command-line-prompt>span:before,.line-numbers .line-numbers-rows>span:before{color:#636d83}.rainbow-braces .token.token.punctuation.brace-level-1,.rainbow-braces .token.token.punctuation.brace-level-5,.rainbow-braces .token.token.punctuation.brace-level-9{color:#e06c75}.rainbow-braces .token.token.punctuation.brace-level-10,.rainbow-braces .token.token.punctuation.brace-level-2,.rainbow-braces .token.token.punctuation.brace-level-6{color:#98c379}.rainbow-braces .token.token.punctuation.brace-level-11,.rainbow-braces .token.token.punctuation.brace-level-3,.rainbow-braces .token.token.punctuation.brace-level-7{color:#61afef}.rainbow-braces .token.token.punctuation.brace-level-12,.rainbow-braces .token.token.punctuation.brace-level-4,.rainbow-braces .token.token.punctuation.brace-level-8{color:#c678dd}pre.diff-highlight>code .token.token.deleted:not(.prefix),pre>code.diff-highlight .token.token.deleted:not(.prefix){background-color:rgba(255,82,102,.15)}pre.diff-highlight>code .token.token.deleted:not(.prefix) ::-moz-selection,pre.diff-highlight>code .token.token.deleted:not(.prefix)::-moz-selection,pre>code.diff-highlight .token.token.deleted:not(.prefix) ::-moz-selection,pre>code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection{background-color:rgba(251,86,105,.25)}pre.diff-highlight>code .token.token.deleted:not(.prefix) ::selection,pre.diff-highlight>code .token.token.deleted:not(.prefix)::selection,pre>code.diff-highlight .token.token.deleted:not(.prefix) ::selection,pre>code.diff-highlight .token.token.deleted:not(.prefix)::selection{background-color:rgba(251,86,105,.25)}pre.diff-highlight>code .token.token.inserted:not(.prefix),pre>code.diff-highlight .token.token.inserted:not(.prefix){background-color:rgba(25,255,91,.15)}pre.diff-highlight>code .token.token.inserted:not(.prefix) ::-moz-selection,pre.diff-highlight>code .token.token.inserted:not(.prefix)::-moz-selection,pre>code.diff-highlight .token.token.inserted:not(.prefix) ::-moz-selection,pre>code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection{background-color:rgba(56,224,98,.25)}pre.diff-highlight>code .token.token.inserted:not(.prefix) ::selection,pre.diff-highlight>code .token.token.inserted:not(.prefix)::selection,pre>code.diff-highlight .token.token.inserted:not(.prefix) ::selection,pre>code.diff-highlight .token.token.inserted:not(.prefix)::selection{background-color:rgba(56,224,98,.25)}.prism-previewer-gradient.prism-previewer-gradient div,.prism-previewer.prism-previewer:before{border-color:#262931}.prism-previewer-color.prism-previewer-color:before,.prism-previewer-easing.prism-previewer-easing:before,.prism-previewer-gradient.prism-previewer-gradient div{border-radius:.3em}.prism-previewer.prism-previewer:after{border-top-color:#262931}.prism-previewer-flipped.prism-previewer-flipped.after{border-bottom-color:#262931}.prism-previewer-angle.prism-previewer-angle:before,.prism-previewer-easing.prism-previewer-easing,.prism-previewer-time.prism-previewer-time:before{background:#31363f}.prism-previewer-angle.prism-previewer-angle circle,.prism-previewer-time.prism-previewer-time circle{stroke:#abb2bf;stroke-opacity:1}.prism-previewer-easing.prism-previewer-easing circle,.prism-previewer-easing.prism-previewer-easing line,.prism-previewer-easing.prism-previewer-easing path{stroke:#abb2bf}.prism-previewer-easing.prism-previewer-easing circle{fill:transparent}}:root{--foreground:#24292f;--background:#fff}a{color:#0969da}a.visited,a:visited{color:#57606a}.green{color:#1a7f37}.red{color:#cf222e}@media (prefers-color-scheme:dark){:root{--foreground:#adbac7;--background:#22272e}a{color:#539bf5}a.visited,a:visited{color:#768390}.green{color:#57ab5a}.red{color:#e5534b}}a{text-decoration:none}a:hover{text-decoration:underline}html{font-family:Ubuntu,sans-serif}body{background-color:var(--background);color:var(--foreground);margin:0;padding:0}#top{box-sizing:border-box;display:grid;grid-template-rows:1fr 2em;margin:0;min-height:100vh;padding:1em 2em}.graph polygon{fill:transparent}.graph g ellipse[stroke="#000"],.graph g ellipse[stroke="#000000"],.graph g ellipse[stroke=black],.graph g path[stroke="#000"],.graph g path[stroke="#000000"],.graph g path[stroke=black],.graph g polygon[stroke="#000"],.graph g polygon[stroke="#000000"],.graph g polygon[stroke=black]{stroke:var(--foreground)}.graph g text[fill="#000"],.graph g text[fill="#000000"],.graph g text[fill=black]{fill:var(--foreground)}code,pre{font-family:JetBrains Mono,monospace}pre[class*=language-]{word-wrap:break-word;border-radius:0;box-sizing:border-box;margin:1em -2em;max-width:100vw;padding:1em 2em}footer a{line-height:2em;margin-right:.5em}.delta{line-height:1;margin-left:1em;white-space:nowrap}.columns{display:grid;grid-template-columns:repeat(2,1fr)}@media only screen and (max-width:1024px){.columns{grid-template-columns:repeat(1,1fr)}}.pie{text-align:center}.pie figure{display:inline-block}.pie figcaption{font-size:80%;margin-top:.25em}</style><title data-gatsby-head="true">PHP gettext on Windows and Ubuntu</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="icon" href="/favicon-32x32.png?v=6389d5f13c96000946d60b6bb0a8b5a8" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=6389d5f13c96000946d60b6bb0a8b5a8"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=6389d5f13c96000946d60b6bb0a8b5a8"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=6389d5f13c96000946d60b6bb0a8b5a8"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=6389d5f13c96000946d60b6bb0a8b5a8"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=6389d5f13c96000946d60b6bb0a8b5a8"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=6389d5f13c96000946d60b6bb0a8b5a8"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=6389d5f13c96000946d60b6bb0a8b5a8"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=6389d5f13c96000946d60b6bb0a8b5a8"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div id="top"><main><div><h1>PHP gettext on Windows and Ubuntu</h1>
<p>Short-long note about using gettext for i18n</p>
<h2>Native gettext</h2>
<p><strong>Vagrantfile</strong></p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">Vagrant<span class="token operator">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"2"</span><span class="token punctuation">)</span> <span class="token keyword">do</span> <span class="token operator">|</span><span class="token class-name">config</span><span class="token operator">|</span>
    <span class="token class-name">config</span><span class="token operator">.</span>vm<span class="token operator">.</span>box <span class="token operator">=</span> <span class="token string double-quoted-string">"wildetech/hyper-u1404"</span>

    config<span class="token operator">.</span>vm<span class="token operator">.</span>provider <span class="token punctuation">:</span>hyperv <span class="token keyword">do</span> <span class="token operator">|</span><span class="token class-name">hv</span><span class="token operator">|</span>
    <span class="token class-name">config</span><span class="token operator">.</span>vm<span class="token operator">.</span>synced_folder <span class="token string double-quoted-string">"."</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"/vagrant"</span><span class="token punctuation">,</span> <span class="token argument-name">type</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">"smb"</span><span class="token punctuation">,</span> <span class="token argument-name">smb_username</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">"Alexandr"</span><span class="token punctuation">,</span> <span class="token argument-name">smb_password</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">"******"</span>
    end

    config<span class="token operator">.</span>vm<span class="token operator">.</span>provision <span class="token punctuation">:</span>shell<span class="token punctuation">,</span> <span class="token argument-name">path</span><span class="token punctuation">:</span> <span class="token string double-quoted-string">"Provision.sh"</span>
end</code></pre></div>
<p><strong>Provision.sh</strong></p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/usr/bin/env bash</span>

<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> gettext php5-cli

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> language-pack-en-base
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> language-pack-de-base
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> language-pack-uk-base
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> language-pack-ru-base</code></pre></div>
<p><strong>ubuntu.php</strong></p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token variable">$domain</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'messages'</span><span class="token punctuation">;</span>

<span class="token function">bindtextdomain</span><span class="token punctuation">(</span><span class="token variable">$domain</span><span class="token punctuation">,</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/locales'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// gettext will look for .mo files at: `./locales/$locale/LC_MESSAGES/$domain.mo`</span>
<span class="token comment">//bind_textdomain_codeset($domain, 'UTF-8'); // optional if your encoding is utf</span>
<span class="token comment">//textdomain($domain); // optional if `$domain == 'messages'`</span>

<span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'en_US'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'de_DE'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'uk_UA'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'ru_RU'</span><span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token variable">$locale</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">putenv</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'LANGUAGE='</span> <span class="token operator">.</span> <span class="token variable">$locale</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setlocale</span><span class="token punctuation">(</span><span class="token constant">LC_ALL</span><span class="token punctuation">,</span> <span class="token variable">$locale</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'.utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">echo</span> <span class="token variable">$locale</span> <span class="token operator">.</span> <span class="token string single-quoted-string">': '</span> <span class="token operator">.</span> <span class="token function">gettext</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Hello World!'</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></code></pre></div>
<p><strong>windows.php</strong></p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token comment">// The only way I found to deal with windows is manually set locale at Control Panel \ Region \ Format</span>
<span class="token comment">// by changin it to `German (Germany)` or `Ukrainian (Ukraine)` you can change output of script</span>
<span class="token comment">// the only one nice thing is that changes apply immediatelly without reboots</span>

<span class="token function">bindtextdomain</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'messages'</span><span class="token punctuation">,</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/locales'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//bind_textdomain_codeset($domain, 'UTF-8'); // seems to be optional if your encoding is utf</span>
<span class="token comment">//textdomain($domain); // optional if `$domain == 'messages'`</span>

<span class="token keyword">echo</span> <span class="token function">gettext</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Hello World!'</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span></span></code></pre></div>
<p>Benefits from using native gettext unlike any other self written internationalization libraries is that is somehow defacto default way to internationalize anything on linux. But the downside - it is pain to get it working especially on windows.</p>
<h2>Symfony translate</h2>
<p><strong>composer.json</strong></p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"require"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"symfony/translation"</span><span class="token operator">:</span> <span class="token string">"2.6.*"</span><span class="token punctuation">,</span>
    <span class="token property">"symfony/config"</span><span class="token operator">:</span> <span class="token string">"2.6.*"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><strong>symfony_translate.php</strong></p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>Translation<span class="token punctuation">\</span>Loader<span class="token punctuation">\</span>MoFileLoader</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>Translation<span class="token punctuation">\</span>Translator</span><span class="token punctuation">;</span>

<span class="token keyword">require_once</span> <span class="token string single-quoted-string">'vendor/autoload.php'</span><span class="token punctuation">;</span>

<span class="token variable">$domain</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'messages'</span><span class="token punctuation">;</span>

<span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'en_US'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'de_DE'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'uk_UA'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'ru_RU'</span><span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token variable">$locale</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token variable">$translator</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Translator</span><span class="token punctuation">(</span> <span class="token variable">$locale</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$translator</span><span class="token operator">-></span><span class="token function">addLoader</span><span class="token punctuation">(</span> <span class="token variable">$domain</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MoFileLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$translator</span><span class="token operator">-></span><span class="token function">addResource</span><span class="token punctuation">(</span> <span class="token variable">$domain</span><span class="token punctuation">,</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/locales/'</span> <span class="token operator">.</span> <span class="token variable">$locale</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/LC_MESSAGES/'</span> <span class="token operator">.</span> <span class="token variable">$domain</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'.mo'</span><span class="token punctuation">,</span> <span class="token variable">$locale</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">echo</span> <span class="token variable">$locale</span> <span class="token operator">.</span> <span class="token string single-quoted-string">': '</span> <span class="token operator">.</span> <span class="token variable">$translator</span><span class="token operator">-></span><span class="token function">trans</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Hello World!'</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span></span></code></pre></div>
<p>This thing works on both Windows and Ubuntu (actually it does not use gettext and instead parses .mo files, so cache should be enabled).</p>
<p><strong>Important</strong> for PoEdit to be able to extract your strings you must add <code class="language-text">trans</code> keyword to it.</p>
<h2>Twig and Symfony Translate</h2>
<p><strong>composer.json</strong></p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"require"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"twig/twig"</span><span class="token operator">:</span> <span class="token string">"1.16.*"</span><span class="token punctuation">,</span>
    <span class="token property">"symfony/translation"</span><span class="token operator">:</span> <span class="token string">"2.6.*"</span><span class="token punctuation">,</span>
    <span class="token property">"symfony/config"</span><span class="token operator">:</span> <span class="token string">"2.6.*"</span><span class="token punctuation">,</span>
    <span class="token property">"symfony/twig-bridge"</span><span class="token operator">:</span> <span class="token string">"2.6.*"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><strong>twig.php</strong></p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Bridge<span class="token punctuation">\</span>Twig<span class="token punctuation">\</span>Extension<span class="token punctuation">\</span>TranslationExtension</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>Translation<span class="token punctuation">\</span>Loader<span class="token punctuation">\</span>MoFileLoader</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>Translation<span class="token punctuation">\</span>MessageSelector</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>Translation<span class="token punctuation">\</span>Translator</span><span class="token punctuation">;</span>

<span class="token keyword">require_once</span> <span class="token string single-quoted-string">'vendor/autoload.php'</span><span class="token punctuation">;</span>

<span class="token variable">$domain</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'messages'</span><span class="token punctuation">;</span>
<span class="token variable">$locale</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'de_DE'</span><span class="token punctuation">;</span>

<span class="token variable">$translator</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Translator</span><span class="token punctuation">(</span> <span class="token variable">$locale</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MessageSelector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/cache/translator'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$translator</span><span class="token operator">-></span><span class="token function">addLoader</span><span class="token punctuation">(</span> <span class="token variable">$domain</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MoFileLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$translator</span><span class="token operator">-></span><span class="token function">addResource</span><span class="token punctuation">(</span> <span class="token variable">$domain</span><span class="token punctuation">,</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/locales/'</span> <span class="token operator">.</span> <span class="token variable">$locale</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/LC_MESSAGES/'</span> <span class="token operator">.</span> <span class="token variable">$domain</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'.mo'</span><span class="token punctuation">,</span> <span class="token variable">$locale</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$twig</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Twig_Environment</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Twig_Loader_Filesystem</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'templates'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'cache'</span> <span class="token operator">=></span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/cache/twig'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'debug'</span> <span class="token operator">=></span> <span class="token constant boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// twig templates should be cached, poEdit will be able to extract strings from cache files</span>
<span class="token comment">// $twig->addExtension(new Twig_Extension_Debug());</span>
<span class="token variable">$twig</span><span class="token operator">-></span><span class="token function">addExtension</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TranslationExtension</span><span class="token punctuation">(</span><span class="token variable">$translator</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token variable">$twig</span><span class="token operator">-></span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'index.twig'</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span></span></code></pre></div>
<p>So unfortunatelly novadays there is no easy way to use native gettext for internationalization, and if you want to use PoEdit to extract all your strings you should use tricks and hacks like caching twig templates to get your string.</p>
<p>For symfony applications there is self hosted analouge of console poedit which shows what strings are translated and what not.</p>
<h2>Twig native gettext</h2>
<p>just for note</p>
<p><strong>composer.json</strong></p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"require"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"twig/twig"</span><span class="token operator">:</span> <span class="token string">"1.16.*"</span><span class="token punctuation">,</span>
    <span class="token property">"twig/extensions"</span><span class="token operator">:</span> <span class="token string">"1.2.*"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><strong>twig.php</strong></p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">require_once</span> <span class="token string single-quoted-string">'vendor/autoload.php'</span><span class="token punctuation">;</span>

<span class="token variable">$locale</span>     <span class="token operator">=</span> <span class="token string single-quoted-string">'de_DE'</span><span class="token punctuation">;</span>
<span class="token variable">$domain</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'messages'</span><span class="token punctuation">;</span>

<span class="token function">putenv</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'LANGUAGE='</span> <span class="token operator">.</span> <span class="token variable">$locale</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setlocale</span><span class="token punctuation">(</span><span class="token constant">LC_ALL</span><span class="token punctuation">,</span> <span class="token variable">$locale</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'.utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">bindtextdomain</span><span class="token punctuation">(</span><span class="token variable">$domain</span><span class="token punctuation">,</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/locales'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// gettext will look for .mo files at: `./locales/$locale/LC_MESSAGES/$domain.mo`</span>
<span class="token comment">//bind_textdomain_codeset($domain, 'UTF-8'); // optional if your encoding is utf</span>
<span class="token comment">//textdomain($domain); // optional if `$domain == 'messages'`</span>

<span class="token variable">$twig</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Twig_Environment</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Twig_Loader_Filesystem</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'templates'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'cache'</span> <span class="token operator">=></span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/cache/twig'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'debug'</span> <span class="token operator">=></span> <span class="token constant boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//$twig->addExtension(new Twig_Extension_Debug());</span>
<span class="token variable">$twig</span><span class="token operator">-></span><span class="token function">addExtension</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Twig_Extensions_Extension_I18n</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//$twig->addExtension(new Twig_Extensions_Extension_Intl());</span>


<span class="token keyword">echo</span> <span class="token variable">$twig</span><span class="token operator">-></span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'index.twig'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre></div>
<p>With caching enabled you can extract all <code class="language-text">gettext</code> function cals from twig cache with poedit.</p>
<p>On windows current locale can be detected from command prompt by running:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">C:\Users\Alexandr>systeminfo | findstr Locale
System Locale:             uk;Ukrainian
Input Locale:              en-us;English (United States)</code></pre></div>
<p>In all examples I have following localization files:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">locales/
├── de_DE
│   └── LC_MESSAGES
│       ├── messages.mo
│       └── messages.po
├── ru_RU
│   └── LC_MESSAGES
│       ├── messages.mo
│       └── messages.po
└── uk_UA
    └── LC_MESSAGES
        ├── messages.mo
        └── messages.po</code></pre></div>
<p>It seems that all big projects use own self written internationalization library, Wordpress parses .mo files and caches them, Symfony tries to be able to parse anything possible like Zend do, Laraval suggest use simple arrays etc.</p>
<p>There is also way to use ICUs ResourceBundles but after using similar stuff at ASP.Net I can say it really sucks in comparance with gettext + poedit.</p></div></main><footer><a href="#top">top</a><a href="/">home</a><a href="/search">search</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/gettext-php-windows-ubuntu";window.___webpackCompilationHash="0c40fde9120b799d7be8";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-b4bb882d10635d85fa25.js"],"app":["/app-98475b819971087d4b7e.js"],"component---src-pages-404-js":["/component---src-pages-404-js-2652c435d8decd31b8ef.js"],"component---src-pages-index-js":["/component---src-pages-index-js-ec27621590eb2d55b4ef.js"],"component---src-pages-search-js":["/component---src-pages-search-js-078619e3aef857102623.js"],"component---src-templates-note-js":["/component---src-templates-note-js-b005c02681f20ea28edd.js"]};/*]]>*/</script><script src="/polyfill-b4bb882d10635d85fa25.js" nomodule=""></script><script src="/app-98475b819971087d4b7e.js" async=""></script><script src="/framework-2ce620c91826a79f925c.js" async=""></script><script src="/webpack-runtime-1f84d4566caec8a722d7.js" async=""></script></body></html>