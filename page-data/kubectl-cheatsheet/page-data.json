{"componentChunkName":"component---src-templates-note-js","path":"/kubectl-cheatsheet","result":{"data":{"remark":{"fields":{"path":"kubectl-cheatsheet"},"meta":{"title":""},"headings":[{"value":"kubectl cheatsheet"}],"html":"<h1>kubectl cheatsheet</h1>\n<p><a href=\"https://kubernetes.io/docs/reference/kubectl/cheatsheet/\">https://kubernetes.io/docs/reference/kubectl/cheatsheet/</a></p>\n<h2>clusters and namespaces</h2>\n<p>list clusters</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl config get-contexts <span class=\"token parameter variable\">-o</span><span class=\"token operator\">=</span>name</code></pre></div>\n<p>show current cluster</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl config current-context</code></pre></div>\n<p>switch cluster</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl config use-context my-cluster-name</code></pre></div>\n<p>change default namespace</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl config set-context <span class=\"token parameter variable\">--current</span> <span class=\"token parameter variable\">--namespace</span><span class=\"token operator\">=</span>dev</code></pre></div>\n<h2>deployments</h2>\n<p>restart deployment</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl rollout restart deployment acme</code></pre></div>\n<p>rollback deployment</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl rollout undo deployment acme</code></pre></div>\n<p>update image</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># kubectl set image deployment/[DEPLOYMENT_NAME] [CONTAINER_NAME]=[IMAGE]:[TAG]</span>\nkubectl <span class=\"token builtin class-name\">set</span> image deployment/acme <span class=\"token assign-left variable\">acme</span><span class=\"token operator\">=</span>gcr.io/majestic-123/foo:2.0.3-master</code></pre></div>\n<p>change env variable</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl <span class=\"token builtin class-name\">set</span> <span class=\"token function\">env</span> deployment/acme <span class=\"token assign-left variable\">MY_VAR</span><span class=\"token operator\">=</span>foo</code></pre></div>\n<p>change resources</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl <span class=\"token builtin class-name\">set</span> resources deployment <span class=\"token parameter variable\">-l</span> <span class=\"token assign-left variable\">app</span><span class=\"token operator\">=</span>acme <span class=\"token parameter variable\">--limits</span> <span class=\"token assign-left variable\">memory</span><span class=\"token operator\">=</span>100Mi</code></pre></div>\n<p>manual scale</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl scale deployment foo <span class=\"token parameter variable\">--replicas</span><span class=\"token operator\">=</span><span class=\"token number\">2</span></code></pre></div>\n<h2>other</h2>\n<p>run ubuntu</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl run my-shell <span class=\"token parameter variable\">--rm</span> <span class=\"token parameter variable\">-it</span> <span class=\"token parameter variable\">--image</span> ubuntu -- <span class=\"token function\">bash</span></code></pre></div>"}},"pageContext":{"id":"35da7e86-7b63-5ed5-ad39-1cae4def4585"}},"staticQueryHashes":[]}