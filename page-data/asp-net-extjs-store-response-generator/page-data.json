{"componentChunkName":"component---src-templates-note-js","path":"/asp-net-extjs-store-response-generator/","result":{"data":{"remark":{"fields":{"path":"asp-net-extjs-store-response-generator"},"meta":{"title":""},"headings":[{"value":"Asp.net ExtJs store response generator"}],"html":"<h1>Asp.net ExtJs store response generator</h1>\n<p>When using ExtJs grids we always describe the same handlers to retrive data, wich contains some metadata and properties like: success, total etc...</p>\n<p>So main idea is to generate all this automaticaly.</p>\n<p>Here is class diagram:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 696px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1d8801f22666f38a80668db32450ba79/82158/15.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.328125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACJ0lEQVR42qWTSY/TQBCF/f//BidACAmGAxInGEYkESGzMFm8xFt7ife1vSR5vFiDBBIHBC2VbJXdX1W/V60EhxTrnQVHBKhqiVZ2sN0AW9VGVjSoG4mmlTBMDzvNguUI5GWDfqhhmjOo6jUcZwEh5jidIigbTeDLNx2mm6Koe5RVhdV3E8sHB4dUom5HpHmB+UrH/VbAEjGKqmfxEKvVM0Jfw3XfIfDfYhy3UApW8w85u6nRyBFVVSNOS3hBhqJsmTuiLCsEUQ7BnOyOaLszmibCev0Kd3fPcX//ktArdmhAqZoOhh3Ash0MR/5YE9yNMJ2AVX2cAbTNJTfACyP0vcTpeIKUCWEvYBhv4HnveeQrDMOOwKqB54Q4RCl1ObGbkl0NcPwEtmUhS7Mpt7dc7NQ9DnGCNCvRtglLrZ7ilvGVHe6h9D31IDSOIz4rVm7Q9ke4QYIkiqjLiLwo8Xn+iOvZA49e0BRJOXxCFjifZ4w544ZADcpWF/jwcYnl7QZhXLCbi5b99O46LpIkQ00ZNMPGZqdDN0yEh5iFCwINgvSnUAkMoWhmiNlSxUYVKOth2pzEGTSVo+T6dFQiJvTTfI2bxYbTEHMSuuk0f1qTy7aIuLHlDNJRutx3HWo6mxfZZJKUPCJlKfitbjibhF2kwGTZ76F0wwg7iOEJh22fp82X578uJef8GYZAklW8EeOk4U/gr+C/LaEMdLnkTQjDEEEQTkP8P+sH5JSPy/Elj9wAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/1d8801f22666f38a80668db32450ba79/82158/15.png\"\n        srcset=\"/static/1d8801f22666f38a80668db32450ba79/6f3f2/15.png 256w,\n/static/1d8801f22666f38a80668db32450ba79/01e7c/15.png 512w,\n/static/1d8801f22666f38a80668db32450ba79/82158/15.png 696w\"\n        sizes=\"(max-width: 696px) 100vw, 696px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>And here is how now my ashx looks like:</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Linq</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Web</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">RabotaUA<span class=\"token punctuation\">.</span>Model</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">ExtJs</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">namespace</span> <span class=\"token namespace\">RabotaUA<span class=\"token punctuation\">.</span>Sales<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">.</span>Manager</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/// &lt;summary></span>\n    <span class=\"token comment\">/// Summary description for read</span>\n    <span class=\"token comment\">/// &lt;/summary></span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">read</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">IHttpHandler</span></span>\n    <span class=\"token punctuation\">{</span>\n\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">ProcessRequest</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpContext</span> context<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            context<span class=\"token punctuation\">.</span>Response<span class=\"token punctuation\">.</span>ContentType <span class=\"token operator\">=</span> <span class=\"token string\">\"application/json\"</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">try</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span>DataInfo<span class=\"token punctuation\">></span></span> itemsList <span class=\"token operator\">=</span> CacheHelper<span class=\"token punctuation\">.</span><span class=\"token function\">GetCachedList</span><span class=\"token punctuation\">(</span>CacheHelper<span class=\"token punctuation\">.</span>CachedList<span class=\"token punctuation\">.</span>ManagerList<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token class-name\">ResponseReader<span class=\"token punctuation\">&lt;</span>DataInfo<span class=\"token punctuation\">></span></span> resp <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">ResponseReader<span class=\"token punctuation\">&lt;</span>DataInfo<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>itemsList<span class=\"token punctuation\">,</span> itemsList<span class=\"token punctuation\">.</span>Count<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ASC\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                context<span class=\"token punctuation\">.</span>Response<span class=\"token punctuation\">.</span><span class=\"token function\">Write</span><span class=\"token punctuation\">(</span>resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">ResponseBase</span> resp <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">ResponseBase</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span>Message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                context<span class=\"token punctuation\">.</span>Response<span class=\"token punctuation\">.</span><span class=\"token function\">Write</span><span class=\"token punctuation\">(</span>resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">bool</span></span> IsReusable\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">get</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now I dont care if some fields changed etc, all metadata will be regenerated, all I need to do now is to correctly describe ExtJs dataGrid.</p>\n<p>Code of classes:</p>\n<p><strong>MetaDataFieldBase</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MetaDataFieldBase</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> type<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>MetaDataFieldFactory</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MetaDataFieldFactory</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\">MetaDataFieldBase</span> <span class=\"token function\">Create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> type<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">MetaDataFieldBase</span> field <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">MetaDataFieldBase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        field<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n        field<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> type<span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> field<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\">MetaDataFieldBase</span> <span class=\"token function\">Create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> name<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Type</span> type<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">MetaDataFieldBase</span> field <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">MetaDataFieldBase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        field<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n        field<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> TypeMapper<span class=\"token punctuation\">.</span><span class=\"token function\">Convert</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> field<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\">MetaDataFieldBase</span> <span class=\"token function\">Create</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">System<span class=\"token punctuation\">.</span>Reflection<span class=\"token punctuation\">.</span>PropertyInfo</span> info<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">MetaDataFieldBase</span> field <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">MetaDataFieldBase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        field<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> info<span class=\"token punctuation\">.</span>Name<span class=\"token punctuation\">;</span>\n        field<span class=\"token punctuation\">.</span>type <span class=\"token operator\">=</span> TypeMapper<span class=\"token punctuation\">.</span><span class=\"token function\">Convert</span><span class=\"token punctuation\">(</span>info<span class=\"token punctuation\">.</span>PropertyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> field<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\">List<span class=\"token punctuation\">&lt;</span>MetaDataFieldBase<span class=\"token punctuation\">></span></span> <span class=\"token function\">CreateListFromType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Type</span> type<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span>MetaDataFieldBase<span class=\"token punctuation\">></span></span> fields <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">List<span class=\"token punctuation\">&lt;</span>MetaDataFieldBase<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">System<span class=\"token punctuation\">.</span>Reflection<span class=\"token punctuation\">.</span>PropertyInfo<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> propInfo <span class=\"token operator\">=</span> type<span class=\"token punctuation\">.</span><span class=\"token function\">GetProperties</span><span class=\"token punctuation\">(</span>System<span class=\"token punctuation\">.</span>Reflection<span class=\"token punctuation\">.</span>BindingFlags<span class=\"token punctuation\">.</span>Instance <span class=\"token operator\">|</span> System<span class=\"token punctuation\">.</span>Reflection<span class=\"token punctuation\">.</span>BindingFlags<span class=\"token punctuation\">.</span>Public<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">System<span class=\"token punctuation\">.</span>Reflection<span class=\"token punctuation\">.</span>PropertyInfo</span> info <span class=\"token keyword\">in</span> propInfo<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>info<span class=\"token punctuation\">.</span>PropertyType<span class=\"token punctuation\">.</span>IsPrimitive <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>info<span class=\"token punctuation\">.</span>PropertyType<span class=\"token punctuation\">.</span><span class=\"token function\">Equals</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span><span class=\"token punctuation\">(</span><span class=\"token type-expression class-name\"><span class=\"token keyword\">string</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>info<span class=\"token punctuation\">.</span>PropertyType<span class=\"token punctuation\">.</span><span class=\"token function\">Equals</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span><span class=\"token punctuation\">(</span><span class=\"token type-expression class-name\">DateTime</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">continue</span><span class=\"token punctuation\">;</span>\n\n            fields<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>MetaDataFieldFactory<span class=\"token punctuation\">.</span><span class=\"token function\">Create</span><span class=\"token punctuation\">(</span>info<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> fields<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>TypeMapper</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">TypeMapper</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> <span class=\"token function\">Convert</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Type</span> type<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>Type<span class=\"token punctuation\">.</span><span class=\"token function\">GetTypeCode</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>Byte<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>Boolean<span class=\"token punctuation\">:</span> <span class=\"token keyword\">return</span> <span class=\"token string\">\"bool\"</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>Int16<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>Int32<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>Int64<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>UInt16<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>UInt32<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>UInt64<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>Decimal<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>SByte<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>Single<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>Double<span class=\"token punctuation\">:</span> <span class=\"token keyword\">return</span> <span class=\"token string\">\"number\"</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>DateTime<span class=\"token punctuation\">:</span> <span class=\"token keyword\">return</span> <span class=\"token string\">\"date\"</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>Char<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">case</span> TypeCode<span class=\"token punctuation\">.</span>String<span class=\"token punctuation\">:</span> <span class=\"token keyword\">return</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\">//case TypeCode.Empty:</span>\n            <span class=\"token comment\">//    break;</span>\n            <span class=\"token comment\">//case TypeCode.Object:</span>\n            <span class=\"token comment\">//    break;</span>\n            <span class=\"token comment\">//case TypeCode.DBNull:</span>\n            <span class=\"token comment\">//    break;</span>\n\n            <span class=\"token keyword\">default</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">return</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>MetaData</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MetaData</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> idProperty<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> root <span class=\"token operator\">=</span> <span class=\"token string\">\"data\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> totalProperty <span class=\"token operator\">=</span> <span class=\"token string\">\"total\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> successProperty <span class=\"token operator\">=</span> <span class=\"token string\">\"success\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> messageProperty <span class=\"token operator\">=</span> <span class=\"token string\">\"message\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> sortInfo<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> direction<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span>MetaDataFieldBase<span class=\"token punctuation\">></span></span> fields<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token function\">MetaData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token function\">MetaData</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Type</span> type<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> id_column_name<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> order_by_column_name<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> order_by_direction<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>idProperty <span class=\"token operator\">=</span> id_column_name<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>sortInfo <span class=\"token operator\">=</span> order_by_column_name<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> order_by_direction<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fields <span class=\"token operator\">=</span> MetaDataFieldFactory<span class=\"token punctuation\">.</span><span class=\"token function\">CreateListFromType</span><span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>ResponseBase</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ResponseBase</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">bool</span></span> success <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> message <span class=\"token operator\">=</span> <span class=\"token string\">\"ok\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token function\">ResponseBase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>success <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>message <span class=\"token operator\">=</span> <span class=\"token string\">\"ok\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token function\">ResponseBase</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">bool</span></span> success<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> message<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>success <span class=\"token operator\">=</span> success<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>message <span class=\"token operator\">=</span> message<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">override</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> <span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> Newtonsoft<span class=\"token punctuation\">.</span>Json<span class=\"token punctuation\">.</span>JsonConvert<span class=\"token punctuation\">.</span><span class=\"token function\">SerializeObject</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> Newtonsoft<span class=\"token punctuation\">.</span>Json<span class=\"token punctuation\">.</span>Formatting<span class=\"token punctuation\">.</span>Indented<span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">Newtonsoft<span class=\"token punctuation\">.</span>Json<span class=\"token punctuation\">.</span>Converters<span class=\"token punctuation\">.</span>JavaScriptDateTimeConverter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>ResponseReader</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ResponseReader<span class=\"token punctuation\">&lt;</span>T<span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">ResponseBase</span></span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">int</span></span> total<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MetaData</span> metaData<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span>T<span class=\"token punctuation\">></span></span> data<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token function\">ResponseReader</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span>T<span class=\"token punctuation\">></span></span> items<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">int</span></span> total_rows<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> id_column_name<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> order_by_column_name<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> order_by_direction<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>total <span class=\"token operator\">=</span> total_rows<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>metaData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">MetaData</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span><span class=\"token punctuation\">(</span><span class=\"token type-expression class-name\">T</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> id_column_name<span class=\"token punctuation\">,</span> order_by_column_name<span class=\"token punctuation\">,</span> order_by_direction<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> items<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And yep this is not ideal, but hey it works :)</p>"}},"pageContext":{"id":"b6f6d920-71a7-5e75-99fa-bd819bff139c"}},"staticQueryHashes":[],"slicesMap":{}}