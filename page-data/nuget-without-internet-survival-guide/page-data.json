{"componentChunkName":"component---src-templates-note-js","path":"/nuget-without-internet-survival-guide/","result":{"data":{"remark":{"fields":{"path":"nuget-without-internet-survival-guide"},"meta":{"title":""},"headings":[{"value":"nuget without internet survival guide"}],"html":"<h1>nuget without internet survival guide</h1>\n<h2>NuCache V2</h2>\n<p>–ó–∞–≤–æ–¥–∏–º —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞–ø–∫–∏:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> ~/.nuget/nucache/bin\n<span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> ~/.nuget/nucache/http\n<span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> ~/.nuget/nucache/packages</code></pre></div>\n<p>–í <code class=\"language-text\">bin</code> —Å–∫–ª–∞–¥—ã–≤–∞–µ–º —Å–∫—Ä–∏–ø—Ç, –¥–µ–ª–∞–µ–º –µ–≥–æ executable <code class=\"language-text\">chmod +x ~/.nuget/nucache/bin/nucache</code> –∏ –¥–æ–±–∞–≤–ª—è–µ–º —ç—Ç—É –ø–∞–ø–∫—É –≤ <code class=\"language-text\">PATH</code></p>\n<p>–í <code class=\"language-text\">http</code> –±—É–¥—É—Ç –∂–∏—Ç—å json –∫—ç—à–∏ –æ—Ç–≤–µ—Ç–æ–≤ api, –∞ –≤ <code class=\"language-text\">packages</code> —Å–æ–æ—Ç–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã</p>\n<p>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–º–∞–Ω–¥—ã:</p>\n<ul>\n<li><code class=\"language-text\">nucache status</code> - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º online/offline</li>\n<li><code class=\"language-text\">nucache offline</code> - –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤ offline —Ä–µ–∂–∏–º</li>\n<li><code class=\"language-text\">nucache online</code> - –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤ online —Ä–µ–∂–∏–º</li>\n<li><code class=\"language-text\">nucache sync</code> - –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ —á—Ç–æ –Ω–∞–π–¥–µ—Ç <code class=\"language-text\">~/.nuget/packages/**/*.nupkg</code></li>\n<li><code class=\"language-text\">nucache /path/to/project</code> - –≤—ã–∫–∞—á–∏–≤–∞–µ—Ç –≤—Å–µ —á—Ç–æ –Ω–∞–π–¥–µ—Ç <code class=\"language-text\">/path/to/project/**/*.csproj</code></li>\n<li><code class=\"language-text\">nucache Newtonsoft.Json</code> - –≤—ã–∫–∞—á–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é –ø–∞–∫–µ—Ç–∞ –∏ –≤—Å–µ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∞–ª–∏–∞—Å <code class=\"language-text\">nucache add package Newtonsoft.Json</code></li>\n<li><code class=\"language-text\">nucache Newtonsoft.Json 12.0.3</code> - –≤—ã–∫–∞—á–∏–≤–∞–µ—Ç –∫–æ–Ω—Ä–µ—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∞–ª–∏–∞—Å <code class=\"language-text\">nucache add package Newtonsoft.json --version 12.0.3</code></li>\n</ul>\n<p>–ö–∞–∫ —Å —ç—Ç–∏–º —Ä–∞–±–æ—Ç–∞—Ç—å:</p>\n<ul>\n<li>Always offline –≤–∞—Ä–∏–∞–Ω—Ç - –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –≤ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º, —Ç–µ–º —Å–∞–º—ã–º –≤—ã–Ω—É–∂–¥–∞—è —Å–µ–±—è –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å –≤—ã–∑—ã–≤–∞—Ç—å nucache, –∞ –∫–æ–≥–¥–∞ –ø—Ä–æ–ø–∞–¥–µ—Ç —Å–≤—è–∑—å –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–¥–æ –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å –∏ –≤—Å–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å</li>\n<li>Online/offline - –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è —Ç—É–¥–∞ —Å—é–¥–∞, –ø–æ–ª—å–∑—É–µ–º—Å—è dotnet add package –∫–∞–∫ –æ–±—ã—á–Ω–æ, –∫–∞–∫ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–≤—è–∑—å –≤—ã–∑—ã–≤–∞–µ–º nucache sync –∏ nucache /path/to/project —á—Ç–æ –±—ã –≤—ã—Ç—è–Ω—É—Ç—å –ø–∏–∫–µ—Ç—ã</li>\n</ul>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å –Ω–∞ macos, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ linux –∏–∑ –∫–æ—Ä–æ–±–∫–∏, –¥–ª—è windows —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –º–∞–ª–µ–Ω—å–∫–∏–π cmd –≤—Ä–∞–ø–ø–µ—Ä –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ path –µ–≥–æ, –ø–æ–¥—Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∫–∞—Ñ–∫–∏</p>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤—Å–µ —Ç–∞–∫ –∂–µ –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–∏–∫–æ–ª —Å –ø–∞–∫–µ—Ç–∞–º–∏ –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—è—Ç—Å—è –ø–æ —Ç–∏–ø—É <code class=\"language-text\">Microsoft.NETCore.App.Ref</code> –∏–ª–∏ <code class=\"language-text\">Microsoft.NETCore.App.Host.osx-x64</code> –ø–æ—Ç–æ–º—É –µ—Å—Ç—å —Å–º—ã—Å–ª –ø–æ–∫–∞ –µ—Å—Ç—å —Å–µ—Å—Ç—å —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –ø–∞—Ä—ã —Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ —á—Ç–æ —Ç–æ —Ç–∏–ø–∞:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">dotnet nuget locals all <span class=\"token parameter variable\">--clear</span> <span class=\"token operator\">|</span> <span class=\"token function\">tail</span> <span class=\"token parameter variable\">-n</span> <span class=\"token number\">1</span>\n<span class=\"token function\">git</span> clean <span class=\"token parameter variable\">-fdX</span> <span class=\"token operator\">></span> /dev/null\ndotnet restore</code></pre></div>\n<p>–í –æ—à–∏–±–∫–∞—Ö, –µ—Å–ª–∏ —Ç–∞–∫–æ–≤—ã–µ –±—É–¥—É—Ç, –Ω–∞–π—Ç–∏ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–∞–∫–µ—Ç—ã –∏ –≤—ã–∫–∞—á–∞—Ç—å –∏—Ö –≤—Ä—É—á–Ω—É—é, –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–æ —Ç–µ—Ö –ø–æ—Ä –ø–æ–∫–∞ —Ä–µ—Å—Ç–æ—Ä –Ω–µ –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç —Å —É—Å–ø–µ—Ö–æ–º</p>\n<p>–£—Å–ª–æ–≤–Ω–æ –≤ –º–æ–µ–º —Å–ª—É—á–∞–µ –æ–Ω–æ —Ä—É–≥–∞–ª–æ—Å—å –º–æ–ª –Ω–µ—Ç <code class=\"language-text\">Microsoft.NETCore.App.Ref</code>, –Ω—É –æ–∫, –≤—ã–ø–æ–ª–Ω–∏–ª <code class=\"language-text\">nucache Microsoft.NETCore.App.Ref</code>, –Ω–æ –∑–∞—Ç–µ–º –æ–Ω–æ –Ω–∞—á–∞–ª–æ —Ä—É–≥–∞—Ç—å—Å—è –º–æ–ª –Ω–µ—Ç <code class=\"language-text\">Microsoft.NETCore.App.Ref</code> –≤–µ—Ä—Å–∏–∏ <code class=\"language-text\">–•</code>, –Ω—É –æ–∫, –≤—ã–ø–æ–ª–Ω–∏–ª <code class=\"language-text\">nucache Microsoft.NETCore.App.Ref X</code>, –Ω–æ –∏ –Ω–∞ —ç—Ç–æ–º –Ω–µ –≤—Å–µ, —Å –∫–∞–∫–æ–≥–æ —Ç–æ –ø–µ—Ä–µ–ø—É–≥—É, –∫–∞–∫–æ–π —Ç–æ —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–ª–∏ –µ—â–µ —á–µ–º—É —Ç–æ, –Ω—É–∂–Ω–∞ –≤–µ—Ä—Å–∏—è <code class=\"language-text\">Y</code>, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –µ–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –≤—Å–µ –æ—Ç—Ä–µ—Å—Ç–æ—Ä–∏–ª–æ—Å—å</p>\n<h2>worflow –ø—Ä–æ–≤–µ—Ä–∫–∏</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># run me once</span>\ndotnet nuget locals all <span class=\"token parameter variable\">--clear</span> <span class=\"token operator\">|</span> <span class=\"token function\">tail</span> <span class=\"token parameter variable\">-n</span> <span class=\"token number\">1</span>\n\n<span class=\"token comment\"># switch offline</span>\nnucache offline\n\n<span class=\"token comment\"># navigate to project</span>\n<span class=\"token builtin class-name\">cd</span> ~/github.com/rabotaua/published-vacancies-api\n\n<span class=\"token comment\"># cleanup</span>\n<span class=\"token function\">git</span> clean <span class=\"token parameter variable\">-fdX</span>\n\n<span class=\"token comment\"># restore</span>\ndotnet restore\n\n<span class=\"token comment\"># for not found packages run:</span>\nnucache Foo <span class=\"token number\">1.2</span>.3\nnucache Bar <span class=\"token number\">4.5</span>.6\n\n<span class=\"token comment\"># repeat</span>\n<span class=\"token function\">git</span> clean <span class=\"token parameter variable\">-fdX</span>\ndotnet restore\n\n<span class=\"token comment\"># navigate to next project</span>\n<span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">..</span>/apply-api\n\n<span class=\"token comment\"># repeat cleanup/restore/install steps</span></code></pre></div>\n<hr>\n<h2>NuCache V1</h2>\n<p>–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —É–∂–µ –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–∏–Ω–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –∫–∞–∑–∞–ª–æ—Å—å –±—ã –≤—Å–µ –æ–∫, –ù–û, –≤ —Å–ª—É—á–∞–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–µ—Ç–æ–∫ Rider –º–æ–∂–µ—Ç –∑–∞—Ö–æ—Ç–µ—Ç—å –æ–±–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã NuGet –ø–æ—Å–ª–µ —á–µ–≥–æ –≤—Å–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Ç—ã–∫–≤—É ü§∑‚Äç‚ôÇÔ∏è</p>\n<p>–ë–ª–∞–≥–æ –≤ NuGet –µ—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –ø–æ–¥–æ–±–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è, –∞ –∏–º–µ–Ω–Ω–æ, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –ø–∞–ø–∫—É –∏ —Å–ª–æ–∂–∏—Ç—å —Ç—É–¥–∞ –≤—Å–µ nupkg —Ñ–∞–π–ª—ã –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è</p>\n<p>–ù–∞ –¥–µ–ª–µ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Ç–æ –≤–æ—Ç —Ç–∞–∫:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'recreate offline directory for demo'</span>\n<span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> offline <span class=\"token operator\">||</span> <span class=\"token boolean\">true</span>\n<span class=\"token function\">mkdir</span> offline\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'create demo classlib'</span>\n<span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> mylib <span class=\"token operator\">||</span> <span class=\"token boolean\">true</span>\n<span class=\"token function\">mkdir</span> mylib\n<span class=\"token builtin class-name\">cd</span> mylib\ndotnet new console\ndotnet pack\n<span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">..</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'pretend like we downloaded some nupkg for offline usage'</span>\n<span class=\"token function\">mv</span> mylib/bin/Debug/mylib.1.0.0.nupkg ./offline/\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'list current nuget sources'</span>\ndotnet nuget list <span class=\"token builtin class-name\">source</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'remove offline source if any'</span>\ndotnet nuget remove <span class=\"token builtin class-name\">source</span> offline\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'add offline source'</span>\ndotnet nuget <span class=\"token function\">add</span> <span class=\"token builtin class-name\">source</span> <span class=\"token string\">\"<span class=\"token variable\">${<span class=\"token environment constant\">PWD</span>}</span>/offline\"</span> <span class=\"token parameter variable\">--name</span><span class=\"token operator\">=</span>offline\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'remove original nuget.org source'</span>\ndotnet nuget remove <span class=\"token builtin class-name\">source</span> nuget.org\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'demo of offline usage'</span>\n<span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> consoleapp <span class=\"token operator\">||</span> <span class=\"token boolean\">true</span>\n<span class=\"token function\">mkdir</span> consoleapp\n<span class=\"token builtin class-name\">cd</span> consoleapp\ndotnet new console\ndotnet <span class=\"token function\">add</span> package mylib\ndotnet restore\n<span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">..</span>\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'add nuget.org back'</span>\ndotnet nuget <span class=\"token function\">add</span> <span class=\"token builtin class-name\">source</span> https://api.nuget.org/v3/index.json <span class=\"token parameter variable\">--name</span><span class=\"token operator\">=</span>nuget.org\n\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'cleanup'</span>\n<span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> consoleapp mylib offline <span class=\"token operator\">||</span> <span class=\"token boolean\">true</span></code></pre></div>\n<p>–¢–æ –µ—Å—Ç—å –º—ã –º–æ–∂–µ–º –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, –Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –≤—ã–∫–∞—á–∞—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–æ—Ç–æ—Ä—ã–µ —É –Ω–∞—Å –µ—Å—Ç—å –∏\\–∏–ª–∏ –º–æ–≥—É—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è</p>\n<p>–î–ª—è —ç—Ç–æ–≥–æ –¥–µ–ª–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±—Ö–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ —Ç–∏–ø—É —Ç–∞–∫–æ–≥–æ:</p>\n<div class=\"gatsby-highlight\" data-language=\"ps1\"><pre class=\"language-ps1\"><code class=\"language-ps1\">$directories = @(\n    &#39;~/Downloads/gitsearch/github.com/rabotaua&#39;,\n    &#39;~/github.com/rabotaua&#39;,\n    &#39;~/Desktop&#39;,\n    &#39;~/Downloads&#39;,\n    &#39;~/github.com/mac2000/notes&#39;\n)\n\nforeach($directory in $directories) {\n    $projects = Get-ChildItem -Path $directory -Recurse -Depth 4 -Include &#39;\\*.csproj&#39;\n    foreach($project in $projects) {\n        $xml = \\[xml\\](Get-Content $project.FullName)\n        foreach($reference in $xml.Project.ItemGroup.PackageReference) {\n            if (-not $reference) { continue }\n            $packages += \\[PSCustomObject\\]@{\n                Package = $reference.Include\n                Version = $reference.Version\n            }\n        }\n    }\n}\n\n$packages = $packages | Select-Object Package, Version -Unique</code></pre></div>\n<p>–ù–∞ –≤—ã—Ö–æ–¥–µ —É –Ω–∞—Å –±—É–¥–µ—Ç –º–∞—Å—Å–∏–≤ –ø–∞–∫–µ—Ç–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö</p>\n<blockquote>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –µ—Å—Ç—å —Ä—è–¥ –ø–∞–∫–µ—Ç–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö, –æ–± —ç—Ç–æ–º —á—É—Ç—å –Ω–∏–∂–µ, –Ω–æ –Ω–∞ –¥–µ–ª–µ –≤—Å–µ —Ä–∞–≤–Ω–æ –µ—Å—Ç—å —Å–º—ã—Å–ª –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∫–∞ –µ—Å—Ç—å —Å–µ—Ç—å</p>\n</blockquote>\n<p>–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –∫–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç, –ø–æ —Å—Å—ã–ª–∫–µ:</p>\n<p><a href=\"https://api.nuget.org/v3-flatcontainer/%7BLowerCasedPackageName%7D/%7BVersion%7D/%7BLowerCasedPackageName%7D.%7BVersion%7D.nupkg\">https://api.nuget.org/v3-flatcontainer/{LowerCasedPackageName}/{Version}/{LowerCasedPackageName}.{Version}.nupkg</a></p>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:</p>\n<ul>\n<li>–°—Ä–∞–∑—É –∂–µ —Å–ª–µ–¥–æ–º –æ–∫–∞–∂–µ—Ç—Å—è —á—Ç–æ —É –ø–∞–∫–µ—Ç–æ–≤ –µ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∏ –Ω–∞–¥–æ –±—ã –≤—ã–∫–∞—á–∞—Ç—å –∏ –∏—Ö</li>\n<li>–ü—Ä–µ—Ñ–∏–∫—Å <code class=\"language-text\">v3-flatcontainer</code> –≤ —Ç–µ–æ—Ä–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥—Ä—É–≥–∏–º –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –Ω–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—Ç—å —ç—Ç–æ –¥–µ–ª–æ, –∞ –∑–∞–±–∏—Ä–∞—Ç—å –∏–∑ –º–µ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞</li>\n</ul>\n<h2>NuGet API 101</h2>\n<p>–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞:</p>\n<p><a href=\"https://api.nuget.org/v3/index.json\">https://api.nuget.org/v3/index.json</a></p>\n<p>–û—Ç —Å—é–¥–∞ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—å—Å—è —Å—Å—ã–ª–∫–∏:</p>\n<ul>\n<li><code class=\"language-text\">RegistrationsBaseUrl</code> - –ø—Ä–µ—Ñ–∏–∫—Å –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –º—ã –±—É–¥–µ–º –∑–∞–±–∏—Ä–∞—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞ –∏ –µ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é</li>\n<li><code class=\"language-text\">PackageBaseAddress</code> - –ø—Ä–µ—Ñ–∏–∫—Å –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –º—ã –±—É–¥–µ–º –∑–∞–±–∏—Ä–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–µ—Ä—Å–∏–π –ø–∞–∫–µ—Ç–∞</li>\n</ul>\n<p>–ü—Ä–∏–º–µ—Ä—ã —Å—Å—ã–ª–æ–∫ –¥–ª—è <code class=\"language-text\">Microsoft.Extensions.Caching.StackExchangeRedis</code> –≤–µ—Ä—Å–∏–∏ <code class=\"language-text\">7.0.0</code>:</p>\n<ul>\n<li><a href=\"https://api.nuget.org/v3-flatcontainer/microsoft.extensions.caching.stackexchangeredis/index.json\">versions</a> - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–µ—Ä—Å–∏–π, –Ω–∞–º —ç—Ç–æ –Ω—É–∂–Ω–æ –≤ —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –≤–µ—Ä—Å–∏—è –Ω–µ –∑–∞–¥–∞–Ω–∞ —è–≤–Ω–æ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è wildcard</li>\n<li><a href=\"https://api.nuget.org/v3/registration5-gz-semver2/microsoft.extensions.caching.stackexchangeredis/7.0.0.json\">registration</a> - —Ç—É—Ç –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç <code class=\"language-text\">packageContent</code> —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å—Å—ã–ª–∫—É –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏ <code class=\"language-text\">catalogEntry</code> —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –¥–µ—Ç–∞–ª–∏ –æ –ø–∞–∫–µ—Ç–µ, –æ—Ç–∫—É–¥–∞ –º—ã –∑–∞–±–µ—Ä–µ–º –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Ö—ç—à —Å—É–º–º—É —Å–∫–∞—á–∏–≤–∞–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞</li>\n<li><a href=\"https://api.nuget.org/v3/catalog0/data/2022.11.07.17.59.38/microsoft.extensions.caching.stackexchangeredis.7.0.0.json\">catalog</a> - —Ç—É—Ç –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç <code class=\"language-text\">dependencyGroups</code> —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ <code class=\"language-text\">packageHash</code></li>\n</ul>\n<h2>How it works</h2>\n<p>–ò–º–µ—è –∏—Å–∫–æ–º—ã–π –ø–∞–∫–µ—Ç –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –≤–µ—Ä—Å–∏—é –º—ã —Ö–æ—Ç–∏–º:</p>\n<ul>\n<li>–µ—Å–ª–∏ –≤–µ—Ä—Å–∏—è –Ω–µ –∑–∞–¥–∞–Ω–∞, –≤—ã—Ç—è–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–µ—Ä—Å–∏–π –∏ –≤–∑—è—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é —Å—Ç–∞–±–∏–ª—å–Ω—É—é</li>\n<li>–µ—Å–ª–∏ –≤–µ—Ä—Å–∏—è –∑–∞–¥–∞–Ω–∞ —Å–æ –∑–≤–µ–∑–¥–æ—á–∫–æ–π - –≤—ã—Ç—è–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –≤–µ—Ä—Å–∏–π –∏ –≤–∑—è—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –ø–æ–¥—Ö–æ–¥—è—â—É—é</li>\n<li>–∏—Ç–µ—Ä–∏—Ä—É—è—Å—å –ø–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º –ø—Ä–µ—Ñ–∏–∫—Å–∞–º, –∑–∞–±—Ä–∞—Ç—å <a href=\"https://api.nuget.org/v3/registration5-gz-semver2/microsoft.extensions.caching.stackexchangeredis/7.0.0.json\">registration</a> –∏ <a href=\"https://api.nuget.org/v3/catalog0/data/2022.11.07.17.59.38/microsoft.extensions.caching.stackexchangeredis.7.0.0.json\">catalog</a> –¥–ª—è –∏—Å–∫–æ–º–æ–π –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–∞</li>\n<li>–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –µ–≥–æ —Ö—ç—à–∞, –≤ —Å–ª—É—á–∞–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª</li>\n<li>—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–∞–∫–µ—Ç–∞</li>\n</ul>\n<blockquote>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ø–æ—Å–∫–æ–ª—å–∫—É –ø–∞–∫–µ—Ç–æ–≤ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –Ω—É –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –∏ –ø–æ –∫–æ–Ω—Ü–æ–≤–∫–µ –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–µ –∫–æ–ª-–≤–æ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π, –¥–∞–±—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ–∂–µ –¥–ª—è —É—Å–ª–æ–≤–Ω–æ–≥–æ System.Test.Whatever –±—ã–ª–æ –±—ã –Ω–µ –ø–ª–æ—Ö–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤, –∏–Ω–∞—á–µ –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–Ω–∏–º–∞–µ—Ç –≤–µ—á–Ω–æ—Å—Ç—å</p>\n</blockquote>\n<h2>PowerShell implementation v0.1</h2>\n<p>–£ –º–µ–Ω—è –ø–æ–ª—É—á–∏–ª–æ—Å—å –≤–æ—Ç —Ç–∞–∫–æ–µ (–Ω–µ –ø—Ä–µ—Ç–µ–Ω–¥—É—é –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞, –±–æ –¥–µ–ª–∞–ª–æ—Å—å –Ω–∞ –∫–æ–ª–µ–Ω–∫–µ –µ—â–µ –∏ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º —á—Ç–æ –±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏, –¥–∞ –∏ —Å–¥–µ–ª–∞—Ç—å —Ç–æ –º–æ–∂–Ω–æ –Ω–∞ C# –∏–ª–∏ –Ω–∞ —á–µ–º —É–≥–æ–¥–Ω–æ, —Ç—É—Ç —É–∂–µ –∫–∞–∂–¥—ã–π —Å–∞–º —Å–µ–±–µ –ø–æ–≤–∞—Ä –∏ –≥–æ—Ç–æ–≤–∏—Ç –∫–∞–∫ –∑–∞—Ö–æ—á–µ—Ç)</p>\n<div class=\"gatsby-highlight\" data-language=\"ps1\"><pre class=\"language-ps1\"><code class=\"language-ps1\">function NuCache($package, $version) {\n    $dir = &#39;/Users/mac/nucache&#39;\n\n    if (-not $global:NuCacheRegistrationsBaseUrls) {\n        $global:NuCacheRegistrationsBaseUrls = Invoke-RestMethod &#39;https://api.nuget.org/v3/index.json&#39; | Select-Object -ExpandProperty resources | Where-Object { $\\_.&#39;@type&#39;.StartsWith(&#39;RegistrationsBaseUrl&#39;) } | Select-Object -ExpandProperty &#39;@id&#39; -Unique\n    }\n    if (-not $global:NuCachePackageBaseAddress) {\n        $global:NuCachePackageBaseAddress = Invoke-RestMethod &#39;https://api.nuget.org/v3/index.json&#39; | Select-Object -ExpandProperty resources | Where-Object &#39;@type&#39; -EQ &#39;PackageBaseAddress/3.0.0&#39; | Select-Object -ExpandProperty &#39;@id&#39;\n    }\n    if (-not $global:NuCacheRegistrations) {\n        $global:NuCacheRegistrations = @{}\n    }\n    if (-not $global:NuCacheVersions) {\n        $global:NuCacheVersions = @{}\n    }\n    if (-not $global:NuCacheCatalogEntries) {\n        $global:NuCacheCatalogEntries = @{}\n    }\n\n    $package = $package.ToLower()\n\n    if ($version -and $version -match &#39;^\\\\\\[\\\\d+\\\\.\\\\d+\\\\.\\\\d+,\\\\d+\\\\.\\\\d+\\\\.\\\\d+\\\\\\]$&#39;) {\n        $version = $version.Split(&#39;,&#39;)\\[0\\].Trim(&#39;\\[&#39;)\n    }\n\n    if (-not $version -or $version.Contains(&#39;\\*&#39;)) {\n        if (-not $global:NuCacheVersions\\[$package\\]) {\n            $global:NuCacheVersions\\[$package\\] = Invoke-RestMethod &quot;$($global:NuCachePackageBaseAddress)$($package)/index.json&quot; | Select-Object -ExpandProperty versions\n            Write-Host &quot;$package - $($global:NuCacheVersions\\[$package\\].Count) versions retrieved&quot;\n        }\n        $last = $global:NuCacheVersions\\[$package\\] | Where-Object { -not $\\_.Contains(&#39;-&#39;) } | Select-Object -Last 1\n        if (-not $last) {\n            $last = $global:NuCacheVersions\\[$package\\] | Select-Object -Last 1\n        }\n        if ($version -and $version.Contains(&#39;\\*&#39;)) {\n            $wildcard = $global:NuCacheVersions\\[$package\\] | Where-Object { $\\_ -match $version } | Select-Object -Last 1\n            if ($wildcard) {\n                $version = $wildcard\n            } else {\n                $version = $last\n            }\n        } else {\n            $version = $last\n        }\n    }\n\n    $file = &quot;$($package).$($version).nupkg&quot;\n    $target = Join-Path -Path $dir -ChildPath $file\n\n    if (-not $global:NuCacheRegistrations\\[$file\\]) {\n        $registration = $null\n        foreach($registrationsBaseUrl in $global:NuCacheRegistrationsBaseUrls) {\n            try {\n                $registration = Invoke-RestMethod &quot;$($registrationsBaseUrl)$($package)/$($version).json&quot;\n                Write-Host &quot;$package $version - registration retrieved&quot;\n                break\n            } catch {}\n        }\n        $global:NuCacheRegistrations\\[$file\\] = $registration\n    }\n    if (-not $global:NuCacheRegistrations\\[$file\\]) {\n        if (-not $global:NuCacheVersions\\[$package\\]) {\n            $global:NuCacheVersions\\[$package\\] = Invoke-RestMethod &quot;$($global:NuCachePackageBaseAddress)$($package)/index.json&quot; | Select-Object -ExpandProperty versions\n            Write-Host &quot;$package - $($global:NuCacheVersions\\[$package\\].Count) versions retrieved&quot;\n        }\n        $v = $global:NuCacheVersions\\[$package\\] | Where-Object { $\\_ -match \\[regex\\]::Replace($version, &quot;\\\\.\\\\d+$&quot;, &quot;&quot;) } | Select-Object -Last 1\n        if (-not $v) {\n            $v = $global:NuCacheVersions\\[$package\\] | Where-Object { $\\_ -match \\[regex\\]::Replace($version, &quot;\\\\.\\\\d+\\\\.\\\\d+$&quot;, &quot;&quot;) } | Select-Object -Last 1\n        }\n        if (-not $v) {\n            $v = $global:NuCacheVersions\\[$package\\] | Where-Object { $\\_ -match \\[regex\\]::Replace($version, &quot;\\\\d+$&quot;, &quot;&quot;) } | Select-Object -Last 1\n        }\n        if ($v) {\n            NuCache $package $v\n        } else {\n            Write-Host &quot;$package $version - not found&quot;\n        }\n        return\n    }\n\n    if (-not $global:NuCacheCatalogEntries.ContainsKey($file)) {\n        $global:NuCacheCatalogEntries\\[$file\\] = Invoke-RestMethod $global:NuCacheRegistrations\\[$file\\].catalogEntry\n    }\n\n    $exists = Test-Path $target\n    if ($exists) {\n        $alg = $global:NuCacheCatalogEntries\\[$file\\].packageHashAlgorithm\n        $wantedHash = $global:NuCacheCatalogEntries\\[$file\\].packageHash\n        if ($alg -eq &#39;SHA512&#39;) {\n            $hasher = \\[System.Security.Cryptography.SHA512\\]::Create()\n        } elseif ($alg -eq &#39;SHA256&#39;) {\n            $hasher = \\[System.Security.Cryptography.SHA256\\]::Create()\n        } elseif ($alg -eq &#39;SHA1&#39;) {\n            $hasher = \\[System.Security.Cryptography.SHA1\\]::Create()\n        } elseif ($alg -eq &#39;MD5&#39;) {\n            $hasher = \\[System.Security.Cryptography.MD5\\]::Create()\n        } else {\n            Write-Host &quot;Unknown $alg for $package $version&quot;\n        }\n        if ($hasher) {\n            $stream = \\[System.IO.File\\]::OpenRead($target)\n            $bytes = $hasher.ComputeHash($stream)\n            $actualHash = \\[System.Convert\\]::ToBase64String($bytes)\n            $stream.Dispose()\n            $hasher.Dispose()\n            if ($actualHash -ne $wantedHash) {\n                $exists = $false\n            }\n        }\n    }\n\n    if (-not $exists) {\n        $ProgressPreference = &#39;SilentlyContinue&#39;    # Subsequent calls do not display UI.\n        Invoke-WebRequest -Uri ($global:NuCacheRegistrations\\[$file\\].packageContent) -OutFile $target\n        $ProgressPreference = &#39;Continue&#39;            # Subsequent calls do display UI.\n        Write-Host &quot;$package $version - downloaded&quot;\n    } else {\n        # Write-Host &quot;$package $version - exists&quot;\n    }\n\n    $deps = $global:NuCacheCatalogEntries\\[$file\\] | Select-Object -ExpandProperty dependencyGroups -ErrorAction SilentlyContinue | Where-Object dependencies -NE $null | Select-Object -ExpandProperty dependencies | Select-Object id, range -Unique | Select-Object @{n=&#39;Package&#39;;e={ $\\_.id.ToLower() }}, @{n=&#39;Version&#39;;e={ $\\_.range.Split(&#39;,&#39;)\\[0\\].TrimStart(&#39;\\[&#39;).TrimStart(&#39;(&#39;) }}\n    foreach($d in $deps) {\n        $df = &quot;$($d.Package).$($d.Version).nupkg&quot;\n        $dt = Join-Path -Path $dir -ChildPath $df\n        if (Test-Path $dt) {\n            # Write-Host &quot;$($d.Package) $($d.Version) - exists&quot;\n            continue\n        }\n        NuCache $d.Package $d.Version\n    }\n}</code></pre></div>\n<p>–°–æ–æ—Ç–≤ —Å —ç—Ç–æ–π —Ñ-–∏–µ–π –º–æ–∂–Ω–æ:</p>\n<div class=\"gatsby-highlight\" data-language=\"ps1\"><pre class=\"language-ps1\"><code class=\"language-ps1\"># download concrete package version and all its dependencies\nNuCache &#39;Microsoft.Extensions.Caching.StackExchangeRedis&#39; &#39;7.0.0&#39;\n\n# download latest version and all its dependencies\nNuCache &#39;Newtonsoft.Json&#39;\n\n–ù—É –∏ –æ—Å—Ç–∞–µ—Ç—Å—è —Å–æ–±—Ä–∞—Ç—å –≤—Å–µ –≤ –∫—É—á—É –ø–æ —Ç–∏–ø—É —Ç–∞–∫–æ–≥–æ:\n\n$packages = @(\n    # list of wanted low level packages that are somehow were not listed/downloaded\n    \\[PSCustomObject\\]@{ Package = &#39;Microsoft.AspNetCore.App.Ref&#39;; Version = $null },\n    \\[PSCustomObject\\]@{ Package = &#39;Microsoft.NETCore.App.Ref&#39;; Version = $null },\n    \\[PSCustomObject\\]@{ Package = &#39;Microsoft.AspNetCore.App.Ref&#39;; Version = &#39;6.0.11&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Microsoft.NETCore.App.Ref&#39;; Version = &#39;6.0.11&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Microsoft.AspNetCore.App.Ref&#39;; Version = &#39;5.0.0&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Microsoft.NETCore.App.Ref&#39;; Version = &#39;5.0.0&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Microsoft.AspNetCore.App.Ref&#39;; Version = &#39;3.1.0&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Microsoft.NETCore.App.Ref&#39;; Version = &#39;3.1.0&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Microsoft.AspNetCore.App.Ref&#39;; Version = &#39;3.1.10&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Microsoft.NETCore.App.Ref&#39;; Version = &#39;3.1.10&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;System.Reflection.Extensions&#39;; Version = &#39;4.3.0&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;System.Reflection.Emit&#39;; Version = &#39;4.6.0&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;System.Reflection.Emit.Lightweight&#39;; Version = &#39;4.6.0&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;System.Reflection.Metadata&#39;; Version = &#39;1.4.1&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;System.Reflection.Metadata&#39;; Version = &#39;1.3.0&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Namotion.Reflection&#39;; Version = $null },\n    \\[PSCustomObject\\]@{ Package = &#39;Namotion.Reflection&#39;; Version = &#39;1.0.8&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Namotion.Reflection&#39;; Version = &#39;1.0.11&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Namotion.Reflection&#39;; Version = &#39;1.0.15&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Namotion.Reflection&#39;; Version = &#39;2.0.9&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Namotion.Reflection&#39;; Version = &#39;2.1.0&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Namotion.Reflection&#39;; Version = &#39;2.1.1&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Microsoft.NETCore.App.Host.osx-x64&#39;; Version = &#39;5.0.17&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Microsoft.NETCore.App.Host.osx-x64&#39;; Version = &#39;3.1.31&#39; },\n\n    \\[PSCustomObject\\]@{ Package = &#39;Microsoft.Extensions.Hosting.Abstractions&#39;; Version = &#39;7.0.0&#39; },\n    \\[PSCustomObject\\]@{ Package = &#39;Microsoft.Extensions.Hosting.Abstractions&#39;; Version = &#39;6.0.0&#39; }\n)\n\n$directories = @(\n    &#39;~/Downloads/gitsearch/github.com/rabotaua&#39;,\n    &#39;~/github.com/rabotaua&#39;,\n    &#39;~/Desktop&#39;,\n    &#39;~/Downloads&#39;,\n    &#39;~/github.com/mac2000/notes&#39;\n)\n\nforeach($directory in $directories) {\n    $projects = Get-ChildItem -Path $directory -Recurse -Depth 4 -Include &#39;\\*.csproj&#39;\n    foreach($project in $projects) {\n        $xml = \\[xml\\](Get-Content $project.FullName)\n        foreach($reference in $xml.Project.ItemGroup.PackageReference) {\n            if (-not $reference) { continue }\n            $packages += \\[PSCustomObject\\]@{\n                Package = $reference.Include\n                Version = $reference.Version\n            }\n        }\n    }\n}\n$packages = $packages | Select-Object Package, Version -Unique\n\nforeach($item in $packages) {\n    NuCache $item.Package $item.Version\n}</code></pre></div>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:</p>\n<ul>\n<li>–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª-–≤–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å —á–∞—Å –¥—Ä—É–≥–æ–π, –≤ –º–æ–µ–º —Å–ª—É—á–∞–µ –≤—ã–∫–∞—á–∞–ª–æ—Å—å –æ–∫–æ–ª–æ 3.7K –æ–±—â–∏–º –≤–µ—Å–æ–º –≤ 4.2Gb</li>\n<li>–ø–æ –∫–∞–∫–∏–º —Ç–æ –ø—Ä–∏—á–∏–Ω–∞–º –ø–∞–∫–µ—Ç—ã –ø–æ —Ç–∏–ø—É <code class=\"language-text\">Microsoft.NETCore.App.Ref</code> –Ω–µ —á–∏—Å–ª—è—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –≤–æ—Ç —É–∂–µ –¥—É–º–∞–µ—à—å –º–æ–ª –≤—Å–µ –æ–∫, –≤—ã–∫–ª—é—á–∞—é—Ç —Å–≤–µ—Ç\\–∏–Ω—Ç–µ—Ä–Ω–µ—Ç, –∞ –æ–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Ç–æ–º—É –ª—É—á—à–µ –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–æ –º–µ—Å—Ç—É –Ω–∞ –∫–æ–Ω—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö</li>\n</ul>\n<h2>How to use</h2>\n<p>–ö–æ–º–∞–Ω–¥—ã –∫–æ—Ç–æ—Ä—ã–º–∏ –º–æ–∂–Ω–æ —Ç—É–¥–∞ —Å—é–¥–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># list sources</span>\ndotnet nuget list <span class=\"token builtin class-name\">source</span>\n\n<span class=\"token comment\"># offline</span>\ndotnet nuget remove <span class=\"token builtin class-name\">source</span> nuget.org\ndotnet nuget <span class=\"token function\">add</span> <span class=\"token builtin class-name\">source</span> <span class=\"token string\">\"/Users/mac/nucache\"</span> <span class=\"token parameter variable\">--name</span><span class=\"token operator\">=</span>nucache\n\n<span class=\"token comment\"># online</span>\ndotnet nuget remove <span class=\"token builtin class-name\">source</span> nucache\ndotnet nuget <span class=\"token function\">add</span> <span class=\"token builtin class-name\">source</span> https://api.nuget.org/v3/index.json <span class=\"token parameter variable\">--name</span><span class=\"token operator\">=</span>nuget.org</code></pre></div>\n<h2>How to check</h2>\n<p>–£ —Å–µ–±—è —è –¥–µ–ª–∞–ª —Å–ª–µ–¥—É—é—â–µ–µ, –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># clean nuget cache</span>\ndotnet nuget locals all <span class=\"token parameter variable\">--clear</span> <span class=\"token operator\">|</span> <span class=\"token function\">tail</span> <span class=\"token parameter variable\">-n</span> <span class=\"token number\">1</span>\n<span class=\"token comment\"># clear all bin, obj, packages, ... in repo</span>\n<span class=\"token function\">git</span> clean <span class=\"token parameter variable\">-fdX</span> <span class=\"token operator\">></span> /dev/null\n\ndotnet restore</code></pre></div>\n<p>–ò –≤ —Å–ª—É—á–∞–µ –Ω–∞–ª–∏—á–∏—è –æ—à–∏–±–æ–∫ –≤ —Ä–µ—Å—Ç–æ—Ä–µ, –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–ª ‚Äú–ø—Ä–æ–±–ª–µ–º–Ω—ã–µ‚Äù –ø–∞–∫–µ—Ç—ã –≤ —Å–ø–∏—Å–æ–∫ –≤—ã–∫–∞—á–∏–≤–∞–ª–∫–∏ –∏ –∑–∞—Ç—è–≥–∏–≤–∞–ª –∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–º</p>\n<h2>Alternative approaches</h2>\n<p>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–¥–Ω—è—Ç—å –∫—ç—à–∏—Ä—É—é—â—É—é –ø—Ä–æ–∫—Å—é, —Ç–æ—Ç –∂–µ nginx, –Ω–æ —Ç–∞–º –µ—Å—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º–∏, –ø–ª—é—Å –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∫–∞–∫ —Ç–æ —Å–∫—Ä–∏–ø—Ç–æ–≤–∞—Ç—å –≤—ã–∫–∞—á–∫—É –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –ø—Ä–æ—á–µ–≥–æ.</p>\n<p>–ú–æ–∂–Ω–æ –Ω–∞–∫–∞–ª—è–∫–∞—Ç—å —Å–≤–æ—é –ø—Ä–æ–∫—Å—é –Ω–∞ C#, Golang –Ω–æ –Ω–µ—Ç —Å–º—ã—Å–ª–∞ —Ç.–∫. –±—É–¥–µ—Ç —Ç–∞ –∂–µ –∏—Å—Ç–æ—Ä–∏—è —á—Ç–æ –∏ —Å nginx</p>\n<p>–ï—Å–ª–∏ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –Ω–∞ C# –º–æ–∂–Ω–æ –∑–∞—é–∑–∞—Ç—å <a href=\"https://learn.microsoft.com/en-us/nuget/reference/nuget-client-sdk\">–∫–ª–∏–µ–Ω—Ç–∞</a> —Ç–∞–º –∫—É—á–∞ –ø–ª—é—à–µ–∫ –∏–∑ –∫–æ—Ä–æ–±–∫–∏.</p>\n<h2>Side effect observations</h2>\n<p>–ü–∞—Ä—É –ª—é–±–æ–ø—ã—Ç–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤, –≤—ã—Ç—è–Ω—É–ª –≤—Å–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –∏–∑ –Ω–∏—Ö –≤—Å–µ –ø–∞–∫–µ—Ç—ã</p>\n<p>–í—Å–µ–≥–æ –≤ –≤—ã–±–æ—Ä–∫–µ 667 –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ 1302 –ø–∞–∫–µ—Ç–∞</p>\n<h2>Top 10 packages</h2>\n<ol>\n<li>Newtonsoft.Json - 123</li>\n<li>Dapper - 84</li>\n<li>Rabota.Data.SqlClient - 84</li>\n<li>AutoMapper - 72</li>\n<li>Rabota.Kafka.Events - 66</li>\n<li>Microsoft.NET.Test.Sdk - 64</li>\n<li>Microsoft.ApplicationInsights - 63</li>\n<li>xunit - 62</li>\n<li>xunit.runner.visualstudio - 62</li>\n<li>coverlet.collector - 61</li>\n</ol>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:</p>\n<ul>\n<li>–ª—é–±–æ–ø—ã—Ç–Ω–æ —á—Ç–æ Newtonsoft.Json –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ, —Ö–æ—Ç—è –∫–∞–∑–∞–ª–æ—Å—å –±—ã –¥–∞–≤–Ω–æ —É–∂–µ –≤—Å–µ –Ω–∞ System.Test.Json</li>\n<li>–≤ —Ç–æ–ø 10 –ø–æ–ø–∞–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Ö–æ—Ç—è —Ç–µ—Å—Ç–æ–≤ —Ç–æ –æ—Å–æ–±–æ –∫–∞–∫ –±—ã –Ω–µ —à–∏–±–∫–æ –º–Ω–æ–≥–æ</li>\n</ul>\n<h2>Top 10 versions</h2>\n<ol>\n<li>Newtonsoft.Json.13.0.1 - 55</li>\n<li>xunit.2.4.1 - 43</li>\n<li>Rabota.Data.SqlClient.3.0.10 - 40</li>\n<li>AutoMapper.10.1.1 - 39</li>\n<li>Polly.Extensions.Http.3.0.0 - 38</li>\n<li>xunit.runner.visualstudio.2.4.3 - 38</li>\n<li>Dapper.2.0.123 - 37</li>\n<li>Newtonsoft.Json.12.0.3 - 31</li>\n<li>Rabota.Cors.1.* - 28</li>\n<li>AutoMapper.Extensions.Microsoft.DependencyInjection.8.1.1 - 25</li>\n</ol>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ø–æ–Ω—è—Ç–Ω–æ–µ –¥–µ–ª–æ —á—Ç–æ —ç—Ç–æ—Ç —Å–ø–∏—Å–∫–æ –∫–∞–∂–µ—Ç—å—Å—è —Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω—ã–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–ª—å–∑—ã, –Ω–æ —Å–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –∏–¥–µ—Ç –ø—Ä—è–º–æ —Å–ª–µ–¥–æ–º</p>\n<h2>Top 10 spread/outdated</h2>\n<ol>\n<li>Rabota.Kafka.Events - 20</li>\n<li>Microsoft.AspNetCore.Authentication.JwtBearer - 18</li>\n<li>NEST - 18</li>\n<li>AWSSDK.S3 - 18</li>\n<li>Microsoft.AspNetCore.Mvc.Testing - 16</li>\n<li>NSwag.CodeGeneration.CSharp - 15</li>\n<li>NSwag.MSBuild - 15</li>\n<li>Microsoft.ApplicationInsights.AspNetCore - 15</li>\n<li>StackExchange.Redis - 15</li>\n<li>Microsoft.Extensions.Http.Polly - 14</li>\n</ol>\n<h2>Sample of spreaded/outdated package</h2>\n<ul>\n<li>Rabota.Kafka.Events 1.* - 24</li>\n<li>Rabota.Kafka.Events 1.4.56 - 2</li>\n<li>Rabota.Kafka.Events 1.4.* - 14</li>\n<li>Rabota.Kafka.Events 1.4.10 - 2</li>\n<li>Rabota.Kafka.Events 1.4.4 - 1</li>\n<li>Rabota.Kafka.Events 1.2.4 - 4</li>\n<li>Rabota.Kafka.Events 1.2.59 - 2</li>\n<li>Rabota.Kafka.Events 1.4.1 - 2</li>\n<li>Rabota.Kafka.Events 1.4.43 - 1</li>\n<li>Rabota.Kafka.Events 1.4.55 - 2</li>\n<li>Rabota.Kafka.Events 1.2.* - 1</li>\n<li>Rabota.Kafka.Events 1.4.51 - 1</li>\n<li>Rabota.Kafka.Events 1.2.38 - 2</li>\n<li>Rabota.Kafka.Events 1.4.54 - 2</li>\n<li>Rabota.Kafka.Events 1.4.18 - 1</li>\n<li>Rabota.Kafka.Events 1.3.67 - 1</li>\n<li>Rabota.Kafka.Events 1.2.57 - 1</li>\n<li>Rabota.Kafka.Events 1.2.37 - 1</li>\n<li>Rabota.Kafka.Events 1.4.50 - 1</li>\n<li>Rabota.Kafka.Events 1.4.25 - 1</li>\n</ul>\n<p>–í–æ—Ç —Ç–∞–∫–∏–µ –ª—é–±–æ–ø—ã—Ç–Ω—ã–µ –ø–∏—Ä–æ–≥–∏</p>"}},"pageContext":{"id":"803212dc-1ffc-5bdc-90e6-7bf8674038f6"}},"staticQueryHashes":[],"slicesMap":{}}