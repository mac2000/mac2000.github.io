{"componentChunkName":"component---src-templates-note-js","path":"/ubuntu-vpn-server","result":{"data":{"remark":{"fields":{"path":"ubuntu-vpn-server"},"meta":{"title":""},"headings":[{"value":"Ubuntu as VPN server"}],"html":"<h1>Ubuntu as VPN server</h1>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> pptpd</code></pre></div>\n<p>Edit <code class=\"language-text\">/etc/pptpd.conf</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">bcrelay venet0:0\nlocalip 192.168.78.1\nremoteip 192.168.78.100-110</code></pre></div>\n<p>Edit <code class=\"language-text\">/etc/ppp/chap-secrets</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">mac pptpd 123 * # login, server, password, ip</code></pre></div>\n<p>Edit <code class=\"language-text\">/etc/rc.local</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># PPTP IP forwarding\niptables -t nat -A POSTROUTING -o venet0:0 -j MASQUERADE\nexit 0</code></pre></div>\n<p>You can run this command without reboot.</p>\n<p>Edit <code class=\"language-text\">/etc/sysctl.conf</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">net.ipv4.ip_forward=1</code></pre></div>\n<p>To write value without reboot use:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo sysctl -w net.ipv4.ip_forward=1</code></pre></div>"}},"pageContext":{"id":"189863b9-b93e-5700-9690-445a5ad992c3"}},"staticQueryHashes":[]}