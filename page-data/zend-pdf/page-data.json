{"componentChunkName":"component---src-templates-note-js","path":"/zend-pdf/","result":{"data":{"remark":{"fields":{"path":"zend-pdf"},"meta":{"title":""},"headings":[{"value":"Zend PDF"}],"html":"<h1>Zend PDF</h1>\n<p><a href=\"http://framework.zend.com/manual/ru/zend.pdf.html\">http://framework.zend.com/manual/ru/zend.pdf.html</a></p>\n<p><a href=\"http://devzone.zend.com/article/2525\">http://devzone.zend.com/article/2525</a></p>\n<p><a href=\"http://agoln.net/archives/81\">http://agoln.net/archives/81</a></p>\n<h2>Пример:</h2>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">require_once</span> <span class=\"token string single-quoted-string\">'Zend/Loader/Autoloader.php'</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$autoloader</span> <span class=\"token operator\">=</span> <span class=\"token class-name static-context\">Zend_Loader_Autoloader</span><span class=\"token operator\">::</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$pdf</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Zend_Pdf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token property\">properties</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'Title'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"TITLE\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token property\">properties</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'Author'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"AUTHOR\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$page</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token class-name static-context\">Zend_Pdf_Page</span><span class=\"token operator\">::</span><span class=\"token constant\">SIZE_A4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token property\">pages</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$page_width</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">getWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// A4 : 595</span>\n<span class=\"token variable\">$page_height</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">getHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// A4 : 842</span>\n\n<span class=\"token variable\">$font</span> <span class=\"token operator\">=</span> <span class=\"token class-name static-context\">Zend_Pdf_Font</span><span class=\"token operator\">::</span><span class=\"token function\">fontWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'arial.ttf'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">setFont</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$font</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">drawText</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'Hello World!'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$page_height</span> <span class=\"token operator\">-</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'UTF-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//$color = new Zend_Pdf_Color_Html('#3366FF');</span>\n<span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">setLineWidth</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">drawLine</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$page_height</span> <span class=\"token operator\">-</span> <span class=\"token number\">25</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$page_width</span> <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$page_height</span> <span class=\"token operator\">-</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$image</span> <span class=\"token operator\">=</span> <span class=\"token class-name static-context\">Zend_Pdf_Image</span><span class=\"token operator\">::</span><span class=\"token function\">imageWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'img.jpg'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$imgWidth</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$image</span><span class=\"token operator\">-></span><span class=\"token function\">getPixelWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$imgHeight</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$image</span><span class=\"token operator\">-></span><span class=\"token function\">getPixelHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$x1</span> <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$y1</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page_height</span> <span class=\"token operator\">-</span> <span class=\"token variable\">$image</span><span class=\"token operator\">-></span><span class=\"token function\">getPixelWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$x2</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$x1</span> <span class=\"token operator\">+</span> <span class=\"token variable\">$image</span><span class=\"token operator\">-></span><span class=\"token function\">getPixelWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$y2</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$y1</span> <span class=\"token operator\">+</span> <span class=\"token variable\">$image</span><span class=\"token operator\">-></span><span class=\"token function\">getPixelHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$image</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$x1</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$y1</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$x2</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$y2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'tmp.pdf'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$pdfData</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"Content-Disposition: inline; filename=result.pdf\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"Content-type: application/x-pdf\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">echo</span> <span class=\"token variable\">$pdfData</span><span class=\"token punctuation\">;</span></span></code></pre></div>\n<h2>Wrap:</h2>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token keyword\">require_once</span> <span class=\"token string single-quoted-string\">'Zend/Loader/Autoloader.php'</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$autoloader</span> <span class=\"token operator\">=</span> <span class=\"token class-name static-context\">Zend_Loader_Autoloader</span><span class=\"token operator\">::</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$pdf</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Zend_Pdf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token property\">properties</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'Title'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"TITLE\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token property\">properties</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'Author'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"AUTHOR\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$page</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token class-name static-context\">Zend_Pdf_Page</span><span class=\"token operator\">::</span><span class=\"token constant\">SIZE_A4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token property\">pages</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$page_width</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">getWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// A4 : 595</span>\n<span class=\"token variable\">$page_height</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">getHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// A4 : 842</span>\n\n<span class=\"token variable\">$font</span> <span class=\"token operator\">=</span> <span class=\"token class-name static-context\">Zend_Pdf_Font</span><span class=\"token operator\">::</span><span class=\"token function\">fontWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'arial.ttf'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">setFont</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$font</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">drawText</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'Hello World!'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$page_height</span> <span class=\"token operator\">-</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'UTF-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//$color = new Zend_Pdf_Color_Html('#3366FF');</span>\n<span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">setLineWidth</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">drawLine</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$page_height</span> <span class=\"token operator\">-</span> <span class=\"token number\">25</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$page_width</span> <span class=\"token operator\">-</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$page_height</span> <span class=\"token operator\">-</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$wrap_txt</span> <span class=\"token operator\">=</span> <span class=\"token function\">file_get_contents</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'wrap.txt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$text</span> <span class=\"token operator\">=</span> <span class=\"token function\">wordwrap</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$wrap_txt</span><span class=\"token punctuation\">,</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span> <span class=\"token string double-quoted-string\">\"\\r\\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$token</span> <span class=\"token operator\">=</span> <span class=\"token function\">strtok</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$text</span><span class=\"token punctuation\">,</span> <span class=\"token string double-quoted-string\">\"\\r\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$y</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page_height</span> <span class=\"token operator\">-</span> <span class=\"token number\">60</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">setFont</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$font</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$token</span> <span class=\"token operator\">!=</span> <span class=\"token constant boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$y</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token property\">pages</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$page</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token class-name static-context\">Zend_Pdf_Page</span><span class=\"token operator\">::</span><span class=\"token constant\">SIZE_A4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">setFont</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$font</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token variable\">$y</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page_height</span> <span class=\"token operator\">-</span> <span class=\"token number\">60</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">drawText</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$token</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$y</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'UTF-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token variable\">$y</span><span class=\"token operator\">-=</span><span class=\"token number\">20</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token variable\">$token</span> <span class=\"token operator\">=</span> <span class=\"token function\">strtok</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"\\r\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'wrap.pdf'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$pdfData</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"Content-Disposition: inline; filename=result.pdf\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"Content-type: application/x-pdf\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">echo</span> <span class=\"token variable\">$pdfData</span><span class=\"token punctuation\">;</span></span></code></pre></div>\n<h2>Center:</h2>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token keyword\">require_once</span> <span class=\"token string single-quoted-string\">'Zend/Loader/Autoloader.php'</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$autoloader</span> <span class=\"token operator\">=</span> <span class=\"token class-name static-context\">Zend_Loader_Autoloader</span><span class=\"token operator\">::</span><span class=\"token function\">getInstance</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$pdf</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Zend_Pdf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$page</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token class-name static-context\">Zend_Pdf_Page</span><span class=\"token operator\">::</span><span class=\"token constant\">SIZE_A4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token property\">pages</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$page_width</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">getWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// A4 : 595</span>\n<span class=\"token variable\">$page_height</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">getHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// A4 : 842</span>\n\n<span class=\"token variable\">$font</span> <span class=\"token operator\">=</span> <span class=\"token class-name static-context\">Zend_Pdf_Font</span><span class=\"token operator\">::</span><span class=\"token function\">fontWithPath</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'arial.ttf'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">setFont</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$font</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$w</span> <span class=\"token operator\">=</span> <span class=\"token function\">widthForStringUsingFontSize</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'Hello World!'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$font</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$page</span><span class=\"token operator\">-></span><span class=\"token function\">drawText</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'Hello World!'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$page_width</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> <span class=\"token variable\">$w</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$page_height</span> <span class=\"token operator\">-</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'UTF-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'center.pdf'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$pdfData</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$pdf</span><span class=\"token operator\">-></span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"Content-Disposition: inline; filename=result.pdf\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"Content-type: application/x-pdf\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">echo</span> <span class=\"token variable\">$pdfData</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n* Returns the total width in points of the string using the specified\n    font and\n* size.\n*\n* This is not the most efficient way to perform this calculation. I'm\n* concentrating optimization efforts on the upcoming layout manager\n    class.\n* Similar calculations exist inside the layout manager class, but\n    widths are\n* generally calculated only after determining line fragments.\n*\n* @param string $string\n* @param Zend_Pdf_Resource_Font $font\n* @param float $fontSize Font size in points\n* @return float\n*/</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">widthForStringUsingFontSize</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$string</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$font</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$fontSize</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$drawingString</span> <span class=\"token operator\">=</span> <span class=\"token function\">iconv</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'UTF-8'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'UTF-16BE//IGNORE'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$string</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$characters</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$i</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token variable\">$i</span> <span class=\"token operator\">&lt;</span> <span class=\"token function\">strlen</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$drawingString</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token variable\">$i</span><span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$characters</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token function\">ord</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$drawingString</span><span class=\"token punctuation\">[</span><span class=\"token variable\">$i</span><span class=\"token operator\">++</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token number\">8</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">|</span> <span class=\"token class-name\">ord</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$drawingString</span><span class=\"token punctuation\">[</span><span class=\"token variable\">$i</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token variable\">$glyphs</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$font</span><span class=\"token operator\">-></span><span class=\"token function\">glyphNumbersForCharacters</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$characters</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$widths</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$font</span><span class=\"token operator\">-></span><span class=\"token function\">widthsForGlyphs</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$glyphs</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$stringWidth</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token function\">array_sum</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$widths</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token variable\">$font</span><span class=\"token operator\">-></span><span class=\"token function\">getUnitsPerEm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token variable\">$fontSize</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$stringWidth</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<h2>dompdf</h2>\n<p>Так же нашел либу dompdf которая генерить pdf прямо из html’а. Но к сожалению возникает целаю куча проблем с кирилицей, так же полученый pdf выглядит криво.</p>\n<p><a href=\"http://code.google.com/p/dompdf/\">http://code.google.com/p/dompdf/</a></p>\n<p><a href=\"http://chernev.ru/dompdf.rar\">http://chernev.ru/dompdf.rar</a></p>"}},"pageContext":{"id":"3a3b475a-0477-5514-8fec-93a6f794d4f4"}},"staticQueryHashes":[],"slicesMap":{}}