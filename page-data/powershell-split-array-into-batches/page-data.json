{"componentChunkName":"component---src-templates-note-js","path":"/powershell-split-array-into-batches/","result":{"data":{"remark":{"fields":{"path":"powershell-split-array-into-batches"},"meta":{"title":""},"headings":[{"value":"powershell split array into batches"}],"html":"<h1>powershell split array into batches</h1>\n<div class=\"gatsby-highlight\" data-language=\"ps1\"><pre class=\"language-ps1\"><code class=\"language-ps1\"># generate 220 items\n$items = @()\nforeach($i in 1..220) {\n    $items += @{\n        id = $i\n        name = &quot;company $i&quot;\n    }\n}\n$items.Count # 220\n\n# split array into batches\n$size = 100\n$batches = for($i=0; $i -lt $items.Count; $i+=$size){ ,($items[$i..($i+$size-1)])}\n\n$batches.Count # 3\n\n$batches[0] | select -First 1 id # 1\n$batches[0] | select -last 1 id # 100\n$batches[1] | select -First 1 id # 101\n$batches[1] | select -last 1 id # 200\n$batches[2] | select -First 1 id # 201\n$batches[2] | select -last 1 id # 22\n\n# process items in batches\nforeach($batch in $batches) {\n    foreach($item in $batch) {\n        # todo\n    }\n}</code></pre></div>"}},"pageContext":{"id":"4f9f2834-c118-5048-be79-b7a5dd79af69"}},"staticQueryHashes":[],"slicesMap":{}}