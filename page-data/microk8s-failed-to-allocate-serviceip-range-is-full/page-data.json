{"componentChunkName":"component---src-templates-note-js","path":"/microk8s-failed-to-allocate-serviceip-range-is-full/","result":{"data":{"remark":{"fields":{"path":"microk8s-failed-to-allocate-serviceip-range-is-full"},"meta":{"title":""},"headings":[{"value":"MicroK8S failed to allocate serviceip range is full"}],"html":"<h1>MicroK8S failed to allocate serviceip range is full</h1>\n<p>At some point we were not able to deploy services, in Octopus Deploy logs there was error: failed to allocate a serviceIP: range is full</p>\n<p>What is interesting <code class=\"language-text\">kubectl get svc -A | grep LoadBalancer | wc -l</code> shows little bit less than 200 services, so we are technically did not faced limit yet, but <code class=\"language-text\">kubectl get svc -A | wc -l</code> give us 254 which indead upper bound</p>\n<p>After digging in the problem was not in MetalLB as i was thinking initial, but in kubernetes settings, found in this <a href=\"https://github.com/ubuntu/microk8s/issues/1917\">ticket</a> changed <code class=\"language-text\">/var/snap/microk8s/current/args/kube-apiserver</code> and give him 16 bit mask instead of 24, after which restarted kube <code class=\"language-text\">sudo microk8s stop</code></p>"}},"pageContext":{"id":"2cc6e6ef-75f3-5429-8551-71e1ae6ec1d0"}},"staticQueryHashes":[],"slicesMap":{}}