{"componentChunkName":"component---src-templates-note-js","path":"/grunt-webfont-windows","result":{"data":{"remark":{"fields":{"path":"grunt-webfont-windows"},"meta":{"title":""},"headings":[{"value":"grunt-webfont on windows"}],"html":"<h1>grunt-webfont on windows</h1>\n<p>Unfortunatelly all modern ways to create icon fonts are not forking under windows, but they can still be used.</p>\n<p>Here is tricky way: we will use virtual machine with linux to run tools, the good thing is that this virtual machine is provisioned so can be up and running very fast, also you do not need to install 100500 of programs to your operating system.</p>\n<p>Requirements: Virtualbox, Vagrant</p>\n<p><strong>Vagrantfile</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">Vagrant<span class=\"token punctuation\">.</span>configure<span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"2\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>config<span class=\"token operator\">|</span>\n    config<span class=\"token punctuation\">.</span>vm<span class=\"token punctuation\">.</span>box <span class=\"token operator\">=</span> <span class=\"token string-literal\"><span class=\"token string\">\"ubuntu/trusty64\"</span></span>\n    config<span class=\"token punctuation\">.</span>vm<span class=\"token punctuation\">.</span>provision <span class=\"token symbol\">:shell</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">path</span><span class=\"token operator\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\"Provision.sh\"</span></span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<p><strong>Provision.sh</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/usr/bin/env bash</span>\n\n<span class=\"token comment\"># Use closest mirrors available</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">mv</span> /etc/apt/sources.list /etc/apt/sources.list.bak\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"deb mirror://mirrors.ubuntu.com/mirrors.txt trusty main restricted universe multiverse\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> <span class=\"token parameter variable\">--append</span> /etc/apt/sources.list\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"deb mirror://mirrors.ubuntu.com/mirrors.txt trusty-updates main restricted universe multiverse\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> <span class=\"token parameter variable\">--append</span> /etc/apt/sources.list\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"deb mirror://mirrors.ubuntu.com/mirrors.txt trusty-backports main restricted universe multiverse\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> <span class=\"token parameter variable\">--append</span> /etc/apt/sources.list\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"deb mirror://mirrors.ubuntu.com/mirrors.txt trusty-security main restricted universe multiverse\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> <span class=\"token parameter variable\">--append</span> /etc/apt/sources.list\n\n<span class=\"token comment\"># Node JS</span>\n<span class=\"token function\">sudo</span> add-apt-repository <span class=\"token parameter variable\">-y</span> ppa:chris-lea/node.js\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> update\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> nodejs fontforge\n\n<span class=\"token comment\"># ttfautohint - there is trouble with 0.9.7</span>\n<span class=\"token comment\"># *** Error in `ttfautohint': malloc(): memory corruption: 0x000000000153de20 ***</span>\n<span class=\"token comment\"># so we need to install new one from sources instead of packages</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> autoconf automake bison flex <span class=\"token function\">git</span> libtool perl build-essential libharfbuzz-dev pkg-config libfreetype6-dev libfreetype6\n\n<span class=\"token function\">git</span> clone git://repo.or.cz/ttfautohint.git\n<span class=\"token builtin class-name\">cd</span> ttfautohint\n<span class=\"token function\">git</span> checkout v1.1\n./bootstrap\n./configure --with-qt<span class=\"token operator\">=</span>no --with-doc<span class=\"token operator\">=</span>no\n<span class=\"token function\">make</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span>\n<span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">..</span>\n<span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rfv</span> ttfautohint/\n<span class=\"token function\">sudo</span> <span class=\"token function\">ln</span> <span class=\"token parameter variable\">-s</span> /usr/local/bin/ttfautohint /usr/bin/\n\n\n<span class=\"token function\">sudo</span> <span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">--global</span> grunt-cli\n\n<span class=\"token function\">ln</span> <span class=\"token parameter variable\">-s</span> /vagrant/package.json /home/vagrant/\n<span class=\"token function\">ln</span> <span class=\"token parameter variable\">-s</span> /vagrant/Gruntfile.js /home/vagrant/\n\n<span class=\"token builtin class-name\">cd</span> /home/vagrant\n\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span>\ngrunt</code></pre></div>\n<p>This two files will create and provision virtual machine and install all required software on it.</p>\n<p><strong>package.json</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"iconfont\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"grunt\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^0.4.5\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"grunt-webfont\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^0.4.8\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Gruntfile.js</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">grunt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  grunt<span class=\"token punctuation\">.</span><span class=\"token function\">initConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">webfont</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">icons</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token string\">'/vagrant/svg/*.svg'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">dest</span><span class=\"token operator\">:</span> <span class=\"token string\">'/vagrant/icons'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token literal-property property\">font</span><span class=\"token operator\">:</span> <span class=\"token string\">'ri'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">syntax</span><span class=\"token operator\">:</span> <span class=\"token string\">'bootstrap'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token comment\">//stylesheet: 'scss',</span>\n          <span class=\"token literal-property property\">relativeFontPath</span><span class=\"token operator\">:</span> <span class=\"token string\">'//css.rabota.com.ua/icons'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">htmlDemoTemplate</span><span class=\"token operator\">:</span> <span class=\"token string\">'/vagrant/template.html'</span><span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">templateOptions</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">classPrefix</span><span class=\"token operator\">:</span> <span class=\"token string\">'ri_'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">mixinPrefix</span><span class=\"token operator\">:</span> <span class=\"token string\">'ri_'</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  grunt<span class=\"token punctuation\">.</span><span class=\"token function\">loadNpmTasks</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grunt-webfont'</span><span class=\"token punctuation\">)</span>\n\n  grunt<span class=\"token punctuation\">.</span><span class=\"token function\">registerTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">'default'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'webfont'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>template.html</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>&lt;%= fontBaseName %><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n      <span class=\"token selector\">html</span> <span class=\"token punctuation\">{</span><span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> sans-serif<span class=\"token punctuation\">}</span>\n\n      <span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span><span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 2em auto<span class=\"token punctuation\">;</span> <span class=\"token property\">max-width</span><span class=\"token punctuation\">:</span> 60em<span class=\"token punctuation\">;</span> <span class=\"token property\">background</span><span class=\"token punctuation\">:</span>#F7F7F7<span class=\"token punctuation\">;</span> <span class=\"token property\">color</span><span class=\"token punctuation\">:</span>#333333<span class=\"token punctuation\">}</span>\n\n      <span class=\"token selector\">ul</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">list-style</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span> <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span> <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n\n          <span class=\"token property\">-webkit-column-count</span><span class=\"token punctuation\">:</span>5<span class=\"token punctuation\">;</span> <span class=\"token property\">-moz-column-count</span><span class=\"token punctuation\">:</span>5<span class=\"token punctuation\">;</span> <span class=\"token property\">column-count</span><span class=\"token punctuation\">:</span>5<span class=\"token punctuation\">;</span>\n          <span class=\"token property\">-webkit-column-gap</span><span class=\"token punctuation\">:</span>20px<span class=\"token punctuation\">;</span> <span class=\"token property\">-moz-column-gap</span><span class=\"token punctuation\">:</span>20px<span class=\"token punctuation\">;</span> <span class=\"token property\">column-gap</span><span class=\"token punctuation\">:</span>20px<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token selector\">li</span> <span class=\"token punctuation\">{</span><span class=\"token property\">line-height</span><span class=\"token punctuation\">:</span>2em<span class=\"token punctuation\">}</span>\n      <span class=\"token selector\">i</span> <span class=\"token punctuation\">{</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>inline-block<span class=\"token punctuation\">;</span> <span class=\"token property\">width</span><span class=\"token punctuation\">:</span>32px<span class=\"token punctuation\">;</span> <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span>center<span class=\"token punctuation\">;</span> <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 22px<span class=\"token punctuation\">}</span>\n\n      &lt;%= styles %>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>icons<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>icons<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      &lt;% for (var glyphIdx = 0; glyphIdx &lt; glyphs.length; glyphIdx++) { var glyph = glyphs[glyphIdx] %>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>&lt;%= classPrefix %>&lt;%= glyph %><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>i</span><span class=\"token punctuation\">></span></span>\n        &lt;%= classPrefix %>&lt;%= glyph %>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n      &lt;% } %>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>This last one is optional, if you want something cleaner than default one.</p>"}},"pageContext":{"id":"0cbbb96b-d7a3-58b5-8c0b-0c8d69e925a8"}},"staticQueryHashes":[]}