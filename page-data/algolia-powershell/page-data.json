{"componentChunkName":"component---src-templates-note-js","path":"/algolia-powershell/","result":{"data":{"remark":{"fields":{"path":"algolia-powershell"},"meta":{"title":""},"headings":[{"value":"Algolia API powershell"}],"html":"<h1>Algolia API powershell</h1>\n<p>For future reference saving samples of how to work with Algolia from powershell</p>\n<div class=\"gatsby-highlight\" data-language=\"ps1\"><pre class=\"language-ps1\"><code class=\"language-ps1\"># https://dashboard.algolia.com/account/api-keys/all\n$APPLICATION_ID = $env:ALGOLIA_APPLICATION_ID\n$SEARCH_ONLY_API_KEY = $env:SEARCH_ONLY_API_KEY\n$ADMIN_API_KEY = $env:ADMIN_API_KEY\n\n# https://www.algolia.com/doc/rest-api/search/#hosts\n$ADMIN_DOMAIN = &quot;$APPLICATION_ID.algolia.net&quot;\n$SEARCH_DOMAIN = &quot;$APPLICATION_ID-dsn.algolia.net&quot;\n\n$adminHeaders = @{\n    &quot;X-Algolia-API-Key&quot; = &quot;$ADMIN_API_KEY&quot;\n    &quot;X-Algolia-Application-Id&quot; = &quot;$APPLICATION_ID&quot;\n    &quot;Content-Type&quot; = &quot;application/json; charset=utf-8&quot;\n}\n\n$searchHeaders = @{\n    &quot;X-Algolia-API-Key&quot; = &quot;$SEARCH_ONLY_API_KEY&quot;\n    &quot;X-Algolia-Application-Id&quot; = &quot;$APPLICATION_ID&quot;\n    &quot;Content-Type&quot; = &quot;application/json; charset=utf-8&quot;\n}\n\n# https://www.algolia.com/doc/rest-api/search/#list-indices\nInvoke-RestMethod -Method Get &quot;https://$ADMIN_DOMAIN/1/indexes&quot; -Headers $adminHeaders | Select-Object -ExpandProperty items\n\n# https://www.algolia.com/doc/rest-api/search/#delete-index\nInvoke-RestMethod -Method Get &quot;https://$ADMIN_DOMAIN/1/indexes/talks&quot; -Headers $adminHeaders\n\n# https://www.algolia.com/doc/api-client/methods/manage-indices/#create-an-index\n# Algolia creates a new index when you add a new object or add a setting to an empty index for the first time\n\n# ----------------------------------------------------------\n\n# https://www.algolia.com/doc/rest-api/search/#add-or-replace-object\nInvoke-RestMethod -Method Post &quot;https://$ADMIN_DOMAIN/1/indexes/talks&quot; -Headers $adminHeaders -Body (ConvertTo-Json -Depth 100 -InputObject @{\n    objectID = &quot;1&quot; # optional, auto generated\n    title = &quot;My Talk&quot;\n    description = &quot;My Description&quot;\n})\n\n# https://www.algolia.com/doc/rest-api/search/#get-object\n# GET, DELETE, PUT\nInvoke-RestMethod -Method Get &quot;https://$SEARCH_DOMAIN/1/indexes/talks/1&quot; -Headers $searchHeaders\n\n# https://www.algolia.com/doc/rest-api/search/#search-index-get\nInvoke-RestMethod -Method Get &quot;https://$SEARCH_DOMAIN/1/indexes/talks?query=my&quot; -Headers $searchHeaders | Select-Object -ExpandProperty hits\n\n# https://www.algolia.com/doc/rest-api/search/#set-settings\n# https://www.algolia.com/doc/api-reference/settings-api-parameters/\nInvoke-RestMethod -Method Put &quot;https://$ADMIN_DOMAIN/1/indexes/talks/settings&quot; -Headers $adminHeaders -Body (ConvertTo-Json -Depth 100 -InputObject @{\n    searchableAttributes = @(&quot;title&quot;, &quot;description&quot;, &quot;transcript&quot;)\n    ignorePlurals = $true # Treats singular, plurals, and other forms of declensions as matching terms.\n    queryLanguages = @(&quot;en&quot;, &quot;ru&quot;, &quot;uk&quot;)\n    indexLanguages = @(&quot;en&quot;, &quot;ru&quot;, &quot;uk&quot;)\n})</code></pre></div>"}},"pageContext":{"id":"7ee89c6d-03e5-5445-bc2f-795ac2c6b20f"}},"staticQueryHashes":[],"slicesMap":{}}