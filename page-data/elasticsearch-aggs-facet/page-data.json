{"componentChunkName":"component---src-templates-note-js","path":"/elasticsearch-aggs-facet/","result":{"data":{"remark":{"fields":{"path":"elasticsearch-aggs-facet"},"meta":{"title":""},"headings":[{"value":"ElasticSearch Aggregations Facet"}],"html":"<h1>ElasticSearch Aggregations Facet</h1>\n<p>Example of \"extending\" facet for elastic</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">DELETE cars\n\nPOST cars/car\n{\n  \"title\": \"red audi\",\n  \"manufacturer\": \"audi\",\n  \"color\": \"red\"\n}\n\nPOST cars/car\n{\n  \"title\": \"red bmw\",\n  \"manufacturer\": \"bmw\",\n  \"color\": \"red\"\n}\n\nPOST cars/car\n{\n  \"title\": \"red zaz\",\n  \"manufacturer\": \"zaz\",\n  \"color\": \"red\"\n}\n\nPOST cars/car\n{\n  \"title\": \"blue audi\",\n  \"manufacturer\": \"audi\",\n  \"color\": \"blue\"\n}\n\nPOST cars/car\n{\n  \"title\": \"blue bmw\",\n  \"manufacturer\": \"bmw\",\n  \"color\": \"blue\"\n}\n\nPOST cars/car\n{\n  \"title\": \"blue zaz\",\n  \"manufacturer\": \"zaz\",\n  \"color\": \"blue\"\n}\n\nPOST cars/car\n{\n  \"title\": \"green audi\",\n  \"manufacturer\": \"audi\",\n  \"color\": \"green\"\n}\n\nPOST cars/car\n{\n  \"title\": \"green bmw\",\n  \"manufacturer\": \"bmw\",\n  \"color\": \"green\"\n}\n\nPOST cars/car\n{\n  \"title\": \"green zaz\",\n  \"manufacturer\": \"zaz\",\n  \"color\": \"green\"\n}\n\nPOST cars/_search\n{\n  \"query\": {\n    \"term\": {\n      \"manufacturer.keyword\": {\n        \"value\": \"zaz\"\n      }\n    }\n  },\n  \"post_filter\": {\n    \"term\": {\n      \"color.keyword\": \"green\"\n    }\n  },\n    \"aggs\" : {\n        \"all_colors\": {\n            \"terms\" : { \"field\" : \"color.keyword\" }\n        }\n    }\n}</code></pre></div>"}},"pageContext":{"id":"c3206b48-4e6a-5492-9012-4fdd5c13b80c"}},"staticQueryHashes":[],"slicesMap":{}}