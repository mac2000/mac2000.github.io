{"componentChunkName":"component---src-templates-note-js","path":"/asp-net-google-analytics-browsers-stats","result":{"data":{"remark":{"fields":{"path":"asp-net-google-analytics-browsers-stats"},"meta":{"title":""},"headings":[{"value":"Asp.net Google Analytics Browsers stats"}],"html":"<h1>Asp.net Google Analytics Browsers stats</h1>\n<p>Нужна была толковая аналитика по браузерам, analytics такой инфы не дает, пришлось набросать свое.</p>\n<p>Стандартный asp.net сайт.</p>\n<p>Для работы необходимо подключить: <code class=\"language-text\">Google.GData.Analytics</code>, <code class=\"language-text\">Google.GData.Client</code>, <code class=\"language-text\">Google.GData.Extensions</code>.</p>\n<p><a href=\"http://code.google.com/intl/ru-RU/apis/gdata/articles/dotnet_client_lib.html\">http://code.google.com/intl/ru-RU/apis/gdata/articles/dotnet_client_lib.html</a></p>\n<p><strong>Default.aspx</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span>@ <span class=\"token class-name\">Page</span> Language<span class=\"token operator\">=</span><span class=\"token string\">\"C#\"</span> AutoEventWireup<span class=\"token operator\">=</span><span class=\"token string\">\"true\"</span> CodeBehind<span class=\"token operator\">=</span><span class=\"token string\">\"Default.aspx.cs\"</span> Inherits<span class=\"token operator\">=</span><span class=\"token string\">\"browserstats._Default\"</span> <span class=\"token operator\">%</span><span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span>DOCTYPE html PUBLIC <span class=\"token string\">\"-//W3C//DTD XHTML 1.0 Transitional//EN\"</span> <span class=\"token string\">\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"</span><span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token class-name\">html</span> xmlns<span class=\"token operator\">=</span><span class=\"token string\">\"http://www.w3.org/1999/xhtml\"</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token class-name\">head</span> runat<span class=\"token operator\">=</span><span class=\"token string\">\"server\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>title<span class=\"token operator\">></span>browserstats<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>title<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token class-name\">style</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"text/css\"</span><span class=\"token operator\">></span>\n        html<span class=\"token punctuation\">,</span>body <span class=\"token punctuation\">{</span>padding<span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>margin<span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>overflow<span class=\"token punctuation\">:</span>hidden<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n        form <span class=\"token punctuation\">{</span>padding<span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>margin<span class=\"token punctuation\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n        <span class=\"token preprocessor property\">#browsers-filter-holder {position:absolute;top:1em;left:1em;background-color:#eee;padding:1em;}</span>\n        <span class=\"token preprocessor property\">#browsers-filter-</span><span class=\"token return-type class-name\">holder</span> a <span class=\"token punctuation\">{</span>diplay<span class=\"token punctuation\">:</span>block<span class=\"token punctuation\">;</span>text<span class=\"token operator\">-</span>decoration<span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span>border<span class=\"token operator\">-</span>bottom<span class=\"token punctuation\">:</span>1px dashed #0072bc<span class=\"token punctuation\">;</span>color<span class=\"token punctuation\">:</span>#0072bc<span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n        <span class=\"token preprocessor property\">#browsers-filter-holder {background:#FFFFFF;background: -moz-linear-gradient(top,#FFFFFF,#EEEEEE);background: -webkit-gradient(linear, left top, left bottom, from(#FFFFFF), to(#EEEEEE));filter: progid:DXImageTransform.Microsoft.gradient(enabled='true',startColorstr=#FFFFFF,endColorstr=#EEEEEE,GradientType=0);-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px;-moz-box-shadow: 0px 0px 5px #000000;-webkit-box-shadow: 0px 0px 5px #000000;box-shadow: 0px 0px 5px #000000;}</span>\n        <span class=\"token preprocessor property\">#browsers-filter-holder {filter:progid:DXImageTransform.Microsoft.Alpha(opacity=50);-moz-opacity: 0.5;-khtml-opacity: 0.5;opacity: 0.5;}</span>\n        <span class=\"token preprocessor property\">#browsers-filter-holder:hover {filter:progid:DXImageTransform.Microsoft.Alpha(opacity=100);-moz-opacity: 1;-khtml-opacity: 1;opacity: 1;}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token class-name\">script</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span> src<span class=\"token operator\">=</span><span class=\"token string\">\"https://www.google.com/jsapi\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token class-name\">script</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span><span class=\"token operator\">></span>\n        <span class=\"token return-type class-name\">function</span> <span class=\"token function\">toggle_filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> cnt <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>'browsers<span class=\"token operator\">-</span>filter<span class=\"token operator\">-</span>content'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>cnt<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\n            cnt<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>cnt<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">==</span> 'none'<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">?</span> 'block' <span class=\"token punctuation\">:</span> 'none'<span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>head<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>body<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token class-name\">form</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"form1\"</span> runat<span class=\"token operator\">=</span><span class=\"token string\">\"server\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token class-name\">div</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"browsers-filter-holder\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token class-name\">a</span> href<span class=\"token operator\">=</span><span class=\"token string\">\"javascript:void(0)\"</span> onclick<span class=\"token operator\">=</span><span class=\"token string\">\"toggle_filter()\"</span><span class=\"token operator\">></span>Filter results<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token class-name\">div</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"browsers-filter-content\"</span> style<span class=\"token operator\">=</span><span class=\"token string\">\"display:none;\"</span><span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>asp<span class=\"token punctuation\">:</span><span class=\"token class-name\">CheckBoxList</span> ID<span class=\"token operator\">=</span><span class=\"token string\">\"cblBrowsers\"</span> runat<span class=\"token operator\">=</span><span class=\"token string\">\"server\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>asp<span class=\"token punctuation\">:</span>CheckBoxList<span class=\"token operator\">></span>\n                <span class=\"token operator\">&lt;</span>asp<span class=\"token punctuation\">:</span><span class=\"token class-name\">Button</span> ID<span class=\"token operator\">=</span><span class=\"token string\">\"btnSubmit\"</span> runat<span class=\"token operator\">=</span><span class=\"token string\">\"server\"</span> onclick<span class=\"token operator\">=</span><span class=\"token string\">\"btnSubmit_Click\"</span> Text<span class=\"token operator\">=</span><span class=\"token string\">\"Submit\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token class-name\">div</span> id<span class=\"token operator\">=</span><span class=\"token string\">\"chart\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n\n        <span class=\"token operator\">&lt;</span><span class=\"token class-name\">script</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span><span class=\"token operator\">></span>\n            google<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"visualization\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>packages<span class=\"token punctuation\">:</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"corechart\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            google<span class=\"token punctuation\">.</span><span class=\"token function\">setOnLoadCallback</span><span class=\"token punctuation\">(</span>drawChart<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token return-type class-name\">function</span> <span class=\"token function\">drawChart</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">google<span class=\"token punctuation\">.</span>visualization<span class=\"token punctuation\">.</span>DataTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                <span class=\"token operator\">&lt;</span>asp<span class=\"token punctuation\">:</span><span class=\"token class-name\">Literal</span> ID<span class=\"token operator\">=</span><span class=\"token string\">\"ltJsData\"</span> runat<span class=\"token operator\">=</span><span class=\"token string\">\"server\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> windowWidth <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>innerWidth <span class=\"token punctuation\">?</span> window<span class=\"token punctuation\">.</span>innerWidth <span class=\"token punctuation\">:</span> document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span>clientWidth <span class=\"token punctuation\">?</span> document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span>clientWidth <span class=\"token punctuation\">:</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>clientWidth<span class=\"token punctuation\">;</span>\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> windowHeight <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>innerHeight <span class=\"token punctuation\">?</span> window<span class=\"token punctuation\">.</span>innerHeight <span class=\"token punctuation\">:</span> document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span>clientHeight <span class=\"token punctuation\">?</span> document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span>clientHeight <span class=\"token punctuation\">:</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>clientHeight<span class=\"token punctuation\">;</span>\n\n                <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> chart <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">google<span class=\"token punctuation\">.</span>visualization<span class=\"token punctuation\">.</span>LineChart</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>'chart'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                chart<span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n                            width<span class=\"token punctuation\">:</span> windowWidth<span class=\"token punctuation\">,</span>\n                            <span class=\"token named-parameter punctuation\">height</span><span class=\"token punctuation\">:</span> windowHeight<span class=\"token punctuation\">,</span>\n                            <span class=\"token named-parameter punctuation\">title</span><span class=\"token punctuation\">:</span> 'rabota<span class=\"token punctuation\">.</span>ua browsers'<span class=\"token punctuation\">,</span>\n                            <span class=\"token named-parameter punctuation\">hAxis</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">:</span> 'Month'<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                            <span class=\"token named-parameter punctuation\">vAxis</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">:</span> <span class=\"token char\">'%'</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">minValue</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token named-parameter punctuation\">maxValue</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                            <span class=\"token named-parameter punctuation\">lineWidth</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n                            <span class=\"token named-parameter punctuation\">pointSize</span><span class=\"token punctuation\">:</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span>\n\n                            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span></code></pre></div>\n<p><strong>Default.aspx.cs</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Collections<span class=\"token punctuation\">.</span>Generic</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Linq</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Web</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Web<span class=\"token punctuation\">.</span>UI</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Web<span class=\"token punctuation\">.</span>UI<span class=\"token punctuation\">.</span>WebControls</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Google<span class=\"token punctuation\">.</span>GData<span class=\"token punctuation\">.</span>Analytics</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Google<span class=\"token punctuation\">.</span>GData<span class=\"token punctuation\">.</span>Client</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Text<span class=\"token punctuation\">.</span>RegularExpressions</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Globalization</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Data</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Text</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>IO</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Runtime<span class=\"token punctuation\">.</span>Serialization<span class=\"token punctuation\">.</span>Formatters<span class=\"token punctuation\">.</span>Binary</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">namespace</span> <span class=\"token namespace\">browserstats</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">partial</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">_Default</span> <span class=\"token punctuation\">:</span> <span class=\"token type-list\"><span class=\"token class-name\">System<span class=\"token punctuation\">.</span>Web<span class=\"token punctuation\">.</span>UI<span class=\"token punctuation\">.</span>Page</span></span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> LOGIN <span class=\"token operator\">=</span> <span class=\"token string\">\"LOGIN@gmail.com\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> PASSWORD <span class=\"token operator\">=</span> <span class=\"token string\">\"PASSWORD\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> SITE_ID <span class=\"token operator\">=</span> <span class=\"token string\">\"ga:2266524\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\"><span class=\"token keyword\">int</span></span> MIN_PERCENTS <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> CACHE_KEY <span class=\"token operator\">=</span> <span class=\"token string\">\"rabota_ua_browser_stats\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> DATATABLE_OBJ_PATH <span class=\"token operator\">=</span> HttpContext<span class=\"token punctuation\">.</span>Current<span class=\"token punctuation\">.</span>Server<span class=\"token punctuation\">.</span><span class=\"token function\">MapPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"~/DataTable.obj\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">protected</span> <span class=\"token return-type class-name\">DataTable</span> <span class=\"token function\">Get_DataTable</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">bool</span></span> flushCache<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token class-name\">DataTable</span> dt<span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>flushCache <span class=\"token operator\">||</span> DateTime<span class=\"token punctuation\">.</span>Now<span class=\"token punctuation\">.</span>Month <span class=\"token operator\">!=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">FileInfo</span><span class=\"token punctuation\">(</span>DATATABLE_OBJ_PATH<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>LastWriteTime<span class=\"token punctuation\">.</span>Month<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                dt <span class=\"token operator\">=</span> <span class=\"token function\">Read_Data_From_Analytics</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token class-name\">Stream</span> stream <span class=\"token operator\">=</span> File<span class=\"token punctuation\">.</span><span class=\"token function\">Open</span><span class=\"token punctuation\">(</span>DATATABLE_OBJ_PATH<span class=\"token punctuation\">,</span> FileMode<span class=\"token punctuation\">.</span>Create<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token class-name\">BinaryFormatter</span> bFormatter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">BinaryFormatter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                bFormatter<span class=\"token punctuation\">.</span><span class=\"token function\">Serialize</span><span class=\"token punctuation\">(</span>stream<span class=\"token punctuation\">,</span> dt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                stream<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">else</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">Stream</span> stream <span class=\"token operator\">=</span> File<span class=\"token punctuation\">.</span><span class=\"token function\">Open</span><span class=\"token punctuation\">(</span>DATATABLE_OBJ_PATH<span class=\"token punctuation\">,</span> FileMode<span class=\"token punctuation\">.</span>Open<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token class-name\">BinaryFormatter</span> bFormatter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">BinaryFormatter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                dt <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>DataTable<span class=\"token punctuation\">)</span>bFormatter<span class=\"token punctuation\">.</span><span class=\"token function\">Deserialize</span><span class=\"token punctuation\">(</span>stream<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                stream<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">return</span> dt<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">protected</span> <span class=\"token return-type class-name\">DataTable</span> <span class=\"token function\">Read_Data_From_Analytics</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token class-name\">AnalyticsService</span> service <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">AnalyticsService</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rabota_ua_browser_stats\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            service<span class=\"token punctuation\">.</span><span class=\"token function\">setUserCredentials</span><span class=\"token punctuation\">(</span>LOGIN<span class=\"token punctuation\">,</span> PASSWORD<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> start_date <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DateTime</span><span class=\"token punctuation\">(</span>DateTime<span class=\"token punctuation\">.</span>Now<span class=\"token punctuation\">.</span><span class=\"token function\">AddYears</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Year<span class=\"token punctuation\">,</span> DateTime<span class=\"token punctuation\">.</span>Now<span class=\"token punctuation\">.</span>Month<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yyyy-MM-dd\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> end_date <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DateTime</span><span class=\"token punctuation\">(</span>DateTime<span class=\"token punctuation\">.</span>Now<span class=\"token punctuation\">.</span>Year<span class=\"token punctuation\">,</span> DateTime<span class=\"token punctuation\">.</span>Now<span class=\"token punctuation\">.</span>Month<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"yyyy-MM-dd\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span>DataFeed<span class=\"token punctuation\">></span></span> feeds <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">List<span class=\"token punctuation\">&lt;</span>DataFeed<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> queryUri <span class=\"token operator\">=</span> <span class=\"token string\">\"https://www.google.com/analytics/feeds/data\"</span> <span class=\"token operator\">+</span>\n                                <span class=\"token string\">\"?start-date=\"</span> <span class=\"token operator\">+</span> start_date <span class=\"token operator\">+</span>\n                                <span class=\"token string\">\"&amp;end-date=\"</span> <span class=\"token operator\">+</span> end_date <span class=\"token operator\">+</span>\n                                <span class=\"token string\">\"&amp;dimensions=ga:month,ga:browser,ga:browserVersion\"</span> <span class=\"token operator\">+</span>\n                                <span class=\"token string\">\"&amp;metrics=ga:pageviews\"</span> <span class=\"token operator\">+</span>\n                                <span class=\"token string\">\"&amp;sort=ga:month\"</span> <span class=\"token operator\">+</span>\n                                <span class=\"token string\">\"&amp;max-results=10000\"</span> <span class=\"token operator\">+</span>\n                                <span class=\"token string\">\"&amp;filters=ga:browserVersion!%3D(not%20set);ga:browserVersion!~%5E0;ga:browser%3D%3DFirefox,ga:browser%3D%3DOpera,ga:browser%3D%3DChrome,ga:browser%3D%3DInternet%20Explorer\"</span> <span class=\"token operator\">+</span>\n                                <span class=\"token string\">\"&amp;ids=\"</span> <span class=\"token operator\">+</span> SITE_ID<span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>queryUri <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">DataFeed</span> dataFeed <span class=\"token operator\">=</span> service<span class=\"token punctuation\">.</span><span class=\"token function\">Query</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataQuery</span><span class=\"token punctuation\">(</span>queryUri<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                feeds<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>dataFeed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                queryUri <span class=\"token operator\">=</span> dataFeed<span class=\"token punctuation\">.</span>NextChunk<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span>slice<span class=\"token punctuation\">></span></span> slices <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">List<span class=\"token punctuation\">&lt;</span>slice<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">DataFeed</span> dataFeed <span class=\"token keyword\">in</span> feeds<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">AtomEntry</span> item <span class=\"token keyword\">in</span> dataFeed<span class=\"token punctuation\">.</span>Entries<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> month <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>DataEntry<span class=\"token punctuation\">)</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Dimensions<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Value<span class=\"token punctuation\">;</span>\n                    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> browser <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>DataEntry<span class=\"token punctuation\">)</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Dimensions<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Value<span class=\"token punctuation\">;</span>\n                    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> browserVersion <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>DataEntry<span class=\"token punctuation\">)</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Dimensions<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Value<span class=\"token punctuation\">;</span>\n                    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> pageViews <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>DataEntry<span class=\"token punctuation\">)</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Metrics<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>Value<span class=\"token punctuation\">;</span>\n\n                    browserVersion <span class=\"token operator\">=</span> Regex<span class=\"token punctuation\">.</span><span class=\"token function\">Replace</span><span class=\"token punctuation\">(</span>browserVersion<span class=\"token punctuation\">,</span> <span class=\"token string\">@\"(\\d+).*\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"$1\"</span><span class=\"token punctuation\">,</span> RegexOptions<span class=\"token punctuation\">.</span>IgnoreCase<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                    <span class=\"token class-name\"><span class=\"token keyword\">int</span></span> bv <span class=\"token operator\">=</span> <span class=\"token keyword\">int</span><span class=\"token punctuation\">.</span><span class=\"token function\">Parse</span><span class=\"token punctuation\">(</span>browserVersion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>bv <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token operator\">||</span> bv <span class=\"token operator\">></span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">continue</span><span class=\"token punctuation\">;</span>\n\n                    <span class=\"token class-name\"><span class=\"token keyword\">double</span></span> pv <span class=\"token operator\">=</span> <span class=\"token keyword\">double</span><span class=\"token punctuation\">.</span><span class=\"token function\">Parse</span><span class=\"token punctuation\">(</span>pageViews<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                    slices<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">slice</span><span class=\"token punctuation\">(</span>month<span class=\"token punctuation\">,</span> browser<span class=\"token punctuation\">,</span> bv<span class=\"token punctuation\">,</span> pv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            feeds <span class=\"token operator\">=</span> <span class=\"token keyword\">default</span><span class=\"token punctuation\">(</span><span class=\"token type-expression class-name\">List<span class=\"token punctuation\">&lt;</span>DataFeed<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\">//group results by month, browser and browserVersion and sum pageViews</span>\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> q <span class=\"token operator\">=</span> <span class=\"token keyword\">from</span> x <span class=\"token keyword\">in</span> slices\n                    <span class=\"token keyword\">group</span> x <span class=\"token keyword\">by</span> <span class=\"token keyword\">new</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">.</span>browserVersion <span class=\"token punctuation\">}</span> <span class=\"token keyword\">into</span> g\n                    <span class=\"token keyword\">select</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">slice</span><span class=\"token punctuation\">(</span>g<span class=\"token punctuation\">.</span>Key<span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">,</span> g<span class=\"token punctuation\">.</span>Key<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">,</span> g<span class=\"token punctuation\">.</span>Key<span class=\"token punctuation\">.</span>browserVersion<span class=\"token punctuation\">,</span> g<span class=\"token punctuation\">.</span><span class=\"token function\">Sum</span><span class=\"token punctuation\">(</span>s <span class=\"token operator\">=></span> s<span class=\"token punctuation\">.</span>pageViews<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\">//group results by month and sum pageViews</span>\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> pageViewsByMonth <span class=\"token operator\">=</span> <span class=\"token keyword\">from</span> x <span class=\"token keyword\">in</span> slices\n                                    <span class=\"token keyword\">group</span> x <span class=\"token keyword\">by</span> x<span class=\"token punctuation\">.</span>month <span class=\"token keyword\">into</span> g\n                                    <span class=\"token keyword\">select</span> <span class=\"token keyword\">new</span> <span class=\"token punctuation\">{</span> month <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span>Key<span class=\"token punctuation\">,</span> pageViews <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span><span class=\"token function\">Sum</span><span class=\"token punctuation\">(</span>s <span class=\"token operator\">=></span> s<span class=\"token punctuation\">.</span>pageViews<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\">//group results by browser and sum pageViews</span>\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> pageViewsByBrowser <span class=\"token operator\">=</span> <span class=\"token keyword\">from</span> x <span class=\"token keyword\">in</span> slices\n                                        <span class=\"token keyword\">group</span> x <span class=\"token keyword\">by</span> <span class=\"token keyword\">new</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">.</span>browser <span class=\"token punctuation\">}</span> <span class=\"token keyword\">into</span> g\n                                        <span class=\"token keyword\">select</span> <span class=\"token keyword\">new</span> <span class=\"token punctuation\">{</span> month <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span>Key<span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">,</span> browser <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span>Key<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">,</span> pageViews <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span><span class=\"token function\">Sum</span><span class=\"token punctuation\">(</span>s <span class=\"token operator\">=></span> s<span class=\"token punctuation\">.</span>pageViews<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\">//group results by browser and version and sum pageViews</span>\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> pageViewsByBrowserVersion <span class=\"token operator\">=</span> <span class=\"token keyword\">from</span> x <span class=\"token keyword\">in</span> slices\n                                            <span class=\"token keyword\">group</span> x <span class=\"token keyword\">by</span> <span class=\"token keyword\">new</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">.</span>browserVersion <span class=\"token punctuation\">}</span> <span class=\"token keyword\">into</span> g\n                                            <span class=\"token keyword\">select</span> <span class=\"token keyword\">new</span> <span class=\"token punctuation\">{</span> month <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span>Key<span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">,</span> browser <span class=\"token operator\">=</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{0} {1}\"</span><span class=\"token punctuation\">,</span> g<span class=\"token punctuation\">.</span>Key<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">,</span> g<span class=\"token punctuation\">.</span>Key<span class=\"token punctuation\">.</span>browserVersion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> pageViews <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span><span class=\"token function\">Sum</span><span class=\"token punctuation\">(</span>s <span class=\"token operator\">=></span> s<span class=\"token punctuation\">.</span>pageViews<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\">//join grouped results for browsers and their versions</span>\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> totalStatsByBrowsers <span class=\"token operator\">=</span> pageViewsByBrowser<span class=\"token punctuation\">.</span><span class=\"token function\">Union</span><span class=\"token punctuation\">(</span>pageViewsByBrowserVersion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">OrderBy</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">=></span> x<span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ThenByDescending</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">=></span> x<span class=\"token punctuation\">.</span>pageViews<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\">//convert pageviews to percents</span>\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> totalStatsByBrowsersPercentage <span class=\"token operator\">=</span> <span class=\"token keyword\">from</span> x <span class=\"token keyword\">in</span> totalStatsByBrowsers\n                                                    <span class=\"token keyword\">where</span> <span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">Round</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">.</span>pageViews <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>pageViewsByMonth<span class=\"token punctuation\">.</span><span class=\"token function\">First</span><span class=\"token punctuation\">(</span>m <span class=\"token operator\">=></span> m<span class=\"token punctuation\">.</span>month <span class=\"token operator\">==</span> x<span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>pageViews <span class=\"token operator\">/</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> MIN_PERCENTS\n                                                    <span class=\"token keyword\">select</span> <span class=\"token keyword\">new</span> <span class=\"token punctuation\">{</span> month <span class=\"token operator\">=</span> CultureInfo<span class=\"token punctuation\">.</span>CurrentCulture<span class=\"token punctuation\">.</span>DateTimeFormat<span class=\"token punctuation\">.</span><span class=\"token function\">GetMonthName</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">.</span><span class=\"token function\">Parse</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> browser <span class=\"token operator\">=</span> x<span class=\"token punctuation\">.</span>browser<span class=\"token punctuation\">,</span> percent <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">Round</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">.</span>pageViews <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>pageViewsByMonth<span class=\"token punctuation\">.</span><span class=\"token function\">First</span><span class=\"token punctuation\">(</span>m <span class=\"token operator\">=></span> m<span class=\"token punctuation\">.</span>month <span class=\"token operator\">==</span> x<span class=\"token punctuation\">.</span>month<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>pageViews <span class=\"token operator\">/</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\">//grouped month names</span>\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> tm <span class=\"token operator\">=</span> <span class=\"token keyword\">from</span> x <span class=\"token keyword\">in</span> totalStatsByBrowsersPercentage\n                        <span class=\"token keyword\">group</span> x <span class=\"token keyword\">by</span> x<span class=\"token punctuation\">.</span>month <span class=\"token keyword\">into</span> g\n                        <span class=\"token keyword\">select</span> g<span class=\"token punctuation\">.</span>Key<span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\">//grouped browser names</span>\n            <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> tb <span class=\"token operator\">=</span> <span class=\"token keyword\">from</span> x <span class=\"token keyword\">in</span> totalStatsByBrowsersPercentage\n                        <span class=\"token keyword\">group</span> x <span class=\"token keyword\">by</span> x<span class=\"token punctuation\">.</span>browser <span class=\"token keyword\">into</span> g\n                        <span class=\"token keyword\">orderby</span> g<span class=\"token punctuation\">.</span>Key\n                        <span class=\"token keyword\">select</span> g<span class=\"token punctuation\">.</span>Key<span class=\"token punctuation\">;</span>\n\n            <span class=\"token class-name\">DataTable</span> dt <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataTable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataColumn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Month\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">typeof</span><span class=\"token punctuation\">(</span><span class=\"token type-expression class-name\"><span class=\"token keyword\">string</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> b <span class=\"token keyword\">in</span> tb<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DataColumn</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">,</span> <span class=\"token keyword\">typeof</span><span class=\"token punctuation\">(</span><span class=\"token type-expression class-name\"><span class=\"token keyword\">double</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> m <span class=\"token keyword\">in</span> tm<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">DataRow</span> dr <span class=\"token operator\">=</span> dt<span class=\"token punctuation\">.</span><span class=\"token function\">NewRow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                dr<span class=\"token punctuation\">[</span><span class=\"token string\">\"Month\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> m<span class=\"token punctuation\">;</span>\n\n                <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> b <span class=\"token keyword\">in</span> tb<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                    <span class=\"token class-name\"><span class=\"token keyword\">var</span></span> o <span class=\"token operator\">=</span> totalStatsByBrowsersPercentage<span class=\"token punctuation\">.</span><span class=\"token function\">FirstOrDefault</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">=></span> x<span class=\"token punctuation\">.</span>month <span class=\"token operator\">==</span> m <span class=\"token operator\">&amp;&amp;</span> x<span class=\"token punctuation\">.</span>browser <span class=\"token operator\">==</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> p <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>o <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">?</span> <span class=\"token string\">\"0\"</span> <span class=\"token punctuation\">:</span> o<span class=\"token punctuation\">.</span>percent<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                    dr<span class=\"token punctuation\">[</span>b<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> p<span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n\n                dt<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span>dr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">return</span> dt<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">protected</span> <span class=\"token return-type class-name\">List<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">Build_Browsers_Filter</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataTable</span> dt<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span> browsers <span class=\"token operator\">=</span> <span class=\"token function\">Build_Browsers_List</span><span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span> browsersFilter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">List<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>IsPostBack<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                browsersFilter <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">from</span> x <span class=\"token keyword\">in</span> cblBrowsers<span class=\"token punctuation\">.</span>Items<span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">Cast</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span>ListItem<span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                                    <span class=\"token keyword\">where</span> <span class=\"token class-name\">x</span><span class=\"token punctuation\">.</span>Selected\n                                    <span class=\"token keyword\">select</span> x<span class=\"token punctuation\">.</span>Value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">ToList</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">//browsersFilter = browsers;</span>\n                browsersFilter<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Internet Explorer\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                browsersFilter<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Internet Explorer 6\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                browsersFilter<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Internet Explorer 7\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                browsersFilter<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Internet Explorer 8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                browsersFilter<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Firefox\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                browsersFilter<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Opera\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                browsersFilter<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Chrome\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">return</span> browsersFilter<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">protected</span> <span class=\"token return-type class-name\">List<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">Build_Browsers_List</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DataTable</span> dt<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">from</span> x <span class=\"token keyword\">in</span> dt<span class=\"token punctuation\">.</span>Columns<span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">Cast</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span>DataColumn<span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token keyword\">where</span> <span class=\"token class-name\">x</span><span class=\"token punctuation\">.</span>ColumnName <span class=\"token operator\">!=</span> <span class=\"token string\">\"Month\"</span>\n                    <span class=\"token keyword\">select</span> x<span class=\"token punctuation\">.</span>ColumnName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token generic-method\"><span class=\"token function\">ToList</span><span class=\"token generic class-name\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">protected</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">Page_Load</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">object</span></span> sender<span class=\"token punctuation\">,</span> <span class=\"token class-name\">EventArgs</span> e<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token class-name\">DataTable</span> dt<span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>HttpContext<span class=\"token punctuation\">.</span>Current<span class=\"token punctuation\">.</span>Cache<span class=\"token punctuation\">[</span>CACHE_KEY<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                dt <span class=\"token operator\">=</span> <span class=\"token function\">Get_DataTable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//TODO: add ability to flush cache</span>\n                HttpContext<span class=\"token punctuation\">.</span>Current<span class=\"token punctuation\">.</span>Cache<span class=\"token punctuation\">[</span>CACHE_KEY<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> dt<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">else</span>\n            <span class=\"token punctuation\">{</span>\n                dt <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>DataTable<span class=\"token punctuation\">)</span>HttpContext<span class=\"token punctuation\">.</span>Current<span class=\"token punctuation\">.</span>Cache<span class=\"token punctuation\">[</span>CACHE_KEY<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span> browsers <span class=\"token operator\">=</span> <span class=\"token function\">Build_Browsers_List</span><span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span> browsersFilter <span class=\"token operator\">=</span> <span class=\"token function\">Build_Browsers_Filter</span><span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token class-name\">StringBuilder</span> sb <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            sb<span class=\"token punctuation\">.</span><span class=\"token function\">AppendLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data.addColumn('string', 'Month');\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> b <span class=\"token keyword\">in</span> browsersFilter<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                sb<span class=\"token punctuation\">.</span><span class=\"token function\">AppendLine</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data.addColumn('number', '{0}');\"</span><span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            sb<span class=\"token punctuation\">.</span><span class=\"token function\">AppendLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            sb<span class=\"token punctuation\">.</span><span class=\"token function\">AppendLine</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data.addRows(12);\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            sb<span class=\"token punctuation\">.</span><span class=\"token function\">AppendLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> r <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> r <span class=\"token operator\">&lt;</span> dt<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">.</span>Count<span class=\"token punctuation\">;</span> r<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">{</span>\n                sb<span class=\"token punctuation\">.</span><span class=\"token function\">AppendLine</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data.setValue({0}, 0, '{1}');\"</span><span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">,</span> dt<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"Month\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> browsersFilter<span class=\"token punctuation\">.</span>Count<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">{</span>\n                    sb<span class=\"token punctuation\">.</span><span class=\"token function\">AppendLine</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data.setValue({0}, {1}, {2});\"</span><span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dt<span class=\"token punctuation\">.</span>Rows<span class=\"token punctuation\">[</span>r<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>browsersFilter<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                sb<span class=\"token punctuation\">.</span><span class=\"token function\">AppendLine</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            ltJsData<span class=\"token punctuation\">.</span>Text <span class=\"token operator\">=</span> sb<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            cblBrowsers<span class=\"token punctuation\">.</span>DataSource <span class=\"token operator\">=</span> browsers<span class=\"token punctuation\">;</span>\n            cblBrowsers<span class=\"token punctuation\">.</span><span class=\"token function\">DataBind</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">protected</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">void</span></span> <span class=\"token function\">btnSubmit_Click</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">object</span></span> sender<span class=\"token punctuation\">,</span> <span class=\"token class-name\">EventArgs</span> e<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">slice</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">public</span> <span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">string</span></span> Month<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> Browser<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">int</span></span> BrowserVersion<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">double</span></span> PageViews<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">{</span>\n            month <span class=\"token operator\">=</span> Month<span class=\"token punctuation\">;</span>\n            browser <span class=\"token operator\">=</span> Browser<span class=\"token punctuation\">;</span>\n            browserVersion <span class=\"token operator\">=</span> BrowserVersion<span class=\"token punctuation\">;</span>\n            pageViews <span class=\"token operator\">=</span> PageViews<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> month<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> browser<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">int</span></span> browserVersion<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">public</span> <span class=\"token class-name\"><span class=\"token keyword\">double</span></span> pageViews<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Собственно вот как это все выглядит:</p>\n<p><a href=\"http://www.youtube.com/watch?v=blqlUJ-KYY4\"><img src=\"http://img.youtube.com/vi/blqlUJ-KYY4/0.jpg\" alt=\"video\"></a></p>"}},"pageContext":{"id":"a83479bb-2489-5e20-bcaa-5d750ded68e9"}},"staticQueryHashes":[]}