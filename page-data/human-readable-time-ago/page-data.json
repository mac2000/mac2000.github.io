{"componentChunkName":"component---src-templates-note-js","path":"/human-readable-time-ago/","result":{"data":{"remark":{"fields":{"path":"human-readable-time-ago"},"meta":{"title":""},"headings":[{"value":"Human readable time ago"}],"html":"<h1>Human readable time ago</h1>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">echo</span> <span class=\"token function\">ago</span><span class=\"token punctuation\">(</span><span class=\"token function\">time</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">3452</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// will return: 58 минут назад</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">ago</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$timestamp</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$difference</span> <span class=\"token operator\">=</span> <span class=\"token function\">time</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token variable\">$timestamp</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$periods</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n        <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'секунду'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'секурнды'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'секунд'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'минуту'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'минуты'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'минут'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'час'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'часа'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'часов'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'день'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'дня'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'дней'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'неделю'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'недели'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'недель'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'месяц'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'месяца'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'месяцев'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'год'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'года'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'лет'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'десятилетие'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'десятилетий'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'десятилетий'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token variable\">$lengths</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'60'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'60'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'24'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'7'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'4.35'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'12'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'10'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$j</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token variable\">$difference</span> <span class=\"token operator\">>=</span> <span class=\"token variable\">$lengths</span><span class=\"token punctuation\">[</span><span class=\"token variable\">$j</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token variable\">$j</span><span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n        <span class=\"token variable\">$difference</span> <span class=\"token operator\">/=</span> <span class=\"token variable\">$lengths</span><span class=\"token punctuation\">[</span><span class=\"token variable\">$j</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token variable\">$difference</span> <span class=\"token operator\">=</span> <span class=\"token function\">round</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$difference</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token variable\">$cases</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$text</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$periods</span><span class=\"token punctuation\">[</span><span class=\"token variable\">$j</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$difference</span><span class=\"token operator\">%</span><span class=\"token number\">100</span><span class=\"token operator\">></span><span class=\"token number\">4</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token variable\">$difference</span><span class=\"token operator\">%</span><span class=\"token number\">100</span><span class=\"token operator\">&lt;</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span> <span class=\"token number\">2</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$cases</span><span class=\"token punctuation\">[</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$difference</span><span class=\"token operator\">%</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$difference</span><span class=\"token operator\">.</span><span class=\"token string single-quoted-string\">' '</span><span class=\"token operator\">.</span><span class=\"token variable\">$text</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">' назад'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<p>Реализация на .net</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">string</span></span> <span class=\"token function\">timeAgo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DateTime</span> date<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>date <span class=\"token operator\">==</span> DateTime<span class=\"token punctuation\">.</span>Now<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token string\">\"только что\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\"><span class=\"token keyword\">double</span></span> difference <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">Abs</span><span class=\"token punctuation\">(</span> <span class=\"token punctuation\">(</span>DateTime<span class=\"token punctuation\">.</span>Now <span class=\"token operator\">-</span> date<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>TotalSeconds <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">List<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">></span></span> periods <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">List<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    periods<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"секунду\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"секурнды\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"секунд\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    periods<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"минуту\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"минуты\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"минут\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    periods<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"час\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"часа\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"часов\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    periods<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"день\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"дня\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"дней\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    periods<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"неделю\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"недели\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"недель\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    periods<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"месяц\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"месяца\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"месяцев\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    periods<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"год\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"года\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"лет\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    periods<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"десятилетие\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"десятилетий\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"десятилетий\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\"><span class=\"token keyword\">double</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> lengths <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">double</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token punctuation\">{</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4.35</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\"><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> cases <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\"><span class=\"token keyword\">int</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></span> <span class=\"token punctuation\">{</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\"><span class=\"token keyword\">int</span></span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> difference <span class=\"token operator\">>=</span> lengths<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        difference <span class=\"token operator\">=</span> difference <span class=\"token operator\">/</span> lengths<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    difference <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">Round</span><span class=\"token punctuation\">(</span>difference<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> text <span class=\"token operator\">=</span> periods<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span> <span class=\"token punctuation\">(</span> difference<span class=\"token operator\">%</span><span class=\"token number\">100</span> <span class=\"token operator\">></span> <span class=\"token number\">4</span> <span class=\"token operator\">&amp;&amp;</span> difference<span class=\"token operator\">%</span><span class=\"token number\">100</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">20</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">?</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">:</span> cases<span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">Min</span><span class=\"token punctuation\">(</span>difference<span class=\"token operator\">%</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> prefix <span class=\"token operator\">=</span> date <span class=\"token operator\">></span> DateTime<span class=\"token punctuation\">.</span>Now <span class=\"token punctuation\">?</span> <span class=\"token string\">\"через \"</span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span>Empty<span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\"><span class=\"token keyword\">string</span></span> suffix <span class=\"token operator\">=</span> date <span class=\"token operator\">&lt;</span> DateTime<span class=\"token punctuation\">.</span>Now <span class=\"token punctuation\">?</span> <span class=\"token string\">\" назад\"</span> <span class=\"token punctuation\">:</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span>Empty<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{0}{1} {2}{3}\"</span><span class=\"token punctuation\">,</span> prefix<span class=\"token punctuation\">,</span> difference<span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">,</span> suffix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Реализация на javascript</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">ago</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">date</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> difference <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> date<span class=\"token punctuation\">.</span><span class=\"token function\">getTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">1000</span>\n  <span class=\"token keyword\">var</span> periods <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">'секунду'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'секурнды'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'секунд'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">'минуту'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'минуты'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'минут'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">'час'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'часа'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'часов'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">'день'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'дня'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'дней'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">'неделю'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'недели'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'недель'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">'месяц'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'месяца'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'месяцев'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">'год'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'года'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'лет'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token string\">'десятилетие'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'десятилетий'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'десятилетий'</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">]</span>\n\n  <span class=\"token keyword\">var</span> lengths <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4.35</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">]</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> difference <span class=\"token operator\">>=</span> lengths<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    difference <span class=\"token operator\">=</span> difference <span class=\"token operator\">/</span> lengths<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n\n  difference <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>difference<span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">var</span> cases <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\n  <span class=\"token keyword\">var</span> text <span class=\"token operator\">=</span> periods<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>difference <span class=\"token operator\">%</span> <span class=\"token number\">100</span> <span class=\"token operator\">></span> <span class=\"token number\">4</span> <span class=\"token operator\">&amp;&amp;</span> difference <span class=\"token operator\">%</span> <span class=\"token number\">100</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">20</span> <span class=\"token operator\">?</span> <span class=\"token number\">2</span> <span class=\"token operator\">:</span> cases<span class=\"token punctuation\">[</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span>difference <span class=\"token operator\">%</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n  <span class=\"token keyword\">return</span> difference <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> text <span class=\"token operator\">+</span> <span class=\"token string\">' назад'</span>\n<span class=\"token punctuation\">}</span></code></pre></div>"}},"pageContext":{"id":"45e9ab5d-93b8-50d0-9c7c-4344f5d87ad3"}},"staticQueryHashes":[],"slicesMap":{}}