{"componentChunkName":"component---src-templates-note-js","path":"/pygmentize-windows-custom-colors","result":{"data":{"remark":{"fields":{"path":"pygmentize-windows-custom-colors"},"meta":{"title":""},"headings":[{"value":"Pygmentize on Windows with custom colorscheme"}],"html":"<h1>Pygmentize on Windows with custom colorscheme</h1>\n<p>While working on project demo I was searching for a way to demonstrate rest api via console with predefined batch files.</p>\n<p>Rest service responses are json, and it will be nice to highlight them right inside console.</p>\n<p>There is nice utility <a href=\"http://pygments.org/\">pygmentize</a> which allows you do exactly that.</p>\n<p>Notice: For colors to work you must install <a href=\"http://adoxa.altervista.org/ansicon/\">ansicon</a></p>\n<p>The only thing I do not like about it is default colors:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 677px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b39a5087ec8704f263d9d992c9973255/68de2/before.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABeklEQVQoz4WRzWobMRSFj+6VNNJIY2oaCnVJKUlexAtDZpyAMd75afwehpCF8Q9k702XrlPqJCTWjF+nzLhMG1I7H2gj7sfRucLqx/rxcVPsQp7nRVHsdkVe5CGE1Wr1835dcr9+eXkOIQ8h3263D5vNr6en7zc34fYWw+EQ4CRp+aTpvXXOxeUpcc557xuNhrXWGhPHsTGREIKIAMzv7tDv9wEwt4ALEidEAu8hRDkzm07/yFISoIX4yHymVNNaUoqIxFtqeT6f18lSCMFMwCchvkjplII1UOpg8r8yV5ceOCc6dY6dA7M48uxXMpGoFtEEPktpnIMxx+TZbFZ3ZimbQIsoeXdne3k8Hr96dhX7NTInSn3QWu2HDsnTetuVDCIhZaxUonVkLXT0/9p/Ow8GAwBaay6RzKeR+ea8t5ZdzFEk+Q1SSgCLxQK9Xq9O3sMMa1H+2tHOk8kEo9Go3W53u900TbsVWXZ5fZ1eXV2mB8iyrNPpLJfL33nRajVr1HoeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Pygmentize default colorscheme\"\n        title=\"Pygmentize default colorscheme\"\n        src=\"/static/b39a5087ec8704f263d9d992c9973255/68de2/before.png\"\n        srcset=\"/static/b39a5087ec8704f263d9d992c9973255/6f3f2/before.png 256w,\n/static/b39a5087ec8704f263d9d992c9973255/01e7c/before.png 512w,\n/static/b39a5087ec8704f263d9d992c9973255/68de2/before.png 677w\"\n        sizes=\"(max-width: 677px) 100vw, 677px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>So here is a way to customize them:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> sys\n<span class=\"token keyword\">from</span> pygments <span class=\"token keyword\">import</span> highlight\n<span class=\"token keyword\">from</span> pygments<span class=\"token punctuation\">.</span>lexers <span class=\"token keyword\">import</span> JsonLexer\n<span class=\"token keyword\">from</span> pygments<span class=\"token punctuation\">.</span>formatters <span class=\"token keyword\">import</span> TerminalFormatter\n<span class=\"token keyword\">from</span> pygments<span class=\"token punctuation\">.</span>token <span class=\"token keyword\">import</span> Keyword<span class=\"token punctuation\">,</span> Name<span class=\"token punctuation\">,</span> Comment<span class=\"token punctuation\">,</span> String<span class=\"token punctuation\">,</span> Error<span class=\"token punctuation\">,</span> Number<span class=\"token punctuation\">,</span> Operator<span class=\"token punctuation\">,</span> Generic<span class=\"token punctuation\">,</span> Token<span class=\"token punctuation\">,</span> Whitespace\n\n\n<span class=\"token comment\"># https://github.com/nex3/pygments/blob/master/pygments/formatters/terminal.py</span>\ncs <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    Token<span class=\"token punctuation\">:</span>              <span class=\"token punctuation\">(</span><span class=\"token string\">'darkgray'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'darkgray'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n    Whitespace<span class=\"token punctuation\">:</span>         <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Comment<span class=\"token punctuation\">:</span>            <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Comment<span class=\"token punctuation\">.</span>Preproc<span class=\"token punctuation\">:</span>    <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Keyword<span class=\"token punctuation\">:</span>            <span class=\"token punctuation\">(</span><span class=\"token string\">'white'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'white'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Keyword<span class=\"token punctuation\">.</span>Type<span class=\"token punctuation\">:</span>       <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Operator<span class=\"token punctuation\">.</span>Word<span class=\"token punctuation\">:</span>      <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Name<span class=\"token punctuation\">.</span>Builtin<span class=\"token punctuation\">:</span>       <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Name<span class=\"token punctuation\">.</span>Function<span class=\"token punctuation\">:</span>      <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Name<span class=\"token punctuation\">.</span>Namespace<span class=\"token punctuation\">:</span>     <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Name<span class=\"token punctuation\">.</span>Class<span class=\"token punctuation\">:</span>         <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Name<span class=\"token punctuation\">.</span>Exception<span class=\"token punctuation\">:</span>     <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Name<span class=\"token punctuation\">.</span>Decorator<span class=\"token punctuation\">:</span>     <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Name<span class=\"token punctuation\">.</span>Variable<span class=\"token punctuation\">:</span>      <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Name<span class=\"token punctuation\">.</span>Constant<span class=\"token punctuation\">:</span>      <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Name<span class=\"token punctuation\">.</span>Attribute<span class=\"token punctuation\">:</span>     <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Name<span class=\"token punctuation\">.</span>Tag<span class=\"token punctuation\">:</span>           <span class=\"token punctuation\">(</span><span class=\"token string\">'lightgray'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'lightgray'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    String<span class=\"token punctuation\">:</span>             <span class=\"token punctuation\">(</span><span class=\"token string\">'yellow'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'yellow'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Number<span class=\"token punctuation\">:</span>             <span class=\"token punctuation\">(</span><span class=\"token string\">'fuchsia'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'fuchsia'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n    Generic<span class=\"token punctuation\">.</span>Deleted<span class=\"token punctuation\">:</span>    <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Generic<span class=\"token punctuation\">.</span>Inserted<span class=\"token punctuation\">:</span>   <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Generic<span class=\"token punctuation\">.</span>Heading<span class=\"token punctuation\">:</span>    <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Generic<span class=\"token punctuation\">.</span>Subheading<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Generic<span class=\"token punctuation\">.</span>Error<span class=\"token punctuation\">:</span>      <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\n    Error<span class=\"token punctuation\">:</span>              <span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">#data = '{\"foo\": \"bar\", \"ing\": 2, \"bool\": false}'</span>\ndata <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>sys<span class=\"token punctuation\">.</span>stdin<span class=\"token punctuation\">.</span>readlines<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span> highlight<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> JsonLexer<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> TerminalFormatter<span class=\"token punctuation\">(</span>colorscheme<span class=\"token operator\">=</span>cs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>and here is how it looks like:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 677px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9c7b7ce99601ca7578a6ee290d813745/68de2/after.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABdUlEQVQoz5WRzW7aQBSFz8z4b8Yez3jGwgp5GhbgGjYYIdIND8ODoCgbXBZdZMeiOGokNmCcTR6owlErtVUF/bZX5557z8H319fD4XBu29Pp1DTNuaNpmn29f3mp67re7+vj8Xhu2/bn7PT29u3x8f3pCcvl0vf9Xq+XZZm1VmutlFLxBd0RRZHs4ILHcRxGYRRJHkZfn5/x8PmBEJJlmdaaMYYbIIQA+FJVmJUlAGvT+34/SZIgCCilALkq3m63mM1mACiljDHb4boe51Dqnwv+FH8cHASBtcaY5O4uThJGyM1iQogQQiktLsG4QlD8l7Pv+6lNBedSIk1hLTgntzq7nmuMUZeSiDFwXVB6o3N3trVWqVjGNAyvpL1erzGfzwF4nscYi6W87/eNMbF0Es20ZpyzroffcBwHwGazwXQ6/fXzR+CMOUJAyivOVVVhtVoNBoPJZFIUxWKxKMsyz/N89CnPi9GoyPPib8bj8XA43O12PwC5c20Nkyd4+QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Pygmentize default colorscheme\"\n        title=\"Pygmentize default colorscheme\"\n        src=\"/static/9c7b7ce99601ca7578a6ee290d813745/68de2/after.png\"\n        srcset=\"/static/9c7b7ce99601ca7578a6ee290d813745/6f3f2/after.png 256w,\n/static/9c7b7ce99601ca7578a6ee290d813745/01e7c/after.png 512w,\n/static/9c7b7ce99601ca7578a6ee290d813745/68de2/after.png 677w\"\n        sizes=\"(max-width: 677px) 100vw, 677px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>now values are bright, keys are grayed and tokens are almost not visible, I bed you can do it event more readable ;)</p>\n<p>In my case usage was something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ps.cmd <span class=\"token parameter variable\">-method</span> get <span class=\"token parameter variable\">-uri</span> /_cat/indices <span class=\"token operator\">|</span></code></pre></div>"}},"pageContext":{"id":"0498266e-224e-59b9-b4df-450439257805"}},"staticQueryHashes":[]}