{"componentChunkName":"component---src-templates-note-js","path":"/google-map-custom-infowindow/","result":{"data":{"remark":{"fields":{"path":"google-map-custom-infowindow"},"meta":{"title":""},"headings":[{"value":"Google map custom infoWindow"}],"html":"<h1>Google map custom infoWindow</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 389px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e92c971b29feb18cdaf87bf6f46f3889/00a4e/gmap_custom_infowindow.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.265625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADWUlEQVR42h2TS3PadhTF+XJdNGk2+Q7d9Tt01UW7aNxd0nEdp5lOZ2yPJzY2tSEpfoF5GFmIh148JAQCCQkBfjabXy8s7kj/q6v7P/ece1LjkUO1ck2lXKRSKVCtXXOr3GB1TNxRj8lkhO97EkO8oUs0HTKLxixmAUHYIwwdGk6eP07ybGVUUsXCBZnjNJ9zOXo9nXjmrYvn8Rij65IptjB7Dg/ziM6gxcA3iacBUeQTRyPukinLZEKu0uZd+obU6sdatUS3YzBPImazGXEyI0liusMxpfaAS61PlIRMphHTOJbvMX4YrmNVd7+M0DsOm0fSMA6HtA0Tv7TD18MfePjrNQ/bL3j6+Iq77W+5f/+SxdYL5lvf8Pznq3V+9Xzc/o7nDy+J37+mu/09d4GFavZJPd3Fwl0Z9ewTS3WfqLDJ+PMGvcOfiS7fkly9Y5LbYHi6gZ99g3v8C37uN3nfWIeV/hUl/Tvz0GU5n5BaEZw9zZA/O8d0fMp1C8MJaNoumuWhmQ6Vuok9jJnd/Ue0eJR4YnH/yOLpK9PkjnC2YCGUhOGIVH/S4Or8nErpiq6tozfrOI5Os3nLcTqNclPC63eIZlN6QR3bVyi1NC6ULtmSTsN2eJQpE9EimvrSMFA5PNznSy4rqvk8389x5RJvZFJXFZy+xVR4bjRVLqunVBoF9q4uyIqQu/kbdr6c43l9UTogDIakehOVo9wuNaUoio0l6ZAIDXE0lFsnPDwtcWtFsj/9SKPVkm0w6boaHbfC+a3KvxL/FKrsn2lCk0PKC3U+HrwlXz5itvSYRg7uuIE7MDg+PhKUNZahR+bDJnpb6OjbaIJca2jsnBapt2ucFAv8na3RsjqkBp7N4ckumdMDupaJ1ipjehUGI50o9NeumMs480VEIgu/yi3k3HX67OWuMYwGiqLQtmz6kku5wy6fDvaolguMfQfHNcQpk/XYlhS3W/X10vtiu3pdoS8CzeIA2zYpKXWCiS9oG+QLFW7rYr1uf4VwD0NXCZIeulNlPOkJMp+B06HXtbBMsZ+hy7knl3rYlmxDu4Eqo+t6UzZCwzR1sa5NyrRUipULQeDQ7JTJXh5gSPFKtVXE09F6xKEo6Qi6IBitm3RsA1Maa5oqowqvLYVmW+V/tZbRLBUp0tAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/e92c971b29feb18cdaf87bf6f46f3889/00a4e/gmap_custom_infowindow.png\"\n        srcset=\"/static/e92c971b29feb18cdaf87bf6f46f3889/6f3f2/gmap_custom_infowindow.png 256w,\n/static/e92c971b29feb18cdaf87bf6f46f3889/00a4e/gmap_custom_infowindow.png 389w\"\n        sizes=\"(max-width: 389px) 100vw, 389px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Если есть необходимость создать кастомные infoWindow то очень здорово поможет <a href=\"http://code.google.com/p/gmaps-utility-library-dev/\">gmaps-utility-library-dev</a>. А именно их класс <a href=\"http://gmaps-utility-library-dev.googlecode.com/svn/tags/extinfowindow/1.2/examples/\">extinfowindow</a>.</p>\n<p>Простенький пример:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span> <span class=\"token name\">PUBLIC</span> <span class=\"token string\">\"-//W3C//DTD XHTML 1.0 Strict//EN\"</span> <span class=\"token string\">\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/1999/xhtml<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>content-type<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/html; charset=utf-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>ExtInfoWindow Example: Simple Example<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/css<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">media</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>screen<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ym.css<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span>\n      <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://maps.google.com/maps?file=api<span class=\"token entity named-entity\" title=\"&amp;\">&amp;amp;</span>v=2<span class=\"token entity named-entity\" title=\"&amp;\">&amp;amp;</span>key=ABQIAAAAjU0EJWnWPMv7oQ-jjS7dYxQGj0PqsCtxKvarsoS-iqLdqZSKfxRdmoPmGl7Y9335WLC36wIGYa6o5Q<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>extinfowindow_packed.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n      <span class=\"token keyword\">var</span> map\n      <span class=\"token keyword\">function</span> <span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">GBrowserIsCompatible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          map <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GMap2</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'map'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n          map<span class=\"token punctuation\">.</span><span class=\"token function\">setCenter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">GLatLng</span><span class=\"token punctuation\">(</span><span class=\"token number\">44</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">96</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n          map<span class=\"token punctuation\">.</span><span class=\"token function\">addControl</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">GLargeMapControl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n          map<span class=\"token punctuation\">.</span><span class=\"token function\">enableScrollWheelZoom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n          marker <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GMarker</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">GLatLng</span><span class=\"token punctuation\">(</span><span class=\"token number\">44</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">96</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n          GEvent<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span>marker<span class=\"token punctuation\">,</span> <span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            marker<span class=\"token punctuation\">.</span><span class=\"token function\">openExtInfoWindow</span><span class=\"token punctuation\">(</span>\n              map<span class=\"token punctuation\">,</span>\n              <span class=\"token string\">'ym'</span><span class=\"token punctuation\">,</span>\n              <span class=\"token string\">'&lt;div class=\"title\">Hello&lt;/div>&lt;div id=\"z\" class=\"body\">I\\'m some HTML content that will go in the simple&lt;br>example\\'s ExtInfoWindow.&lt;/div>'</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">beakOffset</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n          <span class=\"token comment\">//TODO: if content changes call map.getExtInfoWindow().resize();</span>\n\n          map<span class=\"token punctuation\">.</span><span class=\"token function\">addOverlay</span><span class=\"token punctuation\">(</span>marker<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onload</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">\"</span></span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onunload</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">GUnload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>map<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span>400px<span class=\"token punctuation\">;</span><span class=\"token property\">height</span><span class=\"token punctuation\">:</span>400px</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>И его стили:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">#ym</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 300px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">#ym_contents</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #fff<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px solid #999<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">-moz-border-radius</span><span class=\"token punctuation\">:</span> 3px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">-webkit-border-radius</span><span class=\"token punctuation\">:</span> 3px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 3px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">#ym_contents .title</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #fa8a1a<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #fff<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">#ym_beak</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 28px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 38px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'beak.png'</span><span class=\"token punctuation\">)</span></span> top left no-repeat transparent<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">* html #ym_beak</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/* Alpha transparencies hack for IE */</span>\n  <span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token property\">progid</span><span class=\"token punctuation\">:</span>DXImageTransform.Microsoft.<span class=\"token function\">AlphaImageLoader</span><span class=\"token punctuation\">(</span>src=<span class=\"token string\">'beak.png'</span><span class=\"token punctuation\">,</span> sizingMethod=<span class=\"token string\">'crop'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">#ym_tl,\n#ym_tr,\n#ym_bl,\n#ym_br,\n#ym_t,\n#ym_l,\n#ym_r,\n#ym_b</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 0px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 0px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">#ym_beak</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">z-index</span><span class=\"token punctuation\">:</span> 2<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">#ym_close</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 21px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 21px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span><span class=\"token string url\">'red_close.png'</span><span class=\"token punctuation\">)</span></span> top left no-repeat transparent<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">cursor</span><span class=\"token punctuation\">:</span> pointer<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">* html #ym_close</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background-image</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token property\">progid</span><span class=\"token punctuation\">:</span>DXImageTransform.Microsoft.<span class=\"token function\">AlphaImageLoader</span><span class=\"token punctuation\">(</span>src=<span class=\"token string\">'red_close.png'</span><span class=\"token punctuation\">,</span> sizingMethod=<span class=\"token string\">'crop'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>"}},"pageContext":{"id":"ff58aa5d-59b6-5faa-8b7c-924f3082ec23"}},"staticQueryHashes":[],"slicesMap":{}}