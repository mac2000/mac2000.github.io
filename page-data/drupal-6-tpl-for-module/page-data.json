{"componentChunkName":"component---src-templates-note-js","path":"/drupal-6-tpl-for-module","result":{"data":{"remark":{"fields":{"path":"drupal-6-tpl-for-module"},"meta":{"title":""},"headings":[{"value":"drupal 6 tpl for module"}],"html":"<h1>drupal 6 tpl for module</h1>\n<p><strong>cust.info</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini\"><code class=\"language-ini\"><span class=\"token key attr-name\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">cust</span>\n<span class=\"token key attr-name\">description</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">cust</span>\n<span class=\"token key attr-name\">package</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">Other</span>\n<span class=\"token key attr-name\">core</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">6.x</span></code></pre></div>\n<p><strong>cust.module</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">cust_theme</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n            <span class=\"token string single-quoted-string\">'moe_example'</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n                    <span class=\"token string single-quoted-string\">'arguments'</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n                        <span class=\"token string single-quoted-string\">'some_data'</span> <span class=\"token operator\">=></span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">,</span>\n                        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token string single-quoted-string\">'template'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'moe-example'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token delimiter important\">?></span></span></code></pre></div>\n<p><strong>moe-example.tpl.php</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\">start<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token function\">var_dump</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$some_data</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token delimiter important\">?></span></span>\nend<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>somewhere in <strong>node.tpl.php</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token string single-quoted-string\">'xx'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">print</span> <span class=\"token function\">theme</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'moe_example'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token delimiter important\">?></span></span></code></pre></div>\n<p><a href=\"http://www.captaincodemonkey.com/blog/2010/12/26/drupal-6x-skeleton-module-with-tpl-file-example/\">http://www.captaincodemonkey.com/blog/2010/12/26/drupal-6x-skeleton-module-with-tpl-file-example/</a></p>\n<p>And more complex example:</p>\n<p><strong>catalog.info</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"ini\"><pre class=\"language-ini\"><code class=\"language-ini\"><span class=\"token key attr-name\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">catalog</span>\n<span class=\"token key attr-name\">description</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">\"<span class=\"token inner-value\">custom catalog module.</span>\"</span>\n<span class=\"token key attr-name\">core</span> <span class=\"token punctuation\">=</span> <span class=\"token value attr-value\">6.x</span></code></pre></div>\n<p><strong>catalog.module</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token comment\">//pull in our include file</span>\n<span class=\"token function\">module_load_include</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'inc'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'catalog'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">catalog_perm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'add items'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//lets get some sweet sweet menu action going</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">catalog_menu</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token variable\">$items</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'catalog'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n        <span class=\"token string single-quoted-string\">'title'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'My catalog example'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'description'</span> <span class=\"token operator\">=></span> <span class=\"token function\">t</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'My catalog example desc'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'page callback'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'catalog_page'</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//</span>\n        <span class=\"token string single-quoted-string\">'access callback'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'user_access'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'access arguments'</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'access content'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// or use hook_perm() to make your own</span>\n        <span class=\"token string single-quoted-string\">'type'</span> <span class=\"token operator\">=></span> <span class=\"token constant\">MENU_CALLBACK</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$items</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//function</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">catalog_page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$output</span> <span class=\"token operator\">=</span> <span class=\"token function\">theme</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'catalog_catalog'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">_catalog_get_items</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token function\">user_access</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'add item'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$output</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$output</span> <span class=\"token operator\">.</span> <span class=\"token function\">theme</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'catalog_form'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$output</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//hook_theme</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">catalog_theme</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$existing</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$type</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$theme</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$path</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n        <span class=\"token string single-quoted-string\">'catalog_catalog'</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n            <span class=\"token string single-quoted-string\">'arguments'</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'items'</span> <span class=\"token operator\">=></span> <span class=\"token constant\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string single-quoted-string\">'template'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'catalog-catalog'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'catalog_form'</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n            <span class=\"token string single-quoted-string\">'template'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'catalog-form'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<p><strong>catalog.inc</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token comment\">/* Put any helper functions or other stuff you want in here */</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">_catalog_get_items</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n        <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n            <span class=\"token string single-quoted-string\">'id'</span> <span class=\"token operator\">=></span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string single-quoted-string\">'name'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'one'</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n            <span class=\"token string single-quoted-string\">'id'</span> <span class=\"token operator\">=></span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string single-quoted-string\">'name'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'two'</span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token delimiter important\">?></span></span></code></pre></div>\n<p><strong>catalog-catalog.tpl.php</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">hello from catalog.tpl.php</code></pre></div>\n<p><strong>catalog-form.tpl.php</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">hello from catalog-form.tpl.php</code></pre></div>\n<p>Now if you will go to example.com/catalog - you will see both templates if you logged as admin, or one if not logged or have not privilegies to add items.</p>"}},"pageContext":{"id":"5eb89dc1-3086-59e2-affb-a94251e491a3"}},"staticQueryHashes":[]}