{"componentChunkName":"component---src-templates-note-js","path":"/mysql-from-c","result":{"data":{"remark":{"fields":{"path":"mysql-from-c"},"meta":{"title":""},"headings":[{"value":"mysql from c#"}],"html":"<h1>mysql from c#</h1>\n<p><a href=\"http://dev.mysql.com/downloads/connector/net/5.2.html\">http://dev.mysql.com/downloads/connector/net/5.2.html</a></p>\n<p>Sample code:</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token class-name\">MySqlConnectionStringBuilder</span> connBuilder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">MySqlConnectionStringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconnBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Database\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"wp4dev\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconnBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Data Source\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"localhost\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconnBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"User Id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconnBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Password\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">MySqlConnection</span> connection <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">MySqlConnection</span><span class=\"token punctuation\">(</span>connBuilder<span class=\"token punctuation\">.</span>ConnectionString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">MySqlCommand</span> cmd <span class=\"token operator\">=</span> connection<span class=\"token punctuation\">.</span><span class=\"token function\">CreateCommand</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconnection<span class=\"token punctuation\">.</span><span class=\"token function\">Open</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//SELECT</span>\n<span class=\"token class-name\">StringBuilder</span> tmp <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">StringBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncmd<span class=\"token punctuation\">.</span>CommandText <span class=\"token operator\">=</span> <span class=\"token string\">\"SELECT * FROM wp_posts\"</span><span class=\"token punctuation\">;</span>\ncmd<span class=\"token punctuation\">.</span>CommandType <span class=\"token operator\">=</span> CommandType<span class=\"token punctuation\">.</span>Text<span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">MySqlDataReader</span> reader <span class=\"token operator\">=</span> cmd<span class=\"token punctuation\">.</span><span class=\"token function\">ExecuteReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>reader<span class=\"token punctuation\">.</span><span class=\"token function\">Read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    tmp<span class=\"token punctuation\">.</span><span class=\"token function\">AppendLine</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">.</span><span class=\"token function\">Format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"({0}) {1}\"</span><span class=\"token punctuation\">,</span>\n        reader<span class=\"token punctuation\">.</span><span class=\"token function\">GetInt32</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ID\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>reader<span class=\"token punctuation\">.</span><span class=\"token function\">GetString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"post_title\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nreader<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nMessageBox<span class=\"token punctuation\">.</span><span class=\"token function\">Show</span><span class=\"token punctuation\">(</span>tmp<span class=\"token punctuation\">.</span><span class=\"token function\">ToString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//MySqlTransaction tran = connection.BeginTransaction();</span>\n<span class=\"token comment\">//MySqlCommand cmd2 = tran.Connection.CreateCommand();</span>\n\nconnection<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>For program work you need add reference to <code class=\"language-text\">C:\\Program Files(x86)\\MySQL\\MySQL Connector Net 5.2.7\\Binaries\\.NET 2.0\\MySql.Data.dll</code></p>\n<p>And do not forget to change <code class=\"language-text\">Copy Local</code> property of referenceÂ  to <code class=\"language-text\">True</code></p>"}},"pageContext":{"id":"2bb47ac8-bd9a-5420-a725-6c55d15a7fc4"}},"staticQueryHashes":[]}