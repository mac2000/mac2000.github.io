{"componentChunkName":"component---src-templates-note-js","path":"/nginx-php-cgi-on-windows","result":{"data":{"remark":{"fields":{"path":"nginx-php-cgi-on-windows"},"meta":{"title":""},"headings":[{"value":"nginx, php-cgi on windows"}],"html":"<h1>nginx, php-cgi on windows</h1>\n<p><a href=\"http://nginx.org/en/download.html\">http://nginx.org/en/download.html</a></p>\n<p><a href=\"http://windows.php.net/download/\">http://windows.php.net/download/</a></p>\n<p>Нужен VC9 (6-й нужен только если используем с апачем).  Будет ли это thread safe или not thread safe значения не имеет.</p>\n<p>Для запуска php-cgi.exe в фоновом режиме, использую <a href=\"/17535ff1953a6d76cf48ed567fc401aa/RunHiddenConsole.zip\">RunHiddenConsole</a>:</p>\n<p><strong>start.cmd</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">@ECHO OFF\nstart C:<span class=\"token punctuation\">\\</span>nginx<span class=\"token punctuation\">\\</span>nginx.exe\nstart C:<span class=\"token punctuation\">\\</span>nginx<span class=\"token punctuation\">\\</span>RunHiddenConsole.exe C:<span class=\"token punctuation\">\\</span>PHP<span class=\"token punctuation\">\\</span>php-cgi.exe <span class=\"token parameter variable\">-b</span> <span class=\"token number\">127.0</span>.0.1:9000 <span class=\"token parameter variable\">-c</span> C:<span class=\"token punctuation\">\\</span>PHP<span class=\"token punctuation\">\\</span>php.ini\nEXIT</code></pre></div>\n<p><strong>stop.cmd</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">@ECHO OFF\ntaskkill /f /IM nginx.exe\ntaskkill /f /IM php-cgi.exe\nEXIT</code></pre></div>\n<p><a href=\"http://eksith.wordpress.com/2008/12/08/nginx-php-on-windows/\">http://eksith.wordpress.com/2008/12/08/nginx-php-on-windows/</a></p>\n<p><a href=\"http://wiki.nginx.org/PHPFastCGIOnWindows\">http://wiki.nginx.org/PHPFastCGIOnWindows</a></p>\n<p><strong>nginx.conf</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">worker_processes  1;\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n    sendfile        on;\n    keepalive_timeout  65;\n    gzip  on;\n\n    server {\n        listen       85;\n        server_name  localhost;\n        charset utf-8;\n        root   html;\n        index  index.php index.html index.htm;\n\n        location / {\n            try_files $uri $uri/ /index.php?q=$uri&amp;$args;\n        }\n\n        # wordpress example\n        #location /blog {\n        #   try_files $uri $uri/ /blog/index.php?q=$uri&amp;$args;\n        #}\n\n        location ~ \\.php$ {\n            root           html;\n            fastcgi_pass   127.0.0.1:9000;\n            fastcgi_index  index.php;\n            fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;\n            include        fastcgi_params;\n        }\n\n    }\n}</code></pre></div>\n<p>Отличная статья на примере Wordpress'а показывающая как бороться с ЧПУ</p>\n<p><a href=\"http://wiki.nginx.org/WordPress\">http://wiki.nginx.org/WordPress</a></p>\n<p><a href=\"http://wiki.nginx.org/Drupal\">http://wiki.nginx.org/Drupal</a></p>"}},"pageContext":{"id":"3da4822b-e466-5ddf-a22f-c30d1f524b8c"}},"staticQueryHashes":[]}