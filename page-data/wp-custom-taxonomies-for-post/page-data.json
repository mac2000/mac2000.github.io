{"componentChunkName":"component---src-templates-note-js","path":"/wp-custom-taxonomies-for-post/","result":{"data":{"remark":{"fields":{"path":"wp-custom-taxonomies-for-post"},"meta":{"title":""},"headings":[{"value":"WP custom taxonomies for post"}],"html":"<h1>WP custom taxonomies for post</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5c568dfa7d5abcc25b5d0854e76f41d5/f3a19/19.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.46875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABtElEQVR42o2SiY6lIBBF/f9fnH6+xV1AcAMV5XTEfrN0MpOp5KZc4N6TgkRpjeg04zgyDANCCNq2jbqeBdM0sywLzjmstVd3Lq5vmgYpZZQxhiTLMu7PF0opuq4jz3PyLKMsS5xbWBbLtlrWdcF7z3EcHCHQa83z/oihvTFR5/6kbiWiM+whRNMfHx+k9wdZXpAXBW1bo7sSY7pIcxqM00RfVTxuN1qp6PoBqU0kToZW4pQGa1FZRn670ZQVdVnxTFPaqkIKRS0UeVlT1zXnmCalKPOCVkisW9iPwLZtJGVWkKYvdKex44i3FpaF4Bw4F3uwNuoMPb+xrrimoSjKa4ZCsu8+jiSphOTZKIbTbPecFfhWIcBxXDpfp4mtrlk3Hw/oNDorEkozUKme2Tr2rx8hhD/1FfIOCvuOn+dfeV89EjZC8qgEQumfSacJb70JfzPHe6wxiGFG9lPUtnnWdSVR/chgryvh/0b4jZZ9p28aXnmONgYzjOi+v055dCv+uEj2fee/6jiYleL5yqiblqoVKDPE/UmjNI0e2NY1Ir9J/6XNe9w8Y0xPWRTc0zRep04pPgEPWlAxExUKLQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/5c568dfa7d5abcc25b5d0854e76f41d5/2bef9/19.png\"\n        srcset=\"/static/5c568dfa7d5abcc25b5d0854e76f41d5/6f3f2/19.png 256w,\n/static/5c568dfa7d5abcc25b5d0854e76f41d5/01e7c/19.png 512w,\n/static/5c568dfa7d5abcc25b5d0854e76f41d5/2bef9/19.png 1024w,\n/static/5c568dfa7d5abcc25b5d0854e76f41d5/f3a19/19.png 1086w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>in functions.php:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">register_custom_taxonomies</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token function\">register_taxonomy</span><span class=\"token punctuation\">(</span> <span class=\"token string single-quoted-string\">'notetype'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'post'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'label'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'Тип заметки'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'hierarchical'</span> <span class=\"token operator\">=></span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">register_taxonomy</span><span class=\"token punctuation\">(</span> <span class=\"token string single-quoted-string\">'customer'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'post'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'label'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'Заказчик'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'hierarchical'</span> <span class=\"token operator\">=></span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_action</span><span class=\"token punctuation\">(</span> <span class=\"token string single-quoted-string\">'init'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'register_custom_taxonomies'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>in single.php:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token variable\">$categories</span> <span class=\"token operator\">=</span> <span class=\"token function\">wp_get_post_terms</span><span class=\"token punctuation\">(</span><span class=\"token function\">get_the_ID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'notetype'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">foreach</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$categories</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$c</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token delimiter important\">?></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token function\">get_term_link</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$c</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$c</span><span class=\"token operator\">-></span><span class=\"token property\">taxonomy</span><span class=\"token punctuation\">)</span><span class=\"token delimiter important\">?></span></span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token variable\">$c</span><span class=\"token operator\">-></span><span class=\"token property\">name</span><span class=\"token delimiter important\">?></span></span> (<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token variable\">$c</span><span class=\"token operator\">-></span><span class=\"token property\">count</span><span class=\"token delimiter important\">?></span></span>)<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token punctuation\">}</span> <span class=\"token delimiter important\">?></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token variable\">$categories</span> <span class=\"token operator\">=</span> <span class=\"token function\">wp_get_post_terms</span><span class=\"token punctuation\">(</span><span class=\"token function\">get_the_ID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'customer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token keyword\">foreach</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$categories</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$c</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token delimiter important\">?></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token function\">get_term_link</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$c</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$c</span><span class=\"token operator\">-></span><span class=\"token property\">taxonomy</span><span class=\"token punctuation\">)</span><span class=\"token delimiter important\">?></span></span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token variable\">$c</span><span class=\"token operator\">-></span><span class=\"token property\">name</span><span class=\"token delimiter important\">?></span></span> (<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token variable\">$c</span><span class=\"token operator\">-></span><span class=\"token property\">count</span><span class=\"token delimiter important\">?></span></span>)<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token punctuation\">}</span> <span class=\"token delimiter important\">?></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span></code></pre></div>"}},"pageContext":{"id":"0f134c84-5da8-500a-8efa-27482022dc2a"}},"staticQueryHashes":[],"slicesMap":{}}