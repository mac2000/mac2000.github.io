{"componentChunkName":"component---src-templates-note-js","path":"/modify-wordpress-admin","result":{"data":{"remark":{"fields":{"path":"modify-wordpress-admin"},"meta":{"title":""},"headings":[{"value":"Modify wordpress admin"}],"html":"<h1>Modify wordpress admin</h1>\n<p>Hide unused panels, dashbords etc</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">remove_dashboard_widgets</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">global</span> <span class=\"token variable\">$wp_meta_boxes</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$wp_meta_boxes</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'dashboard'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'core'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'dashboard_plugins'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$wp_meta_boxes</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'dashboard'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'core'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'dashboard_recent_comments'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$wp_meta_boxes</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'dashboard'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'side'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'core'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'dashboard_primary'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$wp_meta_boxes</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'dashboard'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'core'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'dashboard_incoming_links'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$wp_meta_boxes</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'dashboard'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'core'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'dashboard_right_now'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$wp_meta_boxes</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'dashboard'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'side'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'core'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'dashboard_secondary'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_action</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'wp_dashboard_setup'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'remove_dashboard_widgets'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">remove_menu_items</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">global</span> <span class=\"token variable\">$menu</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">//$restricted = array(__('Links'), __('Comments'), __('Media'), __('Plugins'), __('Tools'), __('Users'));</span>\n  <span class=\"token variable\">$restricted</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token function\">__</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'Links'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">__</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'Comments'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">__</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'Media'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">__</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'Tools'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">__</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'Users'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">end</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$menu</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token function\">prev</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$menu</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$value</span> <span class=\"token operator\">=</span> <span class=\"token function\">explode</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">' '</span><span class=\"token punctuation\">,</span><span class=\"token variable\">$menu</span><span class=\"token punctuation\">[</span><span class=\"token function\">key</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$menu</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token function\">in_array</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$value</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> <span class=\"token constant\">NULL</span><span class=\"token operator\">?</span><span class=\"token variable\">$value</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span><span class=\"token string double-quoted-string\">\"\"</span> <span class=\"token punctuation\">,</span> <span class=\"token variable\">$restricted</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$menu</span><span class=\"token punctuation\">[</span><span class=\"token function\">key</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$menu</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_action</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'admin_menu'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'remove_menu_items'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">customize_meta_boxes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/* Removes meta boxes from Posts */</span>\n  <span class=\"token function\">remove_meta_box</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'postcustom'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'post'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">remove_meta_box</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'trackbacksdiv'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'post'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">remove_meta_box</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'commentstatusdiv'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'post'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">remove_meta_box</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'commentsdiv'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'post'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">remove_meta_box</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'authordiv'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'post'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">remove_meta_box</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'revisionsdiv'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'post'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">//remove_meta_box('tagsdiv-post_tag','post','normal');</span>\n  <span class=\"token function\">remove_meta_box</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'postexcerpt'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'post'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">/* Removes meta boxes from pages */</span>\n  <span class=\"token function\">remove_meta_box</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'postcustom'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'page'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">remove_meta_box</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'trackbacksdiv'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'page'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">remove_meta_box</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'commentstatusdiv'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'page'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">remove_meta_box</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'commentsdiv'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'page'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">remove_meta_box</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'authordiv'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'page'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">remove_meta_box</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'revisionsdiv'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'page'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'normal'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_action</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'admin_init'</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'customize_meta_boxes'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">custom_post_columns</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$defaults</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$defaults</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'comments'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$defaults</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'author'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token variable\">$defaults</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_filter</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'manage_posts_columns'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'custom_post_columns'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">custom_pages_columns</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$defaults</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$defaults</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'comments'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$defaults</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'author'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token variable\">$defaults</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_filter</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'manage_pages_columns'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'custom_pages_columns'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>"}},"pageContext":{"id":"0fb18670-4953-569a-bebd-8c0e2f8c5079"}},"staticQueryHashes":[]}