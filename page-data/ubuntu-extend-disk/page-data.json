{"componentChunkName":"component---src-templates-note-js","path":"/ubuntu-extend-disk/","result":{"data":{"remark":{"fields":{"path":"ubuntu-extend-disk"},"meta":{"title":""},"headings":[{"value":"Ubuntu extend disk"}],"html":"<h1>Ubuntu extend disk</h1>\n<p>Created two servers, both have disks of 32gb, one with lvm second without</p>\n<p>After installing, added 32gb to the disks</p>\n<p><code class=\"language-text\">lsblk</code> does not see anything</p>\n<p>after runing this (we are asking system to rescan devices)</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token number\">1</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /sys/class/block/sda/device/rescan</code></pre></div>\n<p>now <code class=\"language-text\">lsblk</code> sees 64gb</p>\n<p>install util to manage disks</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> cloud-utils</code></pre></div>\n<p>next, extend partition</p>\n<p>on vm without lvm</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> growpart /dev/sda <span class=\"token number\">2</span>\n<span class=\"token function\">sudo</span> resize2fs /dev/sda2</code></pre></div>\n<p>on vm with lvm</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> growpart /dev/sda <span class=\"token number\">3</span>\n<span class=\"token function\">sudo</span> pvresize /dev/sda3\n<span class=\"token function\">sudo</span> lvdisplay\n<span class=\"token function\">sudo</span> lvextend <span class=\"token parameter variable\">-r</span> <span class=\"token parameter variable\">-l</span> +100%FREE /dev/ubuntu-vg/ubuntu-lv</code></pre></div>"}},"pageContext":{"id":"5e92c20b-e227-578a-9129-79d486a99416"}},"staticQueryHashes":[],"slicesMap":{}}