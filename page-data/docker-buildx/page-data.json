{"componentChunkName":"component---src-templates-note-js","path":"/docker-buildx/","result":{"data":{"remark":{"fields":{"path":"docker-buildx"},"meta":{"title":""},"headings":[{"value":"docker buildx"}],"html":"<h1>docker buildx</h1>\n<p><strong>Quick Start</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> buildx create <span class=\"token parameter variable\">--name</span> builder <span class=\"token parameter variable\">--platform</span> linux/amd64,linux/arm64 <span class=\"token parameter variable\">--use</span>\n<span class=\"token function\">docker</span> buildx build <span class=\"token parameter variable\">--push</span> <span class=\"token parameter variable\">-t</span> robota.azurecr.io/mactemp <span class=\"token builtin class-name\">.</span>\n<span class=\"token function\">docker</span> buildx <span class=\"token function\">rm</span> builder</code></pre></div>\n<p><strong>TLDR</strong></p>\n<p>Dockerfile</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> nginx:alpine</span>\n<span class=\"token instruction\"><span class=\"token keyword\">COPY</span> index.html /usr/share/nginx/html/index.html</span></code></pre></div>\n<p>–°–±–æ—Ä–∫–∞ as is (—Ç–æ —á—Ç–æ –º—ã –æ–±—ã—á–Ω–æ –¥–µ–ª–∞–µ–º):</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> build <span class=\"token parameter variable\">-t</span> mactemp <span class=\"token builtin class-name\">.</span></code></pre></div>\n<p>–°–±–æ—Ä–∫–∞ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> build <span class=\"token parameter variable\">--platform</span><span class=\"token operator\">=</span>linux/amd64 <span class=\"token parameter variable\">-t</span> mactemp <span class=\"token builtin class-name\">.</span></code></pre></div>\n<p><strong>–°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ–¥ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º —Å—Ä–∞–∑—É:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> buildx create <span class=\"token parameter variable\">--name</span> builder <span class=\"token parameter variable\">--platform</span> linux/amd64,linux/arm64 <span class=\"token parameter variable\">--use</span>\n<span class=\"token function\">docker</span> buildx build <span class=\"token parameter variable\">--push</span> <span class=\"token parameter variable\">-t</span> robota.azurecr.io/mactemp <span class=\"token builtin class-name\">.</span>\n<span class=\"token function\">docker</span> buildx <span class=\"token function\">rm</span> builder</code></pre></div>\n<p>–°–±–æ—Ä–∫–∞ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ buildx (–∞–ª—è —Ç–æ –∂–µ —Å–∞–º–æ–µ —á—Ç–æ –∏ —Å–±–æ—Ä–∫–∞ as is)</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> buildx create <span class=\"token parameter variable\">--name</span> builder <span class=\"token parameter variable\">--use</span>\n<span class=\"token function\">docker</span> buildx build <span class=\"token parameter variable\">--load</span> <span class=\"token parameter variable\">--platform</span> linux/amd64 <span class=\"token parameter variable\">-t</span> robota.azurecr.io/mactemp <span class=\"token builtin class-name\">.</span>\n<span class=\"token function\">docker</span> buildx <span class=\"token function\">rm</span> builder</code></pre></div>\n<hr>\n<p>–î–∞–ª—å—à–µ, –∑–∞–º–µ—Ç–∫–∞ —Å –¥–µ—Ç–∞–ª—è–º–∏, —á—Ç–æ, –∫–∞–∫, –ø–æ—á–µ–º—É‚Ä¶</p>\n<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> —á–∞—Å—Ç–µ–Ω—å–∫–æ, –ø—ã—Ç–∞—è—Å—å —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –∫–∞–∫–æ–π –ª–∏–±–æ –ø–æ–ª–æ–º–∫–µ, –¥–µ–ª–∞–µ—à—å docker run my-awesome-service –∏ —Å—Ç–∞–ª–∫–∏–≤–∞–µ—à—å—Å—è —Å image was build for amd64 planform, –∏ –ø—Ä–∏–µ—Ö–∞–ª–∏, —ç—Ç–æ –Ω—É–∂–Ω–æ –∏–ª–∏ –∏—Å–∫–∞—Ç—å —Ç–æ—Ç –∂–µ –∫–æ–º–º–∏—Ç –∏ —Å–æ–±–∏—Ä–∞—Ç—å –æ–±—Ä–∞–∑ –∑–∞–Ω–æ–≤–æ, –Ω–µ —Ñ–∞–∫—Ç —á—Ç–æ —ç—Ç–æ –±—É–¥–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ —á—Ç–æ –∏ –≤ –ø—Ä–æ–¥–µ –∏ –≤ —Ü–µ–ª–æ–º –Ω–∞ —Ä–æ–≤–Ω–æ–º –º–µ—Å—Ç–µ —Ü–µ–ª–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ</p>\n<p><strong>–•–æ—Ç–µ–ª–∫–∞:</strong> –±—ã–ª–æ –±—ã –∫—Ä—É—Ç–æ, –µ—Å–ª–∏ –±—ã –æ–±—Ä–∞–∑ —Å–æ–±–∏—Ä–∞–ª—Å—è —Å—Ä–∞–∑—É –ø–æ–¥ amd64 –∏ arm64, —á—Ç–æ –±—ã –µ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –≥–æ–Ω—è—Ç—å –∏ –≤ –∫—É–±–µ—Ä–µ, –∏ –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –º–∞–∫–µ</p>\n<p><strong>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</strong></p>\n<p>–ò–º—è —Å–ª–µ–¥—É—é—â–∏–π Dockerfile:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">FROM nginx:alpine\nCOPY index.html /usr/share/nginx/html/index.html</code></pre></div>\n<p>–ú—ã –º–æ–∂–µ–º —Å–æ–±—Ä–∞—Ç—å –µ–≥–æ –ø–æ–¥ —Å–≤–æ—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –≤–æ—Ç —Ç–∞–∫:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> build <span class=\"token parameter variable\">-t</span> mactemp1 <span class=\"token builtin class-name\">.</span></code></pre></div>\n<p>–ò–ª–∏ –ø–æ–¥ —Ü–µ–ª–µ–≤—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –≤–æ—Ç —Ç–∞–∫:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> build <span class=\"token parameter variable\">--platform</span><span class=\"token operator\">=</span>linux/amd64 <span class=\"token parameter variable\">-t</span> mactemp2 <span class=\"token builtin class-name\">.</span></code></pre></div>\n<p>–ù–æ –ø—Ä–∏ —ç—Ç–æ–º —ç—Ç–æ –¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–∞</p>\n<p>–ò –≤–æ—Ç —á—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –µ—Å–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ <a href=\"https://hub.docker.com/_/nginx\">—Å—Ç—Ä–∞–Ω–∏—á–∫—É docker hub</a> –¥–ª—è —Ç–æ–≥–æ –∂–µ nginx, —É–≤–∏–¥–∏–º —á—Ç–æ –æ–±—Ä–∞–∑ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/37d89818e08f97130d7ea6d2462f7195/07d37/image-20250616-083306.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABbklEQVR42qWQb0+CUBTGMbc+TOsr6OZXaX0XeVPfJfujjRiWrVe9YRMdW4ATJdOLgAgI915P5zJsbW1trWd7eM459/LjDElCecPhyXj82tINo2GaZtMwjMpmU/S6rqONpm3bZS8samHLshqO47RGo9GpVKkeuJM+QAphvGVplkG2y+GQSbqD5ZIAIQS2SQJBEEEYRpDheZpmsIljBqjFYjE4AI/DMBykeNmxLea6LqYNnjcH/DKsViv4Tfv9vgQi4wVZRyUwiqIBYwzeLIdNpjOwnSmsgw0QP4BoswXGATj/AzAIgicxnMx8ars+d2aEeyTlc5/z9zXlJCr4NqOcMzRnpSmlHJcQLsS7uNTzd+BADD+WPluvI5EQJ/h/Mg55wYCxPZoDMoBWWVCc49p5Tn9sWL/r9c60R+3i6vq+3blV5M6NIiuKKmuaKquaJiuqJqsq1qqo1bL+SuWh3e/3L7vd7jmyalL1qEn/V8n4BETLvA+dNkQLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20250616-083306.png\"\n        title=\"\"\n        src=\"/static/37d89818e08f97130d7ea6d2462f7195/2bef9/image-20250616-083306.png\"\n        srcset=\"/static/37d89818e08f97130d7ea6d2462f7195/6f3f2/image-20250616-083306.png 256w,\n/static/37d89818e08f97130d7ea6d2462f7195/01e7c/image-20250616-083306.png 512w,\n/static/37d89818e08f97130d7ea6d2462f7195/2bef9/image-20250616-083306.png 1024w,\n/static/37d89818e08f97130d7ea6d2462f7195/71c1d/image-20250616-083306.png 1536w,\n/static/37d89818e08f97130d7ea6d2462f7195/07d37/image-20250616-083306.png 1790w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>–ù–æ –ø—Ä–∏ —ç—Ç–æ–º, –≤—ã—Ç—è–≥–∏–≤–∞—è –æ–±—Ä–∞–∑ –∏ –¥–µ–ª–∞—è –∏–Ω—Å–ø–µ—Ü–∏—é –≤–∏–¥–∏–º —Å–ª–µ–¥—É—é—â–µ–µ:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bdf1667a778a4192255feb0de3b57595/93582/image-20250616-083440.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.578125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABoElEQVR42q2Rv2rCUBTG7dQ1rr6AmyDSuojv06G4li5C+wDBvkAm5yziJIi4ZVDUiho0GhOtV5v//r/q6bm3NCB0KfTAj3zk3PPluycR9fHxtlh8iEqyJFSr1RBJrgo5URRERJIkIZ/PC7lcjmtZlq8olUrRcrl8G2GlK8rzx+x9p6+Mued45NP6JK7jkIXlkq42JeqgTya6TgzTJIZhENt2yHq9Jr7/QzALgvV+PNafuGGtVisQQmCsjelgMIDhcMgZjUbQ6/VgPp+D4zhwPp+BUso5nU4cpo/HIwUsTdNEblipVArT6RRUVaWNRgP6/T60Wi1oNpvQbre5aafTAXaGfXixWMByuYTVasWf+I4yYzwnhglZAxNRlgyNeTqWlhnYtg2WZYHrurDZbGC73fJkQRCA7/vgeR5POJlMvg3r9foba+AAxSYfYNfBq8DhcAjZ7/ehvlwuYX+3210bKoryins64cIt0zTxfzguLp2DiX7VmC7UiIWm5263+8INk8lkLJvN3qWxMplMOpVKpROJxJ/Amft4PB5Du5vIf9cXfnTVxsMAeBAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20250616-083440.png\"\n        title=\"\"\n        src=\"/static/bdf1667a778a4192255feb0de3b57595/2bef9/image-20250616-083440.png\"\n        srcset=\"/static/bdf1667a778a4192255feb0de3b57595/6f3f2/image-20250616-083440.png 256w,\n/static/bdf1667a778a4192255feb0de3b57595/01e7c/image-20250616-083440.png 512w,\n/static/bdf1667a778a4192255feb0de3b57595/2bef9/image-20250616-083440.png 1024w,\n/static/bdf1667a778a4192255feb0de3b57595/93582/image-20250616-083440.png 1524w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤ docker hub –æ–±—Ä–∞–∑ —á–∏—Å–ª–∏—Ç—å—Å—è –∫–∞–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π —Å—Ä–∞–∑—É N –ø–ª–∞—Ç—Ñ–æ—Ä–º, –ø—Ä–∏ —ç—Ç–æ–º –≤—ã—Ç—è–Ω—É–≤ –æ–±—Ä–∞–∑ –ª–æ–∫–∞–ª—å–Ω–æ - –º—ã –≤–∏–¥–∏–º arm64</p>\n<p>–î–≤–∞ –∫–ª—é—á–µ–≤—ã—Ö –º–æ–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞—Å—Å—Ç–∞–≤–ª—è—é—Ç –≤—Å–µ –ø–æ —Å–≤–æ–∏–º –º–µ—Å—Ç–∞–º:</p>\n<ol>\n<li><code class=\"language-text\">docker engine</code> (–∫–æ—Ç–æ—Ä—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π docker) –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ–¥–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π, –æ–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–Ω–æ–π, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ –æ–¥–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ</li>\n<li><code class=\"language-text\">docker registry</code> (–∫–æ—Ç–æ—Ä—ã–π docker hub, azure container registry, ‚Ä¶) –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–¥ –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ URL —Ö—Ä–∞–Ω–∏—Ç—å N –æ–±—Ä–∞–∑–æ–≤ –ø–æ–¥ —Ä–∞–∑–Ω—ã–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏</li>\n<li><code class=\"language-text\">docker pull</code> –≤—ã—Ç—è–≥–∏–≤–∞–µ—Ç –æ–±—Ä–∞–∑ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø–æ–¥ —Ç–µ–∫—É—â—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É, –Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ñ–ª–∞–≥ <code class=\"language-text\">--platform=linux/amd64</code></li>\n<li><code class=\"language-text\">docker pull</code> –Ω–µ –º–æ–∂–µ—Ç –≤—ã—Ç—è–Ω—É—Ç—å –æ–±—Ä–∞–∑–∞ –ø–æ–¥ –≤—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, —Ç.–∫. –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º docker engine –æ–Ω–∏ –ø–æ —Å—É—Ç–∏ –ø–µ—Ä–µ—Ç—Ä—É—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ - <em>docker engine –Ω–µ —É–º–µ–µ—Ç –¥–µ—Ä–∂–∞—Ç—å –æ–±—Ä–∞–∑ —Å—Ä–∞–∑—É –ø–æ–¥ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º</em> - –∫–∞–∂–¥–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ –∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –∏–º–µ—Ç—å –∏—Ö –ª–æ–∫–∞–ª—å–Ω–æ –∏ –Ω–µ –ø–µ—Ä–µ—Ç–µ—Ä–∞—Ç—å - —ç—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å –∏—Ö –ø–æ–¥ —Ä–∞–∑–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏</li>\n<li><code class=\"language-text\">docker registry</code> –ø–æ —Å—É—Ç–∏ –≤—ã—Å—Ç—É–ø–∞–µ—Ç —Å–∞—Ö–∞—Ä–æ–º\\–ø–ª—é—à–∫–æ–π –∫–æ—Ç–æ—Ä–∞—è –∑–∞ –¥–ª—è –¥–æ–±—Å—Ç–≤–∞ –¥–µ—Ä–∂–∏—Ç –æ–±—Ä–∞–∑–∞, —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ –æ–¥–Ω–æ–º —Ñ–ª–∞–∫–µ, –Ω–æ –ø–æ —Å—É—Ç–∏ —ç—Ç–æ —ç–¥–∞–∫–∏–µ alias/links/references</li>\n</ol>\n<p><strong>–ü—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–∞</strong></p>\n<p>–û–ø–∏—Å–∞–Ω–æ–µ –≤—ã—à–µ –ø–æ—è—Å–Ω—è–µ—Ç –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç read –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–æ–∫—Ä—É–≥ —ç—Ç–æ–≥–æ –¥–µ–ª–∞, –Ω–æ –≤–æ–ø—Ä–æ—Å - –∫–∞–∫ –±—ã—Ç—å —Å create/update - –∫–∞–∫ —Å–æ–±—Ä–∞—Ç—å –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑, –≤–µ–¥—å –∏—Å—Ö–æ–¥—è –∏–∑ —Ç–æ–≥–æ —á—Ç–æ –æ–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ –º—ã –º–æ–≥–ª–∏ –±—ã —Å–¥–µ–ª–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –¥–≤—É—Ö:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> build <span class=\"token parameter variable\">--platform</span><span class=\"token operator\">=</span>linux/amd64 <span class=\"token parameter variable\">-t</span> mactemp <span class=\"token builtin class-name\">.</span>\n<span class=\"token function\">docker</span> publish mactemp\n\n<span class=\"token function\">docker</span> build <span class=\"token parameter variable\">--platform</span><span class=\"token operator\">=</span>linux/arm64 <span class=\"token parameter variable\">-t</span> mactemp <span class=\"token builtin class-name\">.</span>\n<span class=\"token function\">docker</span> publish mactemp <span class=\"token comment\"># will override previous image</span></code></pre></div>\n<p>–∏–ª–∏ –≤–æ—Ç —Ç–∞–∫:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> build <span class=\"token parameter variable\">--platform</span><span class=\"token operator\">=</span>linux/amd64 <span class=\"token parameter variable\">-t</span> mactemp1 <span class=\"token builtin class-name\">.</span>\n<span class=\"token function\">docker</span> publish mactemp1\n\n<span class=\"token function\">docker</span> build <span class=\"token parameter variable\">--platform</span><span class=\"token operator\">=</span>linux/arm64 <span class=\"token parameter variable\">-t</span> mactemp2 <span class=\"token builtin class-name\">.</span>\n<span class=\"token function\">docker</span> publish mactemp2 <span class=\"token comment\"># different images</span></code></pre></div>\n<p>–í–æ—Ç —Ç—É—Ç –Ω–∞ —Å—Ü–µ–Ω—É –∏ –≤—ã—Ö–æ–¥–∏—Ç –ø–æ–¥–µ–ª–∫–∞ buildkit –∏ –µ–≥–æ –ø–ª–∞–≥–∏–Ω –¥–ª—è docker - buildx</p>\n<p>BuildX —ç—Ç–æ –≤ –∫–∞–∫–æ–π —Ç–æ –º–µ—Ä–µ docker compose - –ø–æ–¥–µ–ª–∫–∞ –ø–æ–∑–≤–æ–ª—è—é—â–∞—è —É–ø—Ä–æ—Å–∏—Ç—å —Ä—É—Ç–∏–Ω—É</p>\n<p>–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º —ç—Ç–∞ —à—Ç—É–∫–∞ —Ö—ç–Ω–¥–ª–∏—Ç —Ç–æ—Ç —Ñ–∞–∫—Ç —á—Ç–æ –≤ docker engine –Ω–µ–ª—å–∑—è –∏–º–µ—Ç—å –æ–±—Ä–∞–∑ —Å—Ä–∞–∑—É –ø–æ–¥ –Ω–µ—Å–∫–æ–ª—å–∫–æ–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏, —Å–æ–±–∏—Ä–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ –æ–±—Ä–∞–∑–∞ –∏ –ø—É–±–ª–∏–∫—É–µ—Ç –∏—Ö –≤ –∫—É—á—É –≤ container registry</p>\n<p>–ü–æ–∂–∞–ª—É–π —Å–∞–º–æ–µ –∫–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –æ—Å–æ–∑–Ω–∞—Ç—å –∏ –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å —á—Ç–æ –∏ –∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–∞–ª—å—à–µ - <em>–æ–±—Ä–∞–∑–∞ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∏ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ</em></p>\n<p><strong>builders</strong></p>\n<p>–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–±–æ—Ä—â–∏–∫–æ–≤ –º–æ–∂–Ω–æ –≤–æ—Ç —Ç–∞–∫:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> buildx <span class=\"token function\">ls</span></code></pre></div>\n<p>–±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–∞ —Ç–∞–±–ª–∏—á–∫–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–±–æ—Ä—â–∏–∫–æ–≤, –≤—ã–±—Ä–∞–Ω–Ω—ã–π –±—É–¥–µ—Ç –ø–æ–º–µ—á–µ–Ω –∑–≤–µ–∑–¥–æ—á–∫–æ–π</p>\n<p>–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –Ω–∏–º–∏ –º–æ–∂–Ω–æ –≤–æ—Ç —Ç–∞–∫:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> buildx use <span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span></code></pre></div>\n<p>–ø—Ä–æ–∏–Ω—Å–ø–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä—â–∏–∫ –º–æ–∂–Ω–æ –≤–æ—Ç —Ç–∞–∫</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> buildx inspect <span class=\"token comment\"># will inspect current/default builder</span>\n<span class=\"token function\">docker</span> buildx inspect <span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span></code></pre></div>\n<p>–≤–æ—Ç —ç—Ç–∏ –∏–Ω—Å–ø–µ–∫—Ü–∏–∏ –∏ –≤–æ—Ç —ç—Ç–æ –≤—Å–µ –Ω–∞–º –Ω–µ –ø–æ–Ω–∞–¥–æ–±—è—Ç—å—Å—è –∏ —Ç—É—Ç —Å–∫–æ—Ä–µ–µ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏, —Å–º. –¥–∞–ª—å—à–µ</p>\n<p>–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ —Å–æ—Ñ—Ç–∞ (colima, docker for mac, ‚Ä¶) —Å–ø–∏—Å–æ–∫ —Å–±–æ—Ä—â–∏–∫–æ–≤ –º–æ–∂–µ—Ç —É–∂–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–∞–∫–∏–µ —Ç–æ –ø—Ä–µ–¥–∑–∞–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–±–æ—Ä—â–∏–∫–∏</p>\n<p>–î–ª—è —á–∏—Å—Ç–æ—Ç—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤, —Å–æ–∑–¥–∞–µ–º —Å–≤–æ–π —Å–±–æ—Ä—â–∏–∫, —á—Ç–æ –±—ã —è–≤–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å —á—Ç–æ/–∫—É–¥–∞/–∫–∞–∫ –∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –∫–∞–∫ –æ–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> buildx create <span class=\"token parameter variable\">--name</span> my <span class=\"token parameter variable\">--use</span> <span class=\"token parameter variable\">--platform</span> linux/amd64,linux/arm64</code></pre></div>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:</p>\n<ul>\n<li>—Ñ–ª–∞–≥ <code class=\"language-text\">--use</code> –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç buildx –Ω–∞ –Ω–æ–≤–æ—Å–æ–∑–¥–∞–≤–∞–µ–º—ã–π —Å–±–æ—Ä—â–∏–∫, –±–µ–∑ –Ω–µ–≥–æ, –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è —Ä—É–∫–∞–º–∏ –≤–æ—Ç —Ç–∞–∫ <code class=\"language-text\">docker buildx use my</code></li>\n<li>–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Ñ–ª–∞–≥ <code class=\"language-text\">--driver docker-container</code> - —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º —á—Ç–æ —Å–±–æ—Ä–∫–∞ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å <code class=\"language-text\">--driver docker</code> - —ç—Ç–æ –ø–æ —Å—É—Ç–∏ —Ç–æ–∂–µ —Å–∞–º–æ–µ —á—Ç–æ —Å–æ–±–∏—Ä–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –¥–æ–∫–µ—Ä–æ–º, —Ç–æ –µ—Å—Ç—å –ø–æ —Å—É—Ç–∏ –±–µ–∑ –ø–ª—é—à–µ–∫ buildx</li>\n<li>–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é buildx –±—É–¥–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å –æ–±—Ä–∞–∑–∞ –ø–æ–¥ –≤—Å–µ –ø–æ–¥ —á—Ç–æ —Ç–æ–ª—å–∫–æ —Å–º–æ–∂–µ—Ç, –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –µ–≥–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤ —Ñ–ª–∞–≥ <code class=\"language-text\">--platform linux/amd64,linux/arm64</code></li>\n</ul>\n<p>–¢–µ–ø–µ—Ä—å –ø–æ–∂–∞–ª—É–π —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ - —Å—Ç–æ–∏—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> buildx <span class=\"token function\">ls</span>\n<span class=\"token function\">docker</span> <span class=\"token function\">ps</span></code></pre></div>\n<p>–ú—ã –¥–æ–ª–∂–Ω—ã –±—É–¥–µ–º –Ω–µ —Ç–æ–ª—å–∫–æ —É–≤–∏–¥–µ—Ç—å –Ω–æ–≤—ã–π —Å–±–æ—Ä—â–∏–∫ –≤ –ø–µ—Ä–≤–æ–π –∫–æ–º–∞–Ω–¥–µ, –Ω–æ –∏ –±–µ–≥—É—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–æ –≤—Ç–æ—Ä–æ–π</p>\n<p>–í —ç—Ç–æ–º –∫–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ buildx - –æ–Ω —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ, –æ–Ω–∏, –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ - —Ç–æ –µ—Å—Ç—å —Å–æ–±—Ä–∞–≤ –æ–±—Ä–∞–∑ —á–µ—Ä–µ–∑ buildx –µ–≥–æ –Ω–µ–ª—å–∑—è –±—É–¥–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å - –∏ –≤–æ—Ç —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç —Ç—Ä–æ—Ö–∏ –≤–∑—Ä—ã–≤–∞–µ—Ç –º–æ–∑–≥</p>\n<p><strong>publish</strong></p>\n<p>–ï—Å–ª–∏ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–∑–∞ —Ç–æ –≤ —á–µ–º –ø—Ä–∏–∫–æ–ª, –∑–∞—á–µ–º —ç—Ç–æ –Ω–∞–¥–æ –∏ –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è? ü§î</p>\n<p>–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è —á—Ç–æ:</p>\n<ol>\n<li>–ó–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤, –≤—Å–µ —ç—Ç–æ –Ω–∞—Ñ–∏–≥ –Ω–µ –Ω—É–∂–Ω–æ, —É—Å–ª–æ–≤–Ω–æ, –µ—Å–ª–∏ –º–Ω–µ –Ω—É–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –æ–±—Ä–∞–∑ –ª–æ–∫–∞–ª—å–Ω–æ, –º–Ω–µ –Ω–∞—Ñ–∏–≥ –Ω–µ –Ω—É–∂–Ω–æ –∫—É—á–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º, –º–Ω–µ –Ω—É–∂–Ω–∞ –º–æ—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –∏ —è –º–æ–≥—É –ø—Ä–æ—Å—Ç–æ —Å–¥–µ–ª–∞—Ç—å <code class=\"language-text\">docker build -t mactemp .</code> –∏ –≤—Å–µ</li>\n<li>–í —Å–ª—É—á–∞–µ —Å–±–æ—Ä–∫–∏ –ø–æ–¥ –º—É–ª—å—Ç–∏–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –Ω–∞–º –æ–ø—è—Ç—å –∂–µ –ª–æ–∫–∞–ª—å–Ω–æ –æ–Ω–æ –Ω–µ –Ω—É–∂–Ω–æ, —Ç.–∫. –¥–æ–∫–µ—Ä —Ç–∞–∫ –Ω–µ —É–º–µ–µ—Ç –∏ –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ buildx –ø—Ä–µ–¥–ø–æ–ª–æ–≥–∞–µ—Ç —Å–±–æ—Ä–∫—É+–ø—É–±–ª–∏–∫–∞—Ü–∏—é –≤ –æ–¥–∏–Ω —à–∞–≥, –∞ –∏–º–µ–Ω–Ω–æ:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> buildx build <span class=\"token parameter variable\">--push</span> <span class=\"token parameter variable\">-t</span> robota.azurecr.io/mactemp <span class=\"token builtin class-name\">.</span></code></pre></div>\n<p>–ü—Ä–æ—Ñ–∏—Ç –≤ —Ç–æ–º —á—Ç–æ –Ω–∞ –¥–µ–ª–µ - –æ–Ω–æ –Ω–µ —Ç–∞–∫–æ–µ —Å—Ç—Ä–∞—à–Ω–æ–µ –∏ —É–∂–∞—Å—Ç–Ω–æ–µ, –ø—Ä–æ—Å—Ç–æ —Ç—Ä–æ—Ö–∏ –Ω–µ –ø—Ä–∏–≤—ã—á–Ω–æ–µ, –Ω–æ —ç—Ç–æ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –ø–∞—Ä—ã –æ–±—Ä–∞–∑–æ–≤ –Ω–∞—á–∏–Ω–∞–µ—à—å –≤—ä–µ–∑–∂–∞—Ç—å –≤ —ç—Ç–æ –¥–µ–ª–æ</p>\n<p><strong>cleanup</strong></p>\n<p>–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ–±—Ä–∞–∑–∞, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤ –º—ã –º–æ–∂–µ–º —Ö–æ—Ç–µ—Ç—å –ø–æ—á–∏—Å—Ç–∏—Ç—å –∑–∞ —Å–æ–±–æ–π, –≤–µ–¥—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–±–æ—Ä—â–∏–∫–∞ –≤—Å–µ —Ç–∞–∫ –∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</p>\n<p>–¢—É—Ç –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞:</p>\n<p><strong>stop</strong> - —Å—Ç–æ–ø–Ω—É—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–±–æ—Ä—â–∏–∫–∞, –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π —Å–±–æ—Ä–∫–µ</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> buildx stop my</code></pre></div>\n<p><strong>remove</strong> - —É–¥–∞–ª–∏—Ç—å —Å–±–æ—Ä—â–∏–∫, —Å–æ–æ—Ç–≤ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å—Å—è –¥–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, –Ω–æ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –±—É–¥–µ—Ç –Ω—É–∂–Ω–æ –µ–≥–æ –∑–∞–Ω–æ–≤–æ —Å–æ–∑–¥–∞—Ç—å</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> buildx <span class=\"token function\">rm</span> my</code></pre></div>\n<p>–†–∞–∑ —É–∂ —É–ø–æ–º—è–Ω—É—Ç–æ –¥–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å —á—Ç–æ –æ–±—Ä–∞–∑–∞ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–Ω–∞—Ä—É–∂–∏, –ø–æ —á—É—Ç—å —á—É—Ç—å —Ç–∞–º –Ω–æ—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∫—É—á–∞ –∫–µ—à–∞, —Å–ª–æ–µ–≤, –±–∞–∑–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤ –∏ –≤–æ—Ç —ç—Ç–æ–≥–æ –≤—Å–µ–≥–æ –∏ –≤–µ—Å—å –ø—Ä–∏–∫–æ–ª –≤ —Ç–æ–º —á—Ç–æ –ø—Ä–∏–≤—ã—á–Ω—ã–µ <code class=\"language-text\">docker system prune</code> –Ω–∏—Ñ–∏–≥–∞ –∏—Ö –Ω–µ –ø–æ—á–∏—Å—Ç—è—Ç, —Ç.–∫. –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø—Ä–æ—Å—Ç–æ –Ω–µ –∑–Ω–∞—é—Ç –æ –Ω–∏—Ö</p>\n<p>–î–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å –¥–≤–µ –≤–æ—Ç —Ç–∞–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">docker</span> buildx prune <span class=\"token comment\"># remove build cache (aka docker system prune)</span>\n<span class=\"token function\">docker</span> buildx <span class=\"token function\">du</span> <span class=\"token comment\"># disk usage (aka docker system df)</span></code></pre></div>\n<hr>\n<p><strong>github actions</strong></p>\n<p>–í github actions –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã —Å–ª–µ–¥—É—é—â–∏–µ prerequisites</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> docker/setup<span class=\"token punctuation\">-</span>qemu<span class=\"token punctuation\">-</span>action@v3\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> docker/setup<span class=\"token punctuation\">-</span>buildx<span class=\"token punctuation\">-</span>action@v3</code></pre></div>\n<p>–≥–¥–µ:</p>\n<ul>\n<li><code class=\"language-text\">qemu</code> - —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏, —Å –ø–æ–º–æ—â—å—é –Ω–µ–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤–∏—Ä—Ç—É–∞–ª–∫–∏ –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</li>\n<li><code class=\"language-text\">buildx</code> - —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–ª–∞–≥–∏–Ω –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ docker buildx</li>\n</ul>\n<p>–¢–∞–∫ –∂–µ, –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–≤—Ç–æ—Ä–∏–∑–∏—Ä–æ–≤–∞—Ç—å docker –≤ —Ü–µ–ª–µ–≤–æ–º container registry, —ç—Ç–æ out of scope —ç—Ç–æ–π –∑–∞–º–µ—Ç–∫–∏, –Ω–æ –≤ —Å–∞–º–æ–º –ø—Ä–æ—Å—Ç–æ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–æ–±—Ä—ã–µ username –∏ password —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ—Ö–æ–∂–∏–º –Ω–∞:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> docker/login<span class=\"token punctuation\">-</span>action@v3\n  <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">registry</span><span class=\"token punctuation\">:</span> mac.azurecr.io\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> mac\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> abracadabra</code></pre></div>\n<p>–ò –ø–æ –±–æ–ª—å—à–æ–º—É —Å—á–µ—Ç—É, —ç—Ç–æ –≤—Å–µ, –Ω–∞ –¥–µ–ª–µ, –ø—Ä–µ–¥–∑–∞–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π —Å–±–æ—Ä—â–∏–∫ —É–∂–µ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ –∏ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é –∏ —Å–±–æ—Ä–∫—É as easy as:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> docker buildx build <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>push <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>platform linux/amd64<span class=\"token punctuation\">,</span>linux/arm64 <span class=\"token punctuation\">-</span>t robota.azurecr.io/mactemp<span class=\"token punctuation\">:</span>latest .</code></pre></div>\n<p>–¢–æ –µ—Å—Ç—å —Ç—É—Ç –¥–∞–∂–µ –Ω–µ –Ω—É–∂–Ω—ã –Ω–∏–∫–∞–∫–∏–µ —Å—É–ø–µ—Ä —Ö–∏—Ç—Ä—ã–µ action'—ã –∏\\–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Ç–∞–∫ –∂–µ, –º–æ–∂–Ω–æ –Ω–µ –ø–∞—Ä–∏—Ç—å—Å—è —Å –∑–∞—á–∏—Å—Ç–∫–æ–π —Å–±–æ—Ä—â–∏–∫–æ–≤, —Ç.–∫. —Å–∞–º action —ç—Ñ–∏–º–µ—Ä–µ–Ω –∏ —É–¥–∞–ª–∏—Ç—å—Å—è –ø–æ—Å–ª–µ—Ä—à–µ–Ω–∏—è</p>\n<p>–ü–æ –º–∏–º–æ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å <a href=\"https://github.com/docker/build-push-action\">docker/build-push-action</a>:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> docker/build<span class=\"token punctuation\">-</span>push<span class=\"token punctuation\">-</span>action@v6\n  <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">context</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\".\"</span> <span class=\"token comment\"># optional, context path</span>\n    <span class=\"token key atrule\">file</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Dockerfile\"</span> <span class=\"token comment\"># optional, path to docker file</span>\n    <span class=\"token key atrule\">platforms</span><span class=\"token punctuation\">:</span> linux/amd64<span class=\"token punctuation\">,</span>linux/arm64 <span class=\"token comment\"># optional, platforms</span>\n    <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># without push, this step is \"useless\", at least to check if it builds at all</span>\n    <span class=\"token key atrule\">tags</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"robota.azurecr.io/mactemp:latest\"</span> <span class=\"token comment\"># image tag</span>\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n      org.opencontainers.image.title=mactemp\n      org.opencontainers.image.source=https://github.com/rabotaua/mactemp\n      org.opencontainers.image.version=1.2.0\n      org.opencontainers.image.revision=192a4d4\n      org.opencontainers.image.vendor=robota.ua</span></code></pre></div>\n<p><strong>azure container registry</strong></p>\n<p>–í –∞–∂—É—Ä–Ω–æ–º –ø–æ—Ä—Ç–∞–ª–µ, –µ—Å–ª–∏ –ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è –≤ –¥–µ—Ç–∞–ª–∏ –æ–±—Ä–∞–∑–∞, –≤ –µ–≥–æ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ –¥–æ–ª–∂–Ω–æ –±—É–¥–µ—Ç –±—ã—Ç—å —á—Ç–æ —Ç–æ —Ç–∏–ø–∞ —Ç–∞–∫–æ–≥–æ</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/af7ef13aba0475e3bfc9095fc223417b/7e9b1/image-20250617-063327.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.28125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACHklEQVR42qWT624SURSF8fJcxpeQH32hJkZr0kS8/FMTX8BoDIU0VLRTLwVDkWYsDCUEZmAuZy4MM3BmlnsfwJJ4++FJvqw957L2OidQwNy4DTnYgXTuAE4REEXEpOGElAjHRSmGSjffKa/xPgWfEzuAe6vA497bzvHjUwdPTxxZ0hw8JCq6j+p3gcOLAOVzF69bFqq6QM2I8Kpl42wU4vmph726jb0jSz76FODJmy9HZHejsHsw1Eqf59h/Z8nd6hh3azYOLub4cBmj3icuqR4k+DhMoRE1I4Zuxnj5NcT+sYfSiZDPzpZ4cfitToY3C93zrha5U5iDrrQGXcTBFPkyQbaYk87XdYw8k/jdyPNcLfi+WBk6ntDiVML1PBmEEcI4QZKktBHIshwZFTLLlNIUKZTKfMUyWxl6Ym0YhqEWzBI4risXi4XqmiQJRqMRLMuEaY7heR5oH4Ig+Inv+wohBPXLeM+VIZtIGptrLJdL2LaN6XQK13UVbLpdk9EGdU5sJ9x+i7W5Muz3+xiPxzAp6WRiUeIV3MhxnA3/NuSEfB025URcR1GE2WymlOEnYKXr/2L4nifoHVJCsnGappLMJKWTlEhhmqb63szxOkMJU74RGdb+mHCVcgGP0sVxDGrADZHRQT6s6ivWPxt/lbDT6TwwDKPe6/XKRIXRdb3SbDYrjUZDaavV+hvldrtdJ72v/ik0rq+L/4V9rv0A/QJDNCg6NbMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image-20250617-063327.png\"\n        title=\"\"\n        src=\"/static/af7ef13aba0475e3bfc9095fc223417b/2bef9/image-20250617-063327.png\"\n        srcset=\"/static/af7ef13aba0475e3bfc9095fc223417b/6f3f2/image-20250617-063327.png 256w,\n/static/af7ef13aba0475e3bfc9095fc223417b/01e7c/image-20250617-063327.png 512w,\n/static/af7ef13aba0475e3bfc9095fc223417b/2bef9/image-20250617-063327.png 1024w,\n/static/af7ef13aba0475e3bfc9095fc223417b/71c1d/image-20250617-063327.png 1536w,\n/static/af7ef13aba0475e3bfc9095fc223417b/a878e/image-20250617-063327.png 2048w,\n/static/af7ef13aba0475e3bfc9095fc223417b/7e9b1/image-20250617-063327.png 2252w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –ø–æ–∫–∞–∑–∞–Ω –∫—É—Å–æ–∫ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–µ—Ä–µ—á–∏—Å–ª—è—é—Ç—Å—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–±–∏—Ä–∞–ª—Å—è –æ–±—Ä–∞–∑, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –∏—Å–∫–æ–º—ã–µ amd64 –∏ arm64</p>"}},"pageContext":{"id":"b31bf641-f7b0-53dc-aa63-ffab652dc388"}},"staticQueryHashes":[],"slicesMap":{}}