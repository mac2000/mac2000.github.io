{"componentChunkName":"component---src-templates-note-js","path":"/compress-me/","result":{"data":{"remark":{"fields":{"path":"compress-me"},"meta":{"title":""},"headings":[{"value":"–ö–∞–∫ —ç—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"},{"value":"Offtopic: –∫–∞–∫ –ø–æ–Ω—è—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ —Å–∂–∞—Ç–∏–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã —Å–µ—Ä–≤–µ—Ä–∞?"},{"value":"–û–∫, –∞ –∑–∞—á–µ–º –º–Ω–µ –ø–æ–Ω–∏–º–∞—Ç—å —ç—Ç—É —Ç–µ–æ—Ä–∏—é?"},{"value":"–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?"},{"value":"–ö–∞–∫–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã?"}],"html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f5fa12518ecdc65242cafc5c7f3be5ca/5e79a/image-20221017-083543.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.984375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1klEQVR42p1RWwrCMBBMmjQtVqxtRUGRYi0I9fGhQn/Ve/ipN9Df4gE8gXgVz+Zs2UoRP9SByUyW7ZLZCvEdLDqCIPCllA+l1JbrG611XjZY1hlyF8aYCRUcxxlB5uzHkGOapk4cxy78OoqifpZlBn4BtnhgALbZ05wlmSkXSHP2CXgAFc0HV2EYDoqioJc2QM19HdBn7/L9K0g68MIm4u6QIOH6FVFPHHkPub2aWa0Pvt4jPM/rQgxfe2DEntYwFD9C2rY9q+1Qij9RfUj7vFQ/7y1FiScaww7dl45cXgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/f5fa12518ecdc65242cafc5c7f3be5ca/2bef9/image-20221017-083543.png\"\n        srcset=\"/static/f5fa12518ecdc65242cafc5c7f3be5ca/6f3f2/image-20221017-083543.png 256w,\n/static/f5fa12518ecdc65242cafc5c7f3be5ca/01e7c/image-20221017-083543.png 512w,\n/static/f5fa12518ecdc65242cafc5c7f3be5ca/2bef9/image-20221017-083543.png 1024w,\n/static/f5fa12518ecdc65242cafc5c7f3be5ca/71c1d/image-20221017-083543.png 1536w,\n/static/f5fa12518ecdc65242cafc5c7f3be5ca/a878e/image-20221017-083543.png 2048w,\n/static/f5fa12518ecdc65242cafc5c7f3be5ca/5e79a/image-20221017-083543.png 3439w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<blockquote>\n<p>–í–æ—Ç —Ç–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç —Å—Ä–µ–¥–Ω–µ—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –¥–µ–ª–æ –Ω–µ –≤ –∫–∞–∫–æ–º —Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ, –∞ –≤ –º–∞—Å—à—Ç–∞–±–µ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–≥–æ, –ø–ª—é—Å —á—Ç–æ –±—ã –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—å —Å–∫–æ–ª—å–∫–æ –º–µ—Å—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –±–∞–π—Ç–∏–∫–æ–≤ –∏–º–µ–µ—Ç—Å—è.</p>\n</blockquote>\n<p>–ù–∞—á–∏–Ω–∞–µ–º —Ä–∞—Å–ø—É—Ç—ã–≤–∞—Ç—å –∫–ª—É–±–æ–∫ —Å –∫–æ–Ω—Ü–∞.</p>\n<p>–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º –µ—Å—Ç—å —É –Ω–∞—Å –Ω–µ–∫–∏–π —Å–µ—Ä–≤–∏—Å –∏ –æ–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200–∫–± –¥–∞–Ω–Ω—ã—Ö.</p>\n<p>–ö–∞–∫–∏–º –±—ã –±—ã—Å—Ç—Ä—ã–º –Ω–∏ –±—ã–ª —Å–µ—Ä–≤–∏—Å, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç–∞–º –≤—Å–µ –æ—Ç–¥–∞–µ—Ç—Å—è –ø—Ä—è–º–æ –∏–∑ –ø–∞–º—è—Ç–∏, –æ—Å–Ω–æ–≤–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–π–º–µ—Ç –∏–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥–∞—á–∞ –±–∞–π—Ç–∏–∫–æ–≤ –ø–æ —Å–µ—Ç–∏.</p>\n<p>–î–µ–ª–∞–µ–º —Ä–µ—Ñ–µ—Ä–µ–Ω—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> builder <span class=\"token operator\">=</span> WebApplication<span class=\"token punctuation\">.</span><span class=\"token function\">CreateBuilder</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> app <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span><span class=\"token function\">Build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">MapGet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/kb/{kb:int}\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> kb<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">String</span><span class=\"token punctuation\">(</span><span class=\"token char\">'a'</span><span class=\"token punctuation\">,</span> kb <span class=\"token operator\">*</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">Run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —É –Ω–∞—Å –µ—Å—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–∏–ø–æ—Ç–µ–∑.</p>\n<p>–î–ª—è –Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –æ–Ω–æ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> localhost:5000/kb/2</code></pre></div>\n<p>–í–µ—Ä–Ω–µ—Ç —Ü–µ–ª—É—é –∫—É—á—É –±—É–∫–æ–≤–æ–∫ <code class=\"language-text\">–∞</code>.</p>\n<p>–î–∞–ª–µ–µ –¥–µ–ª–∞–µ–º –∑–∞–º–µ—Ä –ø–æ –æ–±—ä–µ–º—É:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-s</span> <span class=\"token parameter variable\">-o</span> /dev/null localhost:5000/kb/2 <span class=\"token parameter variable\">-w</span> <span class=\"token string\">'bytes: %{size_download} took: %{time_total}\\n'</span></code></pre></div>\n<p>–í–µ—Ä–Ω–µ—Ç –Ω–∞–º —ç—Ç–æ –¥–µ–ª–æ —Ä–æ–≤–Ω–æ <code class=\"language-text\">2048</code>, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ —Å–∫–æ–ª—å–∫–æ –∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª–∏.</p>\n<p>–¢–µ–ø–µ—Ä—å —Ç–æ –∂–µ —Å–∞–º–æ–µ —Ç–æ–ª—å–∫–æ —Å –∑–∞–º–µ—Ä–æ–º –≤—Ä–µ–º–µ–Ω–∏:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-s</span> <span class=\"token parameter variable\">-o</span> /dev/null localhost:5000/kb/2 <span class=\"token parameter variable\">-w</span> <span class=\"token string\">'bytes: %{size_download} took: %{time_total}\\n'</span></code></pre></div>\n<p>–í –º–æ–µ–º —Å–ª—É—á–∞–µ –≤–µ—Ä–Ω—É–ª–æ –≤–æ—Ç —Ç–∞–∫–æ–µ:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">bytes: 2048 took: 0.009286</code></pre></div>\n<p>–¢–æ –µ—Å—Ç—å, –ª–æ–∫–∞–ª—å–Ω–æ, –º—ã –≤—ã–≥—Ä—É–∑–∏–ª–∏ 2kb –¥–∞–Ω–Ω—ã—Ö –∑–∞ 9ms</p>\n<p>–î–∞–ª–µ–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–ø—Ä–µ—Å—Å–∏—é</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> builder <span class=\"token operator\">=</span> WebApplication<span class=\"token punctuation\">.</span><span class=\"token function\">CreateBuilder</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nbuilder<span class=\"token punctuation\">.</span>Services<span class=\"token punctuation\">.</span><span class=\"token function\">AddResponseCompression</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// POI</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> app <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span><span class=\"token function\">Build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">UseResponseCompression</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// POI</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">MapGet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/kb/{kb:int}\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> kb<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">String</span><span class=\"token punctuation\">(</span><span class=\"token char\">'a'</span><span class=\"token punctuation\">,</span> kb <span class=\"token operator\">*</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">Run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>–î–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –∫–∞–∫ –∏ –ø—Ä–µ–∂–¥–µ, —Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–æ—Ç —Ä–∞–∑ —É–∂–µ 200–∫–±:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-s</span> <span class=\"token parameter variable\">-o</span> /dev/null localhost:5000/kb/200 <span class=\"token parameter variable\">-w</span> <span class=\"token string\">'bytes: %{size_download} took: %{time_total}\\n'</span></code></pre></div>\n<p>–∏ –ø–æ–ª—É—á–∞–µ–º:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">bytes: 204800 took: 0.176370</code></pre></div>\n<p>–ª—é–±–æ–ø—ã—Ç–Ω–æ, 176ms, –ª–æ–∫–∞–ª—å–Ω–æ, –ø—Ä–∏ —Ç–æ–º —á—Ç–æ —Å–µ—Ä–≤–µ—Ä —Ç–æ –ø–æ —Å—É—Ç–∏ –Ω–∏—á–µ–≥–æ—à–µ–Ω—å–∫–∏ –Ω–µ –¥–µ–ª–∞–µ—Ç ü§∑‚Äç‚ôÇÔ∏è</p>\n<p>–¢–µ–ø–µ—Ä—å –ø—Ä–æ–±—É–µ–º —Ç–æ—á–Ω–æ —Ç–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ –Ω–∞ —ç—Ç–æ—Ç —Ä–∞–∑ –≥–æ–≤–æ—Ä–∏–º –æ —Ç–æ–º —á—Ç–æ –º—ã –≥–æ—Ç–æ–≤—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–∂–∞—Ç—ã–π –æ—Ç–≤–µ—Ç:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-H</span> <span class=\"token string\">'Accept-Encoding: gzip'</span> <span class=\"token parameter variable\">-s</span> <span class=\"token parameter variable\">-o</span> /dev/null localhost:5000/kb/200 <span class=\"token parameter variable\">-w</span> <span class=\"token string\">'bytes: %{size_download} took: %{time_total}\\n'</span></code></pre></div>\n<p>–∏ –ø–æ–ª—É—á–∞–µ–º:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">bytes: 935 took: 0.075951</code></pre></div>\n<p>–Ω–µ —Å–∫–∞–∑–∞—Ç—å —á—Ç–æ –±—ã –ø—Ä—è–º–æ –∫–æ—Å–º–æ–ª–µ—Ç, –Ω–æ —Ç—Ä–∞—Ñ–∏–∫ —Å–æ–∫—Ä–∞—â–µ–Ω –≤ —Å–æ—Ç–Ω–∏ —Ä–∞–∑, –∞ —ç—Ç–æ –ø–æ–≤–ª–∏—è–ª–æ –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞ —Ä–æ–≤–Ω–æ–º –º–µ—Å—Ç–µ —Å—Ç–∞–ª–æ —Ö2 –±—ã—Å—Ç—Ä–µ–µ, –Ω–æ –µ—â–µ –∏ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ –¥–µ–Ω—é–∂–∫—É –∑–∞ —Ç—Ä–∞—Ñ–∏–∫.</p>\n<h1>–ö–∞–∫ —ç—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</h1>\n<p>–ï—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Å–∂–∞—Ç—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏, –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –∑–∞–ø—Ä–æ—Å–∞ –æ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç <code class=\"language-text\">Accept-Encoding</code> –∑–∞–≥–æ–ª–æ–≤–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ—á–∏—Å–ª—è–µ—Ç –≤—Å–µ –≤–∏–¥—ã –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏ —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–ª–∏–µ–Ω—Ç</p>\n<p>–°–µ—Ä–≤–µ—Ä –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –≤ —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏ –≤ –æ—Ç–≤–µ—Ç–µ –ø–µ—Ä–µ–¥–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ <code class=\"language-text\">Content-Encoding</code> —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä–∞ –∫–æ—Ç–æ—Ä—ã–º –±—ã–ª–æ —Å–∂–∞—Ç–æ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞.</p>\n<p>–ü–æ —Å—É—Ç–∏ —ç—Ç–æ —Ç–æ –∂–µ —Å–∞–º–æ–µ —á—Ç–æ –∏ content negotiation, —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–∂–∞—Ç–∏—è.</p>\n<p>–ù–∞ –¥–µ–ª–µ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:</p>\n<p>–ü–µ—Ä–µ–¥–∞–µ–º –∑–∞–ø—Ä–æ—Å –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä–æ–≤, –≤ –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–∞–µ–º —Å—ã—Ä–æ–π –æ—Ç–≤–µ—Ç (–≤ –æ—Ç–≤–µ—Ç–µ –Ω–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞ <code class=\"language-text\">Content-Encoding</code> –∏ –¥–∞–Ω–Ω—ã–µ \"—á–∏—Ç–∞–µ–º—ã–µ\"):</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-s</span> <span class=\"token parameter variable\">-i</span> localhost:5000/kb/1</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">HTTP/1.1 200 OK\nContent-Type: text/plain; charset=utf-8\nDate: Sun, 16 Oct 2022 12:14:57 GMT\nServer: Kestrel\nTransfer-Encoding: chunked\n\naaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa...</code></pre></div>\n<p>–ü–µ—Ä–µ–¥–∞–µ–º –∑–∞–ø—Ä–æ—Å —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–æ–≥–æ —á—Ç–æ –º—ã —É–º–µ–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å zip:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-i</span> localhost:5000/kb/1 <span class=\"token parameter variable\">-H</span> <span class=\"token string\">'Accept-Encoding: gzip'</span></code></pre></div>\n<p>–í –æ—Ç–≤–µ—Ç –º—ã –ø–æ–ª—É—á–∏–º –≤–æ—Ç —Ç–∞–∫–æ–µ:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">HTTP/1.1 200 OK\nContent-Type: text/plain; charset=utf-8\nDate: Sun, 16 Oct 2022 12:17:21 GMT\nServer: Kestrel\nContent-Encoding: gzip\nTransfer-Encoding: chunked\nVary: Accept-Encoding\n\nWarning: Binary output can mess up your terminal. Use \"--output -\" to tell\nWarning: curl to output it to your terminal anyway, or consider \"--output\nWarning: &lt;FILE>\" to save to a file.</code></pre></div>\n<p>–° –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É <code class=\"language-text\">Content-Encoding</code> –≤ –æ—Ç–≤–µ—Ç–µ –º—ã –º–æ–∂–µ–º –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —á—Ç–æ –Ω–∞–º –ø–µ—Ä–µ–¥–∞–ª–∏ <code class=\"language-text\">gzip</code>, –Ω–æ —á—Ç–æ –µ—â–µ –ª—é–±–æ–ø—ã—Ç–Ω–µ–µ curl –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ–º –æ —Ç–æ–º —á—Ç–æ –µ–º—É –≤ –æ—Ç–≤–µ—Ç –ø–µ—Ä–µ–¥–∞–ª–∏ –∫–∞–∫–∏–µ —Ç–æ –±–∞–π—Ç–∏–∫–∏ —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –æ–Ω –Ω–µ –∑–Ω–∞–µ—Ç —á—Ç–æ –¥–µ–ª–∞—Ç—å –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∏—Ö —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª.</p>\n<p>–ß—Ç–æ –±—ã –ø–æ–±–æ—Ä–æ—Ç—å —ç—Ç–æ –¥–µ–ª–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç <code class=\"language-text\">--compressed</code> –ø–æ—Å–ª–µ —á–µ–≥–æ curl –ø–æ–ø—Ä–æ–±—É–µ—Ç —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-i</span> localhost:5000/kb/1 <span class=\"token parameter variable\">-H</span> <span class=\"token string\">'Accept-Encoding: gzip'</span> <span class=\"token parameter variable\">--compressed</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">HTTP/1.1 200 OK\nContent-Type: text/plain; charset=utf-8\nDate: Sun, 16 Oct 2022 12:19:57 GMT\nServer: Kestrel\nContent-Encoding: gzip\nTransfer-Encoding: chunked\nVary: Accept-Encoding\n\naaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa....</code></pre></div>\n<p>–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –º–∏—Ä–µ –ø–æ–ø—É–ª—è—Ä–µ–Ω –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä brotli, –ø—Ä–æ–±—É–µ–º —Å –Ω–∏–º:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-i</span> localhost:5000/kb/1 <span class=\"token parameter variable\">-H</span> <span class=\"token string\">'Accept-Encoding: br'</span> <span class=\"token parameter variable\">--compressed</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">HTTP/1.1 200 OK\nContent-Type: text/plain; charset=utf-8\nDate: Sun, 16 Oct 2022 12:24:57 GMT\nServer: Kestrel\nContent-Encoding: br\nTransfer-Encoding: chunked\nVary: Accept-Encoding\n\ncurl: (61) Unrecognized content encoding type. libcurl understands deflate, gzip content encodings.</code></pre></div>\n<p>–ö–∞–∫ –≤–∏–¥–Ω–æ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è, —Å–µ—Ä–≤–µ—Ä, –∏–∑ –∫–æ—Ä–æ–±–∫–∏ —Å –Ω–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ –≤–æ—Ç curl –Ω–µ —É–º–µ–µ—Ç.</p>\n<h1>Offtopic: –∫–∞–∫ –ø–æ–Ω—è—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ —Å–∂–∞—Ç–∏–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã —Å–µ—Ä–≤–µ—Ä–∞?</h1>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">Microsoft<span class=\"token punctuation\">.</span>AspNetCore<span class=\"token punctuation\">.</span>HttpLogging</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> builder <span class=\"token operator\">=</span> WebApplication<span class=\"token punctuation\">.</span><span class=\"token function\">CreateBuilder</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nbuilder<span class=\"token punctuation\">.</span>Services<span class=\"token punctuation\">.</span><span class=\"token function\">AddResponseCompression</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nbuilder<span class=\"token punctuation\">.</span>Services<span class=\"token punctuation\">.</span><span class=\"token function\">AddHttpLogging</span><span class=\"token punctuation\">(</span>options <span class=\"token operator\">=></span> options<span class=\"token punctuation\">.</span>LoggingFields <span class=\"token operator\">=</span> HttpLoggingFields<span class=\"token punctuation\">.</span>All<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// POI</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> app <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span><span class=\"token function\">Build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">UseHttpLogging</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// POI // FIXME: I should go after compression, left here by intent to observe compressed response bodies</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">UseResponseCompression</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">MapGet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/kb/{kb:int}\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">int</span></span> kb<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">String</span><span class=\"token punctuation\">(</span><span class=\"token char\">'a'</span><span class=\"token punctuation\">,</span> kb <span class=\"token operator\">*</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">Run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>–î–æ–±–∞–≤–∏–≤ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –º—ã –±—É–¥–µ–º –≤–∏–¥–µ—Ç—å –≤–æ—Ç —Ç–∞–∫–æ–µ:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">info: Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware[1]\n      Request:\n      Protocol: HTTP/1.1\n      Method: GET\n      Scheme: http\n      PathBase:\n      Path: /kb/1\n      Accept: */*\n      Host: localhost:5000\n      User-Agent: curl/7.79.1\n      Accept-Encoding: gzip\ninfo: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]\n      Executing endpoint 'HTTP: GET /kb/{kb:int}'\ninfo: Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware[2]\n      Response:\n      StatusCode: 200\n      Content-Type: text/plain; charset=utf-8\n      Content-Encoding: [Redacted]\n      Vary: [Redacted]\ninfo: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]\n      Executed endpoint 'HTTP: GET /kb/{kb:int}'\ninfo: Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware[4]\n      ResponseBody: JLÔøΩ!0#5ÔøΩÔøΩÔøΩÔøΩU|</code></pre></div>\n<blockquote>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: —è –Ω–∞–º–µ—Ä—è–Ω–Ω–æ –¥–æ–±–∞–≤–∏–ª –º–∏–¥–ª–≤–∞—Ä—å –Ω–µ –≤ —Ç–æ–º –ø–æ—Ä—è–¥–∫–µ, —á—Ç–æ –±—ã –≤ –ª–æ–≥–∞—Ö –±—ã–ª–∏ ‚Äú–∫—Ä—è–∫–æ–∑—è–±–ª—ã‚Äù –æ–Ω–æ –ø—Ä—è–º —Å—É–ø–µ—Ä –Ω–∞–≥–ª—è–¥–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–≥–¥–∞ –æ—Ç–≤–µ—Ç —Å–∂–∞—Ç—ã–π, –ø–ª—é—Å —Ç—É—Ç –∂–µ –≤ –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ –∫–æ–≥–¥–∞ –≤ –æ—Ç–≤–µ—Ç–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–æ–∫ content encoding –≥–æ–≤–æ—Ä—è—â–∏–π –æ —Ç–æ–º —á—Ç–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ —Å–∂–∞—Ç–∏–µ.</p>\n</blockquote>\n<h1>–û–∫, –∞ –∑–∞—á–µ–º –º–Ω–µ –ø–æ–Ω–∏–º–∞—Ç—å —ç—Ç—É —Ç–µ–æ—Ä–∏—é?</h1>\n<p>–î–µ–ª–æ –≤ —Ç–æ–º —á—Ç–æ –¥–∞–∂–µ –µ—Å–ª–∏ –º—ã –≤–∫–ª—é—á–∏–º —Å–∂–∞—Ç–∏–µ –≤ —Å–∞–º–æ–º —Å–µ—Ä–≤–∏—Å–µ, –∏–ª–∏ –Ω–∞–∫—Ä—É—Ç–∏–º –µ–≥–æ –≤ ingress –∏–ª–∏ –±—É–¥–µ–º —Ö–æ–¥–∏—Ç—å –ø–æ ‚Äú–Ω–∞—Ä—É–∂–∫–µ‚Äù —á–µ—Ä–µ–∑ cloudflare (–≥–¥–µ —ç—Ç–æ –¥–µ–ª–æ –µ—Å—Ç—å –∏–∑ –∫–æ—Ä–æ–±–∫–∏) —Å–∞–º–æ–≥–æ —Å–∂–∞—Ç–∏—è –Ω–µ –±—É–¥–µ—Ç, —Ç.–∫. –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–ª–∏–µ–Ω—Ç –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ accept encoding, –∞ –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ –≥–æ–Ω—è—é—Ç—Å—è –Ω–µ —Å–∂–∞—Ç—ã–µ –±–∞–π—Ç–∏–∫–∏.</p>\n<p>–í —Å–∞–º–æ–º –ø—Ä–æ—Å—Ç–æ–º —Å–ª—É—á–∞–µ, —á—Ç–æ –±—ã –≤—Å–µ —ç—Ç–æ –¥–µ–ª–æ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–æ –Ω—É–∂–Ω–æ —á—Ç–æ —Ç–æ —Ç–∏–ø–∞:</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\">builder<span class=\"token punctuation\">.</span>Services\n    <span class=\"token punctuation\">.</span><span class=\"token function\">AddHttpClient</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Api\"</span><span class=\"token punctuation\">,</span> client <span class=\"token operator\">=></span>\n    <span class=\"token punctuation\">{</span>\n        client<span class=\"token punctuation\">.</span>Timeout <span class=\"token operator\">=</span> TimeSpan<span class=\"token punctuation\">.</span><span class=\"token function\">FromSeconds</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        client<span class=\"token punctuation\">.</span>DefaultRequestHeaders<span class=\"token punctuation\">.</span>AcceptEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">System<span class=\"token punctuation\">.</span>Net<span class=\"token punctuation\">.</span>Http<span class=\"token punctuation\">.</span>Headers<span class=\"token punctuation\">.</span>StringWithQualityHeaderValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gzip\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        client<span class=\"token punctuation\">.</span>DefaultRequestHeaders<span class=\"token punctuation\">.</span>AcceptEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">System<span class=\"token punctuation\">.</span>Net<span class=\"token punctuation\">.</span>Http<span class=\"token punctuation\">.</span>Headers<span class=\"token punctuation\">.</span>StringWithQualityHeaderValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deflate\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">ConfigurePrimaryHttpMessageHandler</span><span class=\"token punctuation\">(</span>_ <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">HttpClientHandler</span>\n    <span class=\"token punctuation\">{</span>\n        AutomaticDecompression <span class=\"token operator\">=</span> DecompressionMethods<span class=\"token punctuation\">.</span>All\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>–¢—É—Ç –º—ã –≤–∫–ª—é—á–∞–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–µ–∫–æ–º–ø—Ä–µ—Å–∏–∏ (—É–∂ –Ω–µ –∑–Ω–∞—é –ø–æ—á–µ–º—É, –Ω–æ –∏–∑ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞, –æ–Ω–∞ –≤—Ä–æ–¥–µ –∫–∞–∫ –Ω–µ –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –∞ —Ç–∞–∫ –∂–µ –∫ –∫–∞–∂–¥–æ–º—É –∑–∞–ø—Ä–æ—Å—É –ø–æ–¥—Å–æ–≤—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫.</p>\n<h1>–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?</h1>\n<p>–†–∞—Å—Å–∫–ª–∞–¥ —Ç–∞–∫–æ–π —á—Ç–æ nginx (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ cloudflare –∏ ingress –≤ –∫—É–±–µ—Ä–µ) —É–º–µ–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–æ–º —Å–∂–∏–º–∞—Ç—å</p>\n<p>–¢–∞–∫ –≤–æ—Ç - –≤ —Ç–µ–∫—É—â–µ–π –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ ingress —ç—Ç–∞ —Ñ–∏—á–∞ –≤—ã–∫–ª—é—á–µ–Ω–∞, –Ω–æ —á—Ç–æ –µ—â–µ –≤–∞–∂–Ω–µ–µ - –º—ã –∂ –ø–µ—Ä–µ–∫–ª—é—á–∏–ª–∏—Å—å –Ω–∞ ‚Äú–≤–Ω—É—Ç—Ä—è–Ω–∫—É‚Äù, –∞ –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞–ø—Ä—è–º—É—é.</p>\n<p>–í—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫ —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ –Ω–µ —Ç–æ–ª—å–∫–æ –≤–Ω–µ—Å—Ç–∏ –ø—Ä–∞–≤–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–æ –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–∂–∞—Ç–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–∏—Å–æ–≤.</p>\n<h1>–ö–∞–∫–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã?</h1>\n<p>–ü—Ä–µ–¥–ø–æ–ª–æ–≥–∞–µ—Ç—å—Å—è —á—Ç–æ –º—ã –±—É–¥–µ–º –ø—Ä–∏–∫—Ä—É—á–∏–≤–∞—Ç—å internal ingress</p>\n<p>–ü–æ –º–∏–º–æ –±–∞–∑–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—è–≤—è—Ç—Å—è –∏–∑ –∫–æ—Ä–æ–±–∫–∏ –¥–ª—è –ª—é–±–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞</p>\n<p>–ú—ã —Ç–∞–∫ –∂–µ, –º–æ–≥–ª–∏ –±—ã –≤–∫–ª—é—á–∏—Ç—å —Å–∂–∞—Ç–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –Ω–µ–º</p>\n<p>–¢–æ–≥–¥–∞ –Ω–µ –Ω—É–∂–Ω–æ –±—ã–ª–æ –±—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–∂–∞—Ç–∏–µ –≤ —Å–∞–º–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö –∏ –æ–Ω–æ –±—ã –ø—Ä–∏–º–µ–Ω–∏–ª–æ—Å—å –≤—Å—é–¥—É</p>\n<p>–ù–æ, –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ, —á—Ç–æ —Ç–∞–º, —á—Ç–æ —Ç–∞–º, –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤—Å–µ –ø–µ—Ä–µ–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—Å–µ –Ω–∞ —Å–≤–µ—Ç–µ, –∫–∞–∫ –º–∏–Ω–∏–º—É–º –∫–ª–∏–µ–Ω—Ç—ã, –∞ –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ, –≤–µ—Ä–æ—è—Ç–Ω–æ, –µ—Å—Ç—å —Å–º—ã—Å–ª —Å–¥–µ–ª–∞—Ç—å —Å—Ä–∞–∑—É –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö, —Ç.–∫. —ç—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ–≥–¥–∞ –∏ –≤—Å—é–¥—É, –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ –∫–∞–∫ –±—É–¥–µ—Ç —É—Å—Ç—Ä–æ–µ–Ω–æ –≤ –±—É–¥—É—â–µ–º.</p>"}},"pageContext":{"id":"0b5daadc-39ae-51d4-95d7-39a70898de5f"}},"staticQueryHashes":[],"slicesMap":{}}