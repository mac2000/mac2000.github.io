{"componentChunkName":"component---src-templates-note-js","path":"/passwordless-journey/","result":{"data":{"remark":{"fields":{"path":"passwordless-journey"},"meta":{"title":""},"headings":[{"value":"Passwordless Journey"},{"value":"–ò—Å—Ç–æ—Ä–∏—è 1: S3"},{"value":"App Registrations"},{"value":"Use Case: API to API"},{"value":"myapi"},{"value":"console"},{"value":"–ö–∞–∫ –¥–µ–±–∞–∂–∏—Ç—å –¥–∂–æ–±—É"}],"html":"<h1>Passwordless Journey</h1>\n<p>–í –¥–æ–∫—É–º–µ–Ω—Ç–µ –±—É–¥—É—Ç –∑–∞–ø–∏—Å–∞–Ω—ã –≤—Å—è–∫–∏–µ –¥–µ–º–∫–∏ –∏ –ø—Ä–∏–º–µ—Ä—ã –∫–∞–∫ –º—ã –ø—ã—Ç–∞–ª–∏—Å—å –ø–æ–Ω—è—Ç—å —Å–º–æ–∂–µ–º –ª–∏ –º—ã —Å–¥–µ–ª–∞—Ç—å —ç–¥–∞–∫–∏–π passwordless –æ–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏</p>\n<p>–ù–∞ –≤—ã—Ö–æ–¥–µ –ø–æ–ª—É—á–∏—Ç—å—Å—è —á—Ç–æ —Ç–æ —Ç–∏–ø–∞ —Ç–∞–∫–æ–≥–æ</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d283cf48739f6c937e35f620b7a194c2/161ec/image-20230327-114409.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80.078125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC50lEQVR42o2UTW8bVRSG/SNY8C/Y8BtgxwYVsSKiEpUqsWRTZUXEgkqwqMSmiKiLqA0fAkobtbCorCCrBlq3adzEThw79Uccj2fuzNyP+UhQeTgzUawYKDDS0ZXOnfue97znvbdijOGfQ2NsjvEbuMFlstEnmIOVk/wLzxgqL96M0O4PkslXTGovs/PjS5it17Amlj2L0fok/j9gjLbPSaZrRI9fpb/+CsnOubJQCZgkmCz9G+M5QC0VYx3PAI07IvZ+ZbxxkenT9wm7nworyacpce8ZUXNbunByxpSh9QzQomV1JiFPjkU7e6Zqgjc1jA6UHMrQscYdH+P/9ojx7Z/IjzKOrJYwJAXDQhNrFKnTHKo+G4M6Jj5labF2KkW6sr9HlgxL3eLEcbixiVer09I5dc/xyzRhP7RUih+fZ7cgvUtf3WC19jHD72+jw1AYJQLUwUVfEh7KhMM7FN/yF9e4vPQRiI5XWop3HyjeeRhxc+ioZFmP9tbn9FrL7Hsr3GwsM261UYGPH8QkepdO8yrbm1cZ9L7FSsvVR+vcWr6Crd7ns60JF6odFu51+KEfi4bNNdKHS3S7N1i89B6ePyHJ83J6NvsdvV0lX19kt73KwsJbxIHhyWGdWvcOWexY7Vs+bDuWOhnrXkpF7zcJW1XaOw1WVq6XottyKLI6sYbyUMMOg0GfRqMxc0MR1lmmgWLvWZ/hxCOSXMUkmXjqWORIyfOMQH5QKiwtUKyBhIo0YRjhpICdc4BMVmwThUoGKwVKH5aOj088KNMtQimf8XhUrlEUlVHkT5npMzek2PN9f5avzN1dI9XiMc3hIk+GH9A8uEQY94RZJsxMye6U4UlhJR0FcwXmAK2YOIyHrN1/k2/uvc5a/Q1Gk8fSkpXWg/JwEQVQwSoUaxVnz8rwF4YF4Ij67nl+3j5Hrf02k2BTJEmFeTSTpBzIGbb/8jgUV1DRHd1lc/drnu59J0ATYe7+89k6BfwTcDyWtKZcBugAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/d283cf48739f6c937e35f620b7a194c2/2bef9/image-20230327-114409.png\"\n        srcset=\"/static/d283cf48739f6c937e35f620b7a194c2/6f3f2/image-20230327-114409.png 256w,\n/static/d283cf48739f6c937e35f620b7a194c2/01e7c/image-20230327-114409.png 512w,\n/static/d283cf48739f6c937e35f620b7a194c2/2bef9/image-20230327-114409.png 1024w,\n/static/d283cf48739f6c937e35f620b7a194c2/71c1d/image-20230327-114409.png 1536w,\n/static/d283cf48739f6c937e35f620b7a194c2/161ec/image-20230327-114409.png 1840w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>–ù–æ –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –∑–∞–ø—Ä—ã–≥–∏–≤–∞—Ç—å –≤–æ –≤—Å—é —ç—Ç—É –∏—Å—Ç–æ—Ä–∏—é –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π —Å–µ—Ç–∞–ø</p>\n<h1>–ò—Å—Ç–æ—Ä–∏—è 1: S3</h1>\n<p>–°—Ü–µ–Ω–∞—Ä–∏–π —Ç–∞–∫–æ–π - –º—ã —Ö–æ—Ç–∏–º S3 —Ç–æ–ª—å–∫–æ –∞–∂—É—Ä–Ω—ã–π</p>\n<p>–î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–µ–º –≤ azure storage account</p>\n<p>–í—ã–±–∏—Ä–∞–µ–º –ª—é–±—É—é –∏–∑ –ø–æ–¥–ø–∏—Å–æ–∫, —Å–æ–∑–¥–∞–µ–º —Å–≤–æ—é —Ä–µ—Å—É—Ä—Å–Ω—É—é –≥—Ä—É–ø–ø—É, –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –¥–∞–ª—å—à–µ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3afe2c101d2c30f4c7f5a1116678e2cf/f02b9/image-20230327-114827.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 90.234375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAABwklEQVR42qWU6ZLiMAyEef9XhOLXAhXI6SSOczhafZo4O8Mcu9SmSuVE2K1Wt8whyzI5nU5yu93kfD7L8XiUy+WXvfd9L68+hxCCeO/1sDeAtm2l6zrL8ds8zxJjtHVZFntP3+u6fgbMykY6HxTIyTiOMgyDAU7TZODOOTtMMYqwh0LsiXH5DAiz++MhdVV9WfHllr1WzvNcCo2qLKVS4LIopNCw97IyNjAkBmW5f28rndAZhA4kHsqw06Tf2vLbIQy7Xq/imsbapl2kSMF3yiGDASI06LMmETs96xrFw0CDzUQC+CrA4PyBwyRgRCQdY1zl8qildJ1tpPBPAUtj+J24wM5KOL7ok2mIARiDTv/tMr3jZl3Xu3u4llwl13bq7hT/DRD9GF4OsoYw7JoURS6NFgpBRQ/jj6bsLjMiDWOhAAD9MSWaDLmOVKnz2W+3568up7v5/EQFdsOkMUvVTzIvL7T8ftLTM+r5zAVj321/HHTDvqRvyrHSsgECAsPne7zovBS1s+vYusZMQ2OCd4JiBFLEZfnIMIm6z6EWQbv7/W5Xk2C8EssUfKert2s4bYbIM0vNvf0Pzm/rN3MKkRS/AS6KgRGTuqsrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/3afe2c101d2c30f4c7f5a1116678e2cf/2bef9/image-20230327-114827.png\"\n        srcset=\"/static/3afe2c101d2c30f4c7f5a1116678e2cf/6f3f2/image-20230327-114827.png 256w,\n/static/3afe2c101d2c30f4c7f5a1116678e2cf/01e7c/image-20230327-114827.png 512w,\n/static/3afe2c101d2c30f4c7f5a1116678e2cf/2bef9/image-20230327-114827.png 1024w,\n/static/3afe2c101d2c30f4c7f5a1116678e2cf/71c1d/image-20230327-114827.png 1536w,\n/static/3afe2c101d2c30f4c7f5a1116678e2cf/f02b9/image-20230327-114827.png 1554w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<blockquote>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –∑–¥–µ—Å—å –∏ –¥–∞–ª–µ–µ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ —Å–µ–±–µ –≤—ã–ø–∏—Å—ã–≤–∞—Ç—å —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ –º–µ–Ω—è–µ—Ç—Å—è, —á—Ç–æ –±—ã –∑–∞—Ç–µ–º –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–æ—á–∏—Å—Ç–∏—Ç—å –∑–∞ —Å–æ–±–æ–π, —Ç–∞–∫ –∂–µ –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ, –≤–µ–∑–¥–µ –≥–¥–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ —Ä–µ—Å—É—Ä—Å–Ω—É—é –≥—Ä—É–ø–ø—É - –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∏–∑ –æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –≤—Å–µ –≥—Ä–æ—Ö–Ω—É—Ç—å</p>\n</blockquote>\n<p>–¢–∞–∫, —Å–æ–∑–¥–∞–ª —è —Å–∞–º storage account, –Ω–æ —Ç–µ–ø–µ—Ä—å –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π container</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2925ba8bef37d81d41a13cc59637f917/60c1e/image-20230327-115047.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.171875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABbUlEQVR42o1S2WrDMBDU//9EH/o7pW+FYkid5nJkRdERy4cke7rrNMWkKXRhkayRZmYHi9K0KKXF+1ZjJR2KymJ1dJB+wN5F2G5EM0y4zH3dmzBgtTmgKLd4Kz5wUAZtAlwbIQ7OYLMusflcwzuLs1aw5ow4DEgxAtN01yNSSugJzykj5Yycx294gqjPDRGQQtthHMdrE3AJLbz3dN6i6zoMRMDd9z0aultsJXb0VoUETVOokKHJppDqBKXqqyNSzqTIBLWUqOsa+/0e+nT6wXiN5FwphaqqoOiOs5bE+nkisauPOOy2uNC4jXfzygCTshsuHqVpGjjn5gnYNWNa6/keC3CzoJCnQAoGy2ICT4+XhDy+oWiYNBA5nzE5r8sS2lBOIcwKS5D399+3jNnJXyW0dbNDQzk8UnxUjwhvr0RtPeSxIocJ/y0mjHma+z4qMXSecvG/Rn5UN7SPGU8vZzy/XrMPcYSm36YfIr4A5TkKeA4O1z4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/2925ba8bef37d81d41a13cc59637f917/2bef9/image-20230327-115047.png\"\n        srcset=\"/static/2925ba8bef37d81d41a13cc59637f917/6f3f2/image-20230327-115047.png 256w,\n/static/2925ba8bef37d81d41a13cc59637f917/01e7c/image-20230327-115047.png 512w,\n/static/2925ba8bef37d81d41a13cc59637f917/2bef9/image-20230327-115047.png 1024w,\n/static/2925ba8bef37d81d41a13cc59637f917/71c1d/image-20230327-115047.png 1536w,\n/static/2925ba8bef37d81d41a13cc59637f917/60c1e/image-20230327-115047.png 1866w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>–û–ø—è—Ç—å —Ç–∞–∫–∏ –≤—Å–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–∞–º –æ—Å–æ–±–æ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç —á—Ç–æ —Ç–∞–º –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ, —á—Ç–æ –ø—É–±–ª–∏—á–Ω–æ–µ –∏ –≤–æ—Ç —ç—Ç–æ –≤—Å–µ</p>\n<p>–ù—É –∏ —Å–ª–µ–¥–æ–º —Ç—É–¥–∞ —Ä—É–∫–∞–º–∏ –∑–∞–∫–∏–Ω—É—Ç—å –∫–∞–∫–æ–π —Ç–æ —Ñ–∞–π–ª–∏–∫</p>\n<p>–î–∞–ª–µ–µ –∏–¥–µ–º –≤ —Ä–∞–∑–¥–µ–ª Access keys –∏ –∑–∞–±–∏—Ä–∞–µ–º —Å–≤–æ–∏ –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e6ae240f44c1ee52a8807c1ff2381c8c/e431d/image-20230327-115229.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.79687500000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABDUlEQVR42o1Ra4+CQBDz//9GcwoeArJvXrIL1Jk5MWjug5M0DbvQdsphnWpc8jNOpzO01jDGQCmFaZrAsz7x7Ry6YUDf90gpCeZ5FmZxay3arkOks5jofMd7vAk6EnTOidC6rgIWLMtSRIP38AR+5xNs6InfBGvTo2kaEdqGBUM3ILQtxnHEuixYCF+t7EKPgVLyB5so96fIxDlLnf6tzrVsdWyIMeJ+H4X5WQS186+fsaVIKaKuKzS3GiF4tG0Q5vVfCAFGK5TXXzL2YiiCpu3lgl04IaeIcUKeX5BlmXRZVZXwJ4qikPR8755dHuoqx8/xiKq8wtJ6HaXpqLubtlDayA/hHtnwv+EQ+7oeEIVsVmLw8VYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/e6ae240f44c1ee52a8807c1ff2381c8c/2bef9/image-20230327-115229.png\"\n        srcset=\"/static/e6ae240f44c1ee52a8807c1ff2381c8c/6f3f2/image-20230327-115229.png 256w,\n/static/e6ae240f44c1ee52a8807c1ff2381c8c/01e7c/image-20230327-115229.png 512w,\n/static/e6ae240f44c1ee52a8807c1ff2381c8c/2bef9/image-20230327-115229.png 1024w,\n/static/e6ae240f44c1ee52a8807c1ff2381c8c/71c1d/image-20230327-115229.png 1536w,\n/static/e6ae240f44c1ee52a8807c1ff2381c8c/e431d/image-20230327-115229.png 1882w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>–ì—É–≥–ª–∏–º –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≥–æ—Ç–æ–≤–∏—Ç—å —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã dotnet –∏ –ø–æ–ø–∞–¥–∞–µ–º –Ω–∞ –≤–æ—Ç —ç—Ç—É <a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-dotnet?tabs=net-cli%2Cconnection-string%2Croles-azure-portal%2Csign-in-azure-cli%2Cidentity-visual-studio\">—Å—Ç–∞—Ç—å—é</a></p>\n<p>–£ –º–µ–Ω—è –ø–æ–ª—É—á–∏–ª–æ—Å—å —á—Ç–æ —Ç–æ —Ç–∏–ø–∞ —Ç–∞–∫–æ–≥–æ:</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">Azure<span class=\"token punctuation\">.</span>Storage<span class=\"token punctuation\">.</span>Blobs</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// dotnet add package Azure.Storage.Blobs</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> client <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">BlobServiceClient</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DefaultEndpointsProtocol=https;AccountName=mactemp;AccountKey=xxxxxxxxxxxxx;EndpointSuffix=core.windows.net\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> container <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span><span class=\"token function\">GetBlobContainerClient</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"demo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">foreach</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">var</span></span> blob <span class=\"token keyword\">in</span> container<span class=\"token punctuation\">.</span><span class=\"token function\">GetBlobs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Console<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span>blob<span class=\"token punctuation\">.</span>Name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/51123b4440f2cce9ab0f0b95050f415e/a878e/image-20230327-115608.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACV0lEQVR42qWTTWsTURSGpygIQhXbtS5CIKvuGpRQXEoFV9KB2Cj+BFcuXLpwqwuh9eMfiJsWKUKxWQRqkEogOjRd2WQmaSdtJsnM3I+5MzfHc2+SfmCVgie8uZMzJ0/ec07G+GCaF2rf1+e//fia3/65vVCtVk0ly7LwtMytrS2zVCqZpc1NfV2pVE6pXC4vFIvFPNbcNQxjwpi5MXPt2dMnDXvPBkqZ5JwBiyIIwwDiWIDAa0oIigLnEX4WEGFuLEopfoeD53nNTCYziVBjenY2a+/UdhASSkJCDewHDLo+gkUEQcQhxNwApH4N4FRI9UYIaaVSqasamMvlbMuqge3sSdf1gKOLgAqoux2w2wfwC1Xv7EGz54LjNqDXbgI9OATmdYH3+xqITlvpqakrR8DdegP8IJTdbg84umIkgXaDQ932ob3fh936ATh2Ew4VsNsF1vdBUAYyiTUQ226l0+khcG5uznYcRyWl7/s4G5yTkCCwluJ8BCc4Dg5BGIGUyZktnwlkjGkgwV8meglMFWIeoUIACUNI4hhGAL0UZWI4Q3oMVC2PgUEQQMfr4TwdcF1XDRtd4SIGuJJkeKpQp86pmxjspMNsNmtjnGg50hDlagz4R/zZcu7WzXrLsSERURz0ezhnIUeF51E8dEidqfGWb9+5Z9d2W9AhsexFA+DJ4Kg6+QslOZZ2uH/otZCl/ofTk9cfPH83/+Ljmvny00r+9fpqYenL6iKqsLShtYh6tDw8H78tai2O7j1c3lgpvCmu3X/1+T3CLhv6+TOMi6hL/ynFmPgN5v8FkmvhZ3gAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/51123b4440f2cce9ab0f0b95050f415e/2bef9/image-20230327-115608.png\"\n        srcset=\"/static/51123b4440f2cce9ab0f0b95050f415e/6f3f2/image-20230327-115608.png 256w,\n/static/51123b4440f2cce9ab0f0b95050f415e/01e7c/image-20230327-115608.png 512w,\n/static/51123b4440f2cce9ab0f0b95050f415e/2bef9/image-20230327-115608.png 1024w,\n/static/51123b4440f2cce9ab0f0b95050f415e/71c1d/image-20230327-115608.png 1536w,\n/static/51123b4440f2cce9ab0f0b95050f415e/a878e/image-20230327-115608.png 2048w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>–ö–æ—Ä–æ—á–µ –Ω–µ —Ä–∞–∫–µ—Ç–æ-—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ –Ω–∞ –¥–µ–ª–µ —Ç–∞–∫–æ–µ –∂–µ –ø—Ä–æ—Å—Ç–æ–µ –∫–∞–∫ S3</p>\n<p>–î–∞–ª—å—à–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –∏ –ø–æ —Å—É—Ç–∏ –Ω–∞—à–µ –ø–µ—Ä–≤–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å passwordless –ø–æ–¥—Ö–æ–¥–∞–º–∏</p>\n<p>–í—Å–µ–º —ç—Ç–∏–º –¥–µ–ª–æ–º –±—É–¥–µ—Ç –∑–∞–ø—Ä–∞–≤–ª—è—Ç—å –ø–∞–∫–µ—Ç Azure.Identity –≤–æ—Ç –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">using Azure.Identity<span class=\"token punctuation\">;</span>\nusing Azure.Storage.Blobs<span class=\"token punctuation\">;</span>\n\n// dotnet <span class=\"token function\">add</span> package Azure.Storage.Blobs\n// dotnet <span class=\"token function\">add</span> package Azure.Identity\nvar client <span class=\"token operator\">=</span> new BlobServiceClient<span class=\"token punctuation\">(</span>new Uri<span class=\"token punctuation\">(</span><span class=\"token string\">\"https://mactemp.blob.core.windows.net\"</span><span class=\"token punctuation\">)</span>, new DefaultAzureCredential<span class=\"token punctuation\">(</span><span class=\"token punctuation\">))</span><span class=\"token punctuation\">;</span>\nvar container <span class=\"token operator\">=</span> client.GetBlobContainerClient<span class=\"token punctuation\">(</span><span class=\"token string\">\"demo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nforeach<span class=\"token punctuation\">(</span>var blob <span class=\"token keyword\">in</span> container.GetBlobs<span class=\"token punctuation\">(</span><span class=\"token punctuation\">))</span> <span class=\"token punctuation\">{</span>\n    Console.WriteLine<span class=\"token punctuation\">(</span>blob.Name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>–í–æ—Ç —ç—Ç–∞ —à—Ç—É–∫–∞ <code class=\"language-text\">DefaultAzureCredential</code> –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –ø–µ—Ä–µ–±–∏—Ä–∞–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ –ø—ã—Ç–∞–µ—Ç—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∞–∂—É—Ä—É</p>\n<p>–û–¥–∏–Ω –∏–∑ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —ç—Ç–æ <a href=\"https://learn.microsoft.com/en-us/cli/azure/install-azure-cli\">az cli</a>, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ —É –≤—Å–µ—Ö —Å—Ç–æ–∏—Ç –∏ –≤ –∫–æ—Ç–æ—Ä–æ–º –µ—Å—Ç—å —Å–º—ã—Å–ª –≤—ã–ø–æ–ª–Ω–∏—Ç—å <code class=\"language-text\">az login</code>, —á—Ç–æ –±—ã –æ—Å–≤–µ–∂–∏—Ç—å –µ–≥–æ —Ç–æ–∫–µ–Ω</p>\n<p>–ù–æ, –µ—Å—Ç—å –µ—â–µ –æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç, –≤ –∫–ª—é—á–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ —É –Ω–∞—Å —É–∂–µ –±—ã–ª–∏ –≤—Å–µ –≤—Å–µ –ø—Ä–∞–≤–∞ –Ω–∞ S3, –∞ —Ç—É—Ç —Ç–æ –º—ã –ª–æ–≥–∏–Ω–∏–º—Å—è –∫–∞–∫ –Ω–µ–∫–∏–π <a href=\"mailto:alexandrm@rabota.ua\">alexandrm@rabota.ua</a>, —Å–æ–æ—Ç–≤ –≤–æ–ø—Ä–æ—Å - –∞ —É –Ω–µ–≥–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø—ã –≤–æ–æ–±—â–µ –∫ —ç—Ç–æ–º—É –¥–µ–ª—É –∏–ª–∏ –Ω–µ—Ç ü§î</p>\n<p>–ò–¥–µ–º –≤ –Ω–∞—à S3 –∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö IAM –≤—ã–¥–∞–µ–º –ø—Ä–∞–≤–∞</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bad32ec5543c8608c8a8b0ad791094bc/187fa/image-20230327-120621.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.46875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB2ElEQVR42nWS226cMBCGec/e9DIP1qtWqvImQY3CpklgDxyWk42xAXP+O8NqqyTKIlnYMPPNP//YMf0C2c1oxxWxmVF2C6J6wtlMSOh81pd9O8xI9YiM9su64tbj5HpFmCrsvCe4ros/j4+IogiH/R6+7yOOYwS0D4IAb28+PG8H0zQYhgHLsmAl+PqugNOQwlJ1KPIMeZ5DlOUW3Pc9rLWYpmk78xrHkd79f9CXCgcKkrJCY8yW/B7A0HVdMFGublp0/YjWDhCipByJilZJAuq63vI43lG2Q1lJChKY5/lDtasKVSuyIEB4OuF4OCAhG4zWUNVFiCXGQDAW4cTNiEIq5FmGtm2/bIO/c0EGue4DvCcPry9/N6+7rkNDnrJKjnOEmFBVmn60NxVmWYrn5x0BQkgCs88V2WRI3eccxzZ2+8lV2IOOBsGV+HwFSmrtGMUIExqcUJCqhlKKhFSbl1coxzuFkHQ1IpyOB0QheURe8TsnVZyE2eKHq/HtZ4K7+xTff0W4+x3B9AxZP1ydDXguxOZFTBAGJQSvaUiWVBpdY+wtUtngJSpxzBREO0FaAt24245qyVCaGJvKrfH4Pz+iLLD3X7cuRJFD19WlXXG5Ntw2D433/wAhoUjmj2fD2wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/bad32ec5543c8608c8a8b0ad791094bc/2bef9/image-20230327-120621.png\"\n        srcset=\"/static/bad32ec5543c8608c8a8b0ad791094bc/6f3f2/image-20230327-120621.png 256w,\n/static/bad32ec5543c8608c8a8b0ad791094bc/01e7c/image-20230327-120621.png 512w,\n/static/bad32ec5543c8608c8a8b0ad791094bc/2bef9/image-20230327-120621.png 1024w,\n/static/bad32ec5543c8608c8a8b0ad791094bc/187fa/image-20230327-120621.png 1194w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e6c84fc486afb9bdf7f162fa46e3b76d/807a0/image-20230327-120638.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.234375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABy0lEQVR42p1S2ZKcMAzk/z8wlbxsZoZjMIdvbDCGjmRmkrxspTZUdem21BLVh7D4EAbfO00w+NYq/Ogd7ipBuL3Ih06oCay3JsFvB9wnqMSzQ1Pf0bUNbrefaB53zNOI//2q4wQY+wGc54n80rcMZJIpX8ic9I+PM6rREjUdMaiIGFbMdoMgXegVLqRiT2aDjzuOI2PfSeZckEnP1JUHOM6rYbWEgGEQsFZDaw2jFaxRWLyDcxbG6BITk0Q/SszKoO3HYk9SoSNfLekNsxSGlV8WSApwA3aw5K5KKXjvaaqjUDE+wC4B654xaUd6xEq7mJSFtg6D1BinGZWzho7ygOifGERfYGnK+nGjQ9XF5sPNYw9JxxqHHhMxYgxUw5Lz4+IwjYIo04Rt06DrWjypcFk8tm0ta2D0VCT6nuJdyWG765548mPcYGQMpY7ZVOvKxQMFp4LMC6fAPM+0Clkk0y+FlMf2GzHGgpTSn98mbRsVSEhKMMYgbQkbNbG0CvZb8sUQ4Z0rCMQo0CEX2q8j21lL8XDtnyfkad4XjTH8LuLJPfmY/td+7BdFfr3IVyeWbHP8uv7nwF+oeHQlL8q8D0/Tss57ee/vKxP+Ai707VyMv8LEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/e6c84fc486afb9bdf7f162fa46e3b76d/2bef9/image-20230327-120638.png\"\n        srcset=\"/static/e6c84fc486afb9bdf7f162fa46e3b76d/6f3f2/image-20230327-120638.png 256w,\n/static/e6c84fc486afb9bdf7f162fa46e3b76d/01e7c/image-20230327-120638.png 512w,\n/static/e6c84fc486afb9bdf7f162fa46e3b76d/2bef9/image-20230327-120638.png 1024w,\n/static/e6c84fc486afb9bdf7f162fa46e3b76d/71c1d/image-20230327-120638.png 1536w,\n/static/e6c84fc486afb9bdf7f162fa46e3b76d/807a0/image-20230327-120638.png 1652w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5e8760e68904c8e6a2b954e927b85758/73dae/image-20230327-120707.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.78125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUklEQVR42n1SW07EMAzs/W/BYfjkAggQaHm0W9pumrR5tRnG6WZVlhWWRrESezx2XB0+G3zULV7eazwfvnBUBn4BjF8zNDERxYZhQNM0qOs6+3tLKaGa5hlmstDjCGNIFiIfgGXdcG3TZHIc0zNBSivWdcGyLPmsZsppxghtqcQt6HXAOAcYR4UuYU3XhBP6roPRGiNFKHWCtXMmFtLqdBow9D3ZScBgY6hUj/DO/lEniiROsCnafLkvVol8QWR/ndJo2zZXttb9CtwT/meVpnTv/daOi1CWlc9ERUEx8R1jZ849hHCbcK/CmInkIbcjJonOuct75P3w3eLt6RHHY5u7KQVtWLkd/OV9kqhVSrFdm0lvQZQ5vscYs7/9dOJGyDhIKMn+TOi9u1Qsw97jegQ3W575syNVSdVtDVReDVH7+0O28/7V4O5hQMel9rtxFMIfuZ0PkD25O6wAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/5e8760e68904c8e6a2b954e927b85758/2bef9/image-20230327-120707.png\"\n        srcset=\"/static/5e8760e68904c8e6a2b954e927b85758/6f3f2/image-20230327-120707.png 256w,\n/static/5e8760e68904c8e6a2b954e927b85758/01e7c/image-20230327-120707.png 512w,\n/static/5e8760e68904c8e6a2b954e927b85758/2bef9/image-20230327-120707.png 1024w,\n/static/5e8760e68904c8e6a2b954e927b85758/71c1d/image-20230327-120707.png 1536w,\n/static/5e8760e68904c8e6a2b954e927b85758/a878e/image-20230327-120707.png 2048w,\n/static/5e8760e68904c8e6a2b954e927b85758/73dae/image-20230327-120707.png 2122w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>–ü–æ—Å–ª–µ —á–µ–≥–æ –Ω–∞—à–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω—å–∫–∞ —Ä–∞–¥–æ—Å—Ç–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∞</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/91f2c8aea189944759c973d9212a8c55/3c2d4/image-20230327-120743.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.359375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAACaklEQVR42q1Ry2qTQRhNl6I+hPQFhBa6clcQbH6bq8F13fgYIihUjH2FdqGQLMwixVoLQgtdFAPBuHORlqTpf7/fb8dvpk3SgiKCHxzmm5kzZ86ZKfxofb3z/duXtd6gJwz6A6Hf7wuDwYCjR/3JyYlwdHQkHB8fC71ej+9fB1s7ODgQDg8Pizs7O7cL1dXV5c3XL3JJk6Gpam5ZFgzTgqar8FwHlmlCVRWCCt3QYdKccaZgc0mSOLrd7v0C1UqpXIah65wQ+B7COCSCD0VPYPghDDdCnKaYVp7nNxDGCWzbxvb29jIXrFZrEEUFp2dj6LqFhA5bJHRhaZBcGSNzAtUjd6EJMzKRZMkNcVamaaDZbF4K1mp1eF4ARWUubS6o2wGGExFnkoyf4gRDZYyhfIaRLMMyDPgUMVA1BJoGEN92nLlgo9FAksTctue6FC+Ba6WYjCKMzi3IEw3DUwXn4wuYhkI8F5HtIAlCZEnCbHKnnU5nLhjHMX9DlwSDKIYXRghCH37gwfddSuBzsItZyPwqbpZls353d/dSsF6vzwUdEqSbbZt+muJModOniaJIez5/syiKEIYhP8eQUuyZw0qlMhf0PEiygvF4zEXY+p9q+iGsMhZ56rBUKs0EHXrchN6FR7l24G+ijN9pXzl8Ui1nSOPMs60scO0MWZoxzr8hzT93u0uFwq27K083nkN2YyheBIe2Ero0vWKmuNlnv1lnHiNy2uaRlxqLixvN9w9ffWwXN7ut4ptPrfLWfmvt7d5sLLK+ud9aJ1RorbbF+r3WY5ozzvq7vfaj5v6HB89e3mORFwr/rxZ+Aa0QZsAiHYxGAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/91f2c8aea189944759c973d9212a8c55/2bef9/image-20230327-120743.png\"\n        srcset=\"/static/91f2c8aea189944759c973d9212a8c55/6f3f2/image-20230327-120743.png 256w,\n/static/91f2c8aea189944759c973d9212a8c55/01e7c/image-20230327-120743.png 512w,\n/static/91f2c8aea189944759c973d9212a8c55/2bef9/image-20230327-120743.png 1024w,\n/static/91f2c8aea189944759c973d9212a8c55/71c1d/image-20230327-120743.png 1536w,\n/static/91f2c8aea189944759c973d9212a8c55/a878e/image-20230327-120743.png 2048w,\n/static/91f2c8aea189944759c973d9212a8c55/3c2d4/image-20230327-120743.png 2092w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<blockquote>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: —á—Ç–æ –≤–∞–∂–Ω–æ, —É –Ω–∞—Å —É–∂–µ –Ω–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –ø–∞—Ä–æ–ª–µ–π –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –±—ã–ª–æ –±—ã –∫—É–¥–∞ —Ç–æ –≤ appsettings.json –ø—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å, –∑–∞—Ç–µ–º –≤ octopus deploy, –∑–∞—Ç–µ–º –∏—Ö –ø–æ–¥–º–µ–Ω—è—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö, –∫–∞–∫ —Ç–æ –ø—Ä—è—Ç–∞—Ç—å –∏ —Ä–æ—Ç–∏—Ä–æ–≤–∞—Ç—å</p>\n</blockquote>\n<p>–ö–∞–∫ —ç—Ç–∞ —à—Ç—É–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º —Ç–∞–º –ø–µ—Ä–µ–±—Ä–∞–ª–∏—Å—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ –æ–Ω–æ —É–≤–∏–¥–µ–ª–æ —á—Ç–æ –º—ã –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã –≤ az cli –∏ –∑–∞ –Ω–µ –∏–º–µ–Ω–∏–µ–º –Ω–∏—á–µ–≥–æ –ª—É—á—à–µ–≥–æ —Å —ç—Ç–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª–æ –ø–æ–π—Ç–∏ –≤ s3, –∞ –ø–æ —Å–∫–æ–ª—å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –º—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –≤—ã–¥–∞–ª–∏ –ø—Ä–∞–≤–∞ - –≤—Å–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8b0fd582fd5fcb674807f7126d7de9fe/78363/image-20230327-120938.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 94.140625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAACXUlEQVR42q2T227aQBCG6VWuSKK2b1AwJwMGczAG2xjbGDCU0KZqnyv3iSq14HJK0yhVm6rv0AeJhO8itStlurOOk6jCRahd6deudnc+/zOzjkToALjZAfixvwLYg9VqD3CmWsH9eoP2qXYiwfjy9vjo4uscJhffruaLM+/8/LM3m596c6rl8pPnfph548nUG4+n3rv3rjedLb3ZrRaLj1eXl99hcXp2dAesq92Jpg+hKpmk1miDJLehWrPobNHZhJzQgGS6CmleglRGYutUpgqZbA33CJ+rQyJVntwBuYTgqpoDqt4nLfM51BUbKpIJarMHitaDcrUFfE5mygl1KIoaZPMMAlyyRNJ8DWJc4R6YSImuab8AwxoSZ/Aamq0+dHuHgGurPQLLHkHXeQUduodnDbVLP2JQpxWEkkxW/hNYdA1rBGb7gOjGAMHMVZ6mihIKCoilJhREFTI07TgnorNwIJcoupb9EkzrgHS6hzRVh9VPKKoQT/jBwRyAAoUCnf4baChd0rlNFdMq0FphI3i/+KwJvqTNwJY5pE1xCLqSGzZtTIeljU4VCpdq/qzpDus8djkU+CyWdzV9AEqzR0plHeS6TQP94lckgz0b7OjDVP/qEIEVyaLOOgQBCMrmZQbC54HproOFAvms5OYLKjvES2m+yhwFCoOFAiXZcHVjyBxi7Zq0TkGNNmktMMYJLm4GDrdRCLAw8YGVX/TSzTbCmLXPBn9weoFgqtsIYzCWMh50OS6c4CGXFK/pn/BzO4nXGBvnhJOA9ygafZLY3X1s/Yui0accsiL/e/wGeNQWgjZALRkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/8b0fd582fd5fcb674807f7126d7de9fe/2bef9/image-20230327-120938.png\"\n        srcset=\"/static/8b0fd582fd5fcb674807f7126d7de9fe/6f3f2/image-20230327-120938.png 256w,\n/static/8b0fd582fd5fcb674807f7126d7de9fe/01e7c/image-20230327-120938.png 512w,\n/static/8b0fd582fd5fcb674807f7126d7de9fe/2bef9/image-20230327-120938.png 1024w,\n/static/8b0fd582fd5fcb674807f7126d7de9fe/78363/image-20230327-120938.png 1522w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>–ù–∞ –¥–µ–ª–µ –∂ —Ç–∞–º –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ —ç—Ç–∏ access token'—ã –∫–æ—Ç–æ—Ä—ã–µ jwt</p>\n<p>–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é –ø—Ä–∏–º–µ—Ä—ã —Å curl –¥–ª—è storage - –ø—Ä–æ—â–µ –∑–∞—Å—Ç—Ä–µ–ª–∏—Ç—å—Å—è, –ø–æ—Ç–æ–º—É –ø—Ä–∏–≤–æ–∂—É –¥–≤–∞ –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–º–µ—Ä–∞ —á—Ç–æ –±—ã –±—ã–ª–æ –Ω–∞–≥–ª—è–¥–Ω–µ–µ –ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ —Ç–∞–º –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –¥–µ–ª–∞–µ—Ç—Å—è</p>\n<p>–ù–∞–ø—Ä–∏–º–µ—Ä –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º —Å—Ö–æ–¥–∏—Ç—å –≤ azure api</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">az account get-access-token <span class=\"token parameter variable\">--query</span> accessToken <span class=\"token parameter variable\">-o</span> tsv</code></pre></div>\n<p>–ú—ã –º–æ–∂–µ–º –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ —Ç–æ–∫–µ–Ω –≤—ã–ø–∏—Å–∞–Ω –¥–ª—è management.core.windows.net, –∏ –¥–ª—è –º–µ–Ω—è</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c95b4ae9ac671a9216c79a6358a2f845/18d85/image-20230327-122050.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.09375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABbElEQVR42n2R60rDMBiG4/5sF2BhiuBdeEkqggPXtdWNovjDf16fY2cZujncwdmta06vX5pgRdCWh68JydM3X9jR8Qm8/SoODqsolUpgjBXsOdj/VCoVeJ6HcrkM9nD/iFb9DnHjFo2LCP55CP80RJ3wzyKEV0QUIgwIP0JQD9GoOS5DBLUI18EN4jhGs9UEU2sNvACYWvSE6syNzfyG5swraV1C4zmREpLghCAU8kdrDbabCSRPEtuBxKZN9IkejU3tSGRLCaE5eCqQzWl+LMETSQ5CF0hF64QAEyuNXQ/Y9VHUoa3ZiH7+aRLS9q0Gf6NgKwq1dHVBdWnRmT0J43ONtG03p10SDQpp2qHFH06YkPAVuZRPHNPiW6dOKKiHZqORGOG3dGirXFuh6aFJS4M/n7yHYqGtZOSSkSR7dgm7RUIltD0i/UDR5aitw1wa/yl0PTQps+GvhP0ioeIa2dj2TbxbUZ5WFamN8AtO7GbPMV8xIwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/c95b4ae9ac671a9216c79a6358a2f845/2bef9/image-20230327-122050.png\"\n        srcset=\"/static/c95b4ae9ac671a9216c79a6358a2f845/6f3f2/image-20230327-122050.png 256w,\n/static/c95b4ae9ac671a9216c79a6358a2f845/01e7c/image-20230327-122050.png 512w,\n/static/c95b4ae9ac671a9216c79a6358a2f845/2bef9/image-20230327-122050.png 1024w,\n/static/c95b4ae9ac671a9216c79a6358a2f845/71c1d/image-20230327-122050.png 1536w,\n/static/c95b4ae9ac671a9216c79a6358a2f845/a878e/image-20230327-122050.png 2048w,\n/static/c95b4ae9ac671a9216c79a6358a2f845/18d85/image-20230327-122050.png 2382w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>–ê –∑–Ω–∞—á–∏—Ç, —è —Å —ç—Ç–∏–º —Ç–æ–∫–µ–Ω–æ–º –º–æ–≥—É –ª–æ–º–∏—Ç—å—Å—è –≤ —ç—Ç–æ api</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-s</span> <span class=\"token parameter variable\">-H</span> <span class=\"token string\">\"Authorization: Bearer <span class=\"token variable\"><span class=\"token variable\">$(</span>az account get-access-token <span class=\"token parameter variable\">--query</span> accessToken <span class=\"token parameter variable\">-o</span> tsv<span class=\"token variable\">)</span></span>\"</span> <span class=\"token string\">'https://management.azure.com/subscriptions?api-version=2022-09-01'</span> <span class=\"token operator\">|</span> jq <span class=\"token string\">\".value\"</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c510747ea9df13fac2a97464a591a582/78363/image-20230327-122223.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 131.640625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAABYlAAAWJQFJUiTwAAAERklEQVR42qVVTU8bVxQlvyEKSkmUNCBsz7c/33zZ45nx2GMbHEIgJG3VLKp2EZSfErWLCksJ+YCEJummUpdZdVN12WzYsGDDhgWbdtFK0ZN1et8bIIQCqdQnHb03z9aZe+85987YGC28/e3Sn3//6v7+x1+1ra0ttru7w7a2Ntnm5lu2s7PNtre3JLK7TbZNd+J+d2eH7e3t1QC4hImxg/X4wYNvf/r5Nb5fe8UfPlrD2vpLPHn6Ak+fvcCj1WdYXV2TePzkOT2vYeOHH7Gx8Rrrz19hff0lf/PmFzxcXfvukLDiJsNWewF1v8ODZh/1oIcwHiBO5uA3umBOglI5gO0m8rdytQnD8qEaDvJKjWumh6np0sohoaq6Q7PYREFjXNUcKJoNRWUoKAzq/vlgV1Qb+UItg1Kj/xChIQit94ST09awxlIUiyFXHQ9GPZAwCVYYwgyaMBsZDJ/umiGsKIIVR9AqHtcNH9P5IxF+OqkPHTvFbPoln+l+gUH/LtLOHVSdLgwiKbZj6HYDik5RGgKUhZmdRVb/ilAQum4Pvfbn3HVmYFO0lXJMadZREKlrLNsPoOyDzvmTUqaHoW7W0YlvcSJFO1qCxSitTgjDDt6THoX6EULDClAqRdy2O7CrbQjltKqfFT9XRT6/j4Nz4QxCWUOnj27yGY+CeQThHCpBG1YrQilNUOy0UOomEuV+G+VBR9bV8IKTCSen9CFjHXRaSzyNb5MYbRT7CawkgtkkUZIWDKcBnSBUFkRq0aPU7dMj9Nw+Buld3gxvwO8NUIk7MMqkrOFKX+amq8iJdKdFutWzazg5ZQzLlRhRY57HzZtI4kUS5hYCdw5aqQGt5kNndYqwLs8iso+KolEkfbLNwuw3aMbzCAc34c7MUq1a0tBCIEGmlSlV1f5vKtu1lHvkR8/rwyxSujVXmjlrNSb3gsAR++TVEwin85WhWUqofco8R5bIHVqEiPK1Q6Jsz4jlffbbSRGWqIYJDNPnSsWFWvMkNILO/PfpyrOX1dSpS9UVy+Gaflxlso3r9NAKF3iYkigzS0j6S2BRD6VegsqNLg0C0c91+QIhkOE19u3jnkzo2F1pm7ixiNCfg1NNoWlB1hEKy2pIKRaOdkxOWuhk25TKEdLWbd6o01D1ZmHSQNX9hoxGDoLjvSysI4ytnjEcXLvH29Gi8CNMRh1BhAoN3Gy67Cus1A4HrDyfZuwKDQTGUl6ttiBmo2mRoW0/q5toO7ch65bVL5BDV9yf0nrqiut2sTD4+t1876uRH14fkRCj8vXOiEQZlWc7I+rrEQ2LUTFtyTt60YgG7YgI34mmOCaKueKQodPWHR5G86hGqewQg1FEZBm9Sqmr+98a8c1R7QxZHblu1T/8BIyPX3KuXCncV3KVe+cvTixPFHPLl6/lli+cv7p84UKGixPXTsHkvU8uT90fH7/qjB1Z58b+/xIc5/4BbkDerF9y1d0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/c510747ea9df13fac2a97464a591a582/2bef9/image-20230327-122223.png\"\n        srcset=\"/static/c510747ea9df13fac2a97464a591a582/6f3f2/image-20230327-122223.png 256w,\n/static/c510747ea9df13fac2a97464a591a582/01e7c/image-20230327-122223.png 512w,\n/static/c510747ea9df13fac2a97464a591a582/2bef9/image-20230327-122223.png 1024w,\n/static/c510747ea9df13fac2a97464a591a582/78363/image-20230327-122223.png 1522w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>–û–∫, —Å –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å, –≤—Å–µ —á–µ—Ç–∫–æ –∏ –∫—Ä–∞—Å–∏–≤–æ, –Ω–æ –∫–∞–∫ –±—ã—Ç—å —Å –∫—É–±–µ—Ä–æ–º ü§î</p>\n<p>–î–∞–ª—å—à–µ –Ω–∞—á–∏–Ω–∞–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –º–Ω–æ–≥–æ—Ö–æ–¥–æ–≤–æ—á–∫–∞, –º—ã —Å–æ–∑–¥–∞–¥–∏–º —Å–µ—Ä–≤–∏—Å–Ω—ã—é —É—á–µ—Ç–∫—É –∏ –≤ –∞–∂—É—Ä–µ –∏ –≤ –∫—É–±–µ—Ä–µ –∏ –∫–∞–∫ –±—ã —Å–≤—è–∂–µ–º –∏—Ö –º–µ–∂–¥—É —Å–æ–±–æ–π, —Ç–µ–º —Å–∞–º—ã–º —Å–¥–µ–ª–∞–µ–º —Ç–∞–∫ —á—Ç–æ –±—ã –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–µ–∂–∞–ª–æ –∏–∑ –ø–æ–¥ —ç—Ç–æ–π —Å–µ—Ä–≤–∏—Å–Ω–æ–π —É—á–µ—Ç–∫–∏, –≤—ã–¥–∞–¥–∏–º –µ–π —Ç–∞–∫–∏–µ –∂–µ –ø—Ä–∞–≤–∞ –∫–∞–∫ –≤—ã–¥–∞–≤–∞–ª–∏ —Å–µ–±–µ, –∏ –µ—Å–ª–∏ –≤—Å–µ —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–Ω–æ –æ–¥–∏–Ω –≤ –æ–¥–∏–Ω —Ç–∞–∫ –∂–µ —Å–∞–º–æ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫—É–±–µ—Ä–µ, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —á—Ç–æ –ª–∏–±–æ –º–µ–Ω—è—Ç—å –≤ –∫–æ–¥–µ, appsettings, octopus, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –ø—Ä–æ—á–µ–º - –ø—Ä–æ—Å—Ç–æ –∏–∑ –∫–æ—Ä–æ–±–∫–∏ –≤—Å–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å</p>\n<p>–î–ª—è —ç—Ç–æ–≥–æ –∏–¥–µ–º –≤ —Ä–∞–∑–¥–µ–ª managed identity –≤ –ø–æ—Ä—Ç–∞–ª–µ –∏ —Å–æ–∑–¥–∞–µ–º —Å–≤–æ—é –ø–µ—Ä–≤—É—é —Å–µ—Ä–≤–∏—Å–Ω—É—é —É—á–µ—Ç–∫—É.</p>\n<p>–ü–æ—Ç—Ä—ñ–±–Ω–æ –≤—Ä–∞—Ö—É–≤–∞—Ç–∏ —â–æ —î –æ–±–º–µ–∂–µ–Ω–Ω—è –≤ –Ω–∞–∑–≤—ñ. –í–æ–Ω–∞ –≤–∞–ª—ñ–¥—É—î—Ç—å—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—ñ –ö—É–±–µ—Ä–∞\\–æ–∫—Ç–æ–ø—É—Å–∞.</p>\n<p>–î–ª—è –≤–∞–ª—ñ–¥–Ω–æ–≥–æ —ñ–º–µ–Ω—ñ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É —Å–ª—É–∂–±–∏ –¥–æ–∑–≤–æ–ª–µ–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–∏—à–µ —Å–∏–º–≤–æ–ª–∏ –Ω–∏–∂–Ω—å–æ–≥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—É, —Ü–∏—Ñ—Ä–∏, '-' –∞–±–æ '.', –ø—Ä–∏—á–æ–º—É —ñ–º'—è –ø–æ–≤–∏–Ω–Ω–æ –ø–æ—á–∏–Ω–∞—Ç–∏—Å—è —ñ –∑–∞–∫—ñ–Ω—á—É–≤–∞—Ç–∏—Å—è –±—É–∫–≤–æ—é –∞–±–æ —Ü–∏—Ñ—Ä–æ—é. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–æ–ø—É—Å—Ç–∏–º—ñ —ñ–º–µ–Ω–∞: <code class=\"language-text\">my-service-account</code>, <code class=\"language-text\">user-service-account-1</code>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6aad16bdb87fa30f25090bb3e12e8182/93582/image-20230327-123748.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85.9375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAABv0lEQVR42q1UW3KcMBDk7KnKdy6SKyQ/PkL+vWxYGVa8QUJPtj0jwtbGydpxylN0zYiClma6IZP9DHFukZeEqsejqNG0Hfq+R99tuaPMUErhrcimccCp+IlzVUKeK4hTgTw/QAiB4/GIw+GAoihSruv6bcIYI9Z1TeA6ciZcLhf8T2R1RycsJcZhwLIsqS1GCOH60HvIs2meUZxOKMsSWms452CMgSFyYxZYa7Y1wVqbMm/M4DVnfudKyDdqKdE0TSJlEZhYzQpa6YREoDfsHfAzmtbzNCfivYvMOouu72Bp599ao3JqJ7QVKS0HBB0RlgivQ6q9/lXzPRVgZ7sRMgnvMJLaPEcm3qMUHTlAwioHp/0f8HutPBFubWc8/F2MWyE4ZrdCEd6lMhOdqwpt2ybb3IZfLJ2Ohr44BBvvw2z5Koqapr9aoxYNRF5C9aTo5O7CjKT2aNLcM5ac58bGfhmLMknlNZLxw+uIPmyE+ODIVmo1rhfQlXAbPIYd/0z44SeUZMq8cwnF4Mk6ZFTvEclCrDp7lOf80gF3Cb/+GPHpm8Tn7xJfHhqMZJOhazGNIwmiIJ6e0u+LbbV/06/hGT0OMCO3KsqaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/6aad16bdb87fa30f25090bb3e12e8182/2bef9/image-20230327-123748.png\"\n        srcset=\"/static/6aad16bdb87fa30f25090bb3e12e8182/6f3f2/image-20230327-123748.png 256w,\n/static/6aad16bdb87fa30f25090bb3e12e8182/01e7c/image-20230327-123748.png 512w,\n/static/6aad16bdb87fa30f25090bb3e12e8182/2bef9/image-20230327-123748.png 1024w,\n/static/6aad16bdb87fa30f25090bb3e12e8182/93582/image-20230327-123748.png 1524w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>–ö–∞–∫ –Ω–µ —Å–ª–æ–∂–Ω–æ –¥–æ–≥–∞–¥–∞—Ç—å—Å—è, –ø–æ–¥–ø–∏—Å–∫–∞, —Ä–µ—Å—É—Ä—Å–Ω–∞—è –≥—Ä—É–ø–ø–∞ –∏ —Ä–µ–≥–∏–æ–Ω —Ç–µ –∂–µ —Å–∞–º—ã–µ, –Ω—É –∏ –¥–∞–ª—å—à–µ next, next, finish</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fe88c6614b547907fb3eaab20a868b96/92e9f/image-20230327-123857.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.421875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAtElEQVR42pWQyQrDMAxE/f//2EtpCSEO3vdlKhlyKPTQCISFGD+NJFw0eDzfeG4HNqlgfEKqHW1M3I05J8QmT7z2E4fxsD6i1IbW2m0Yz+cUO7k65YGcM3rvcNbCOg+XGwm+XY4xkFJaOmMMtFLQWq16GSGiCJ4+O7eEHFxbgkrt4ENEpn4pBcxmYAyBhqeludITY87BS0MYKwniV5MnX7dgAQO4x++/IbQlR2S51vt3+wX8ABgw1zvfpbHAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/fe88c6614b547907fb3eaab20a868b96/2bef9/image-20230327-123857.png\"\n        srcset=\"/static/fe88c6614b547907fb3eaab20a868b96/6f3f2/image-20230327-123857.png 256w,\n/static/fe88c6614b547907fb3eaab20a868b96/01e7c/image-20230327-123857.png 512w,\n/static/fe88c6614b547907fb3eaab20a868b96/2bef9/image-20230327-123857.png 1024w,\n/static/fe88c6614b547907fb3eaab20a868b96/71c1d/image-20230327-123857.png 1536w,\n/static/fe88c6614b547907fb3eaab20a868b96/a878e/image-20230327-123857.png 2048w,\n/static/fe88c6614b547907fb3eaab20a868b96/92e9f/image-20230327-123857.png 2620w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>–í—É–∞–ª—è, –≥–æ—Ç–æ–≤–æ</p>\n<p>–î–∞–ª–µ–µ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—å—Å—è client id —Å —ç—Ç–æ–≥–æ —ç–∫—Ä–∞–Ω–∞, –≤ –º–æ–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">client_id: 5063dd9c-e304-4544-9e0a-d2c6651da05f</code></pre></div>\n<p>–ò tenant id, —Å –Ω–∏–º –ø—Ä–æ—â–µ, –æ–Ω –æ–¥–∏–Ω –æ–±—â–∏–π, –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –Ω–∞ –≤—Å–µ –≤—Å–µ –≤—Å–µ (—É—Å–ª–æ–≤–Ω–æ —ç—Ç–æ id –Ω–∞—à–µ–π –æ—Ä–≥)</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">tenant_id: 695e64b5-2d13-4ea8-bb11-a6fda2d60c41</code></pre></div>\n<p>–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—É—é —É—á–µ—Ç–∫—É –≤ –∫—É–±–µ—Ä–µ, –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å yaml, –∞ –º–æ–∂–Ω–æ –≤–æ—Ç —Ç–∞–∫:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl <span class=\"token parameter variable\">-n</span> dev create serviceaccount mactemp\nkubectl <span class=\"token parameter variable\">-n</span> dev label serviceaccount mactemp <span class=\"token string\">\"azure.workload.identity/use=true\"</span>\nkubectl <span class=\"token parameter variable\">-n</span> dev annotate <span class=\"token parameter variable\">--overwrite</span> serviceaccount mactemp <span class=\"token string\">\"azure.workload.identity/client-id=5063dd9c-e304-4544-9e0a-d2c6651da05f\"</span> <span class=\"token string\">\"azure.workload.identity/tenant-id=695e64b5-2d13-4ea8-bb11-a6fda2d60c41\"</span></code></pre></div>\n<p>–Ω—É –∏–ª–∏ –¥–ª—è yaml</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> v1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> ServiceAccount\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> mactemp\n  <span class=\"token key atrule\">namespace</span><span class=\"token punctuation\">:</span> dev\n  <span class=\"token key atrule\">annotations</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">azure.workload.identity/client-id</span><span class=\"token punctuation\">:</span> 5063dd9c<span class=\"token punctuation\">-</span>e304<span class=\"token punctuation\">-</span>4544<span class=\"token punctuation\">-</span>9e0a<span class=\"token punctuation\">-</span>d2c6651da05f\n    <span class=\"token key atrule\">azure.workload.identity/tenant-id</span><span class=\"token punctuation\">:</span> 695e64b5<span class=\"token punctuation\">-</span>2d13<span class=\"token punctuation\">-</span>4ea8<span class=\"token punctuation\">-</span>bb11<span class=\"token punctuation\">-</span>a6fda2d60c41\n  <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">azure.workload.identity/use</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"true\"</span>\n<span class=\"token key atrule\">imagePullSecrets</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> gcr.io</code></pre></div>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:</p>\n<ul>\n<li>–µ—Å–ª–∏ –≤—Å–µ –æ–∫, —Ç–æ <code class=\"language-text\">kubectl get serviceaccount mactemp</code> –µ–≥–æ –ø–æ–∫–∞–∂–µ—Ç</li>\n<li>–æ–±–∞ tenant_id –∏ client_id - –Ω–µ —Å–µ–∫—Ä–µ—Ç—ã, –∞ id'–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ —Å–µ—Ä–≤–∏—Å–Ω–æ–π —É—á–µ—Ç–∫–∏ –≤ –∞–∂—É—Ä–µ —Å–æ–æ—Ç–≤.</li>\n<li>–ª–µ–π–±–æ—á–∫–∞ <code class=\"language-text\">azure.workload.identity/use: \"true\"</code> –Ω—É–∂–Ω–∞ –¥–ª—è —Ç—É–ª—ã –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ –∏ –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å –º–∞–≥–∏—é</li>\n</ul>\n<p>–ú–Ω–æ–≥–æ—Ö–æ–¥–æ–≤–∫–∞ –Ω–∞ —ç—Ç–æ–º –µ—â–µ –Ω–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è, —Ç–µ–ø–µ—Ä—å –∏–¥–µ–º –Ω–∞–∑–∞–¥ –≤ azure –≤ —Å–≤–æ—é —Å–µ—Ä–≤–∏—Å–Ω—É—é —É—á–µ—Ç–∫—É –≤ —Ä–∞–∑–¥–µ–ª federated credentials –∏ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ —Å —Ç–∞–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2ff820d37220bd623b4d5d02eec1c8d5/e92cd/image-20230327-124800.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 86.32812499999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACMklEQVR42pVU2Y7bMAz0v/ef+tb/6LHAdrNJ6vUt6/CtKYe2kmaxQFsBA0q0PaTIobOiavH0fMLT6Ypvzxf8OOX4/nzGz2sFP2+w44ZhibKPsNOm6OmT80cr896ha1uYrhXboDcdmrqCsz22bT2w3ffr3bfKPoFnJRzHEdZaOOcRwgDvPYZhQN8btBKglWAdg3WdBq7qGk3TKPgs7clBUiUkifdB7TxPiDEir3u8NYLWolA4FJ2DdQy4vxtCuGEcB800MxL5crmgKArk+S+cz2exOc6XK5wEEW6sW5ToUaxcPcajBAlREyD0yn0vWbzlqKoSZVkocVmWx7lEK9epqgrGGC3F+8wI+nhTJZymSernEMS5LItGYmSjzUn1qrWGvYAB+Iw3M8c51XmZZ2SMyoLykBZJGYRR+TzZhJs/Qc4EE7plOAthaj0J++OKKeN1fZTJA4SIZNqU6ZANa3FPEUrIq1E+3FvRZQheS3O3QaU2DiPIQ+KMmSXtMdvULb7MQGzarlMnYrfwtM6qz7oAExaZml3Y/DZjsV9eXvD6+orT6aTE+8M/ER8s4sdjd+tyONoeWHRmJuK9lB3yxu7CFkHT7mcZ1TDf5tpOUdELgsx3lrqWGsJF8fLjxg5o3ITGT2j9jFaIaNX3DrWd5Eey7KPH1sctPsjGuAG1sZKxxySjti3zXxHlp5FxrBaOFuuzbbcxWg7//yxtyuevPT59KfD0Jp00jehpvWvneEk7/y8A8BuQaykpJW5yPQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/2ff820d37220bd623b4d5d02eec1c8d5/2bef9/image-20230327-124800.png\"\n        srcset=\"/static/2ff820d37220bd623b4d5d02eec1c8d5/6f3f2/image-20230327-124800.png 256w,\n/static/2ff820d37220bd623b4d5d02eec1c8d5/01e7c/image-20230327-124800.png 512w,\n/static/2ff820d37220bd623b4d5d02eec1c8d5/2bef9/image-20230327-124800.png 1024w,\n/static/2ff820d37220bd623b4d5d02eec1c8d5/71c1d/image-20230327-124800.png 1536w,\n/static/2ff820d37220bd623b4d5d02eec1c8d5/e92cd/image-20230327-124800.png 1778w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cluster issuer url: https://northeurope.oic.prod-aks.azure.com/695e64b5-2d13-4ea8-bb11-a6fda2d60c41/839148b7-1a9a-4c39-9bbb-01d35db879f4/</code></pre></div>\n<p>–¢–µ–ø–µ—Ä—å —Å–∞–º–æ–µ –≤—Ä–µ–º—è —Å–æ–±—Ä–∞—Ç—å –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑ –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –≤ –∫—É–±–µ—Ä–µ</p>\n<p>–ù–æ –ø–µ—Ä–µ–¥ —ç—Ç–∏–º –Ω—É–∂–Ω–æ –≤–Ω–µ—Å—Ç–∏ –¥–≤–µ –ø—Ä–∞–≤–∫–∏:</p>\n<p><code class=\"language-text\">spect.template.metadata.labels</code> –¥–æ–±–∞–≤–∏—Ç—å <code class=\"language-text\">azure.workload.identity/use: \"true\"</code></p>\n<p><code class=\"language-text\">spect.template.spec.serviceAccountName</code> —É–∫–∞–∑–∞—Ç—å <code class=\"language-text\">mactemp</code></p>\n<p>–ü–æ–ª–Ω—ã–π yaml –Ω–µ –ø—Ä–∏–≤–æ–∂—É, —Ç.–∫. —Ç–∞–º –Ω–∏—á–µ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ –Ω–µ –±—É–¥–µ—Ç, –Ω–æ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –¥–∞–∂–µ –±–µ–∑ –Ω–µ–≥–æ –∫–æ–º–∞–Ω–¥–æ–π –ø–æ —Ç–∏–ø—É —Ç–∞–∫–æ–π (—Ç—É—Ç –Ω–∞–≥–ª—è–¥–Ω–æ –≤–∏–¥–Ω–æ —á—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –≤ yaml):</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl run <span class=\"token parameter variable\">-it</span> <span class=\"token parameter variable\">--rm</span> mactemp <span class=\"token parameter variable\">--image</span><span class=\"token operator\">=</span>TODO_IMAGE_URL_HERE <span class=\"token parameter variable\">--overrides</span><span class=\"token operator\">=</span><span class=\"token string\">'{\"spec\": { \"serviceAccountName\": \"mactemp\", \"nodeSelector\": {\"kubernetes.io/os\": \"linux\"}}, \"metadata\":{\"labels\":{\"azure.workload.identity/use\":\"true\"},\"annotations\":{\"kubeforce\":\"skip\"}}}'</span></code></pre></div>\n<p>–ò –æ–Ω–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç - –ø–æ—Ç–æ–º—É —á—Ç–æ?</p>\n<p>–ú—ã –Ω–µ –≤—ã–¥–∞–ª–∏ –ø—Ä–∞–≤–∞, –æ—Ç–∫—É–¥–∞ –∞–∂—É—Ä—É –∑–Ω–∞—Ç—å, —á—Ç–æ –Ω–µ–∫–æ–π —Å–µ—Ä–≤–∏—Å–Ω–æ–π —É—á–µ—Ç–∫–µ mactemp –º–æ–∂–Ω–æ —Ö–æ–¥–∏—Ç—å –≤ s3? –°–æ–æ—Ç–≤ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å —Ç–µ–º –∫–∞–∫ –º—ã –≤—ã–¥–∞–≤–∞–ª–∏ –ø—Ä–∞–≤–∞ —Å–∞–º–∏ —Å–µ–±–µ, –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–æ –∂–µ —Å–∞–º–æ–µ, —Ç–æ–ª—å–∫–æ –∑–∞ –≤–º–µ—Å—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤—ã–±—Ä–∞—Ç—å managed identities –∏ –Ω–∞—à—É —É—á–µ—Ç–∫—É - –∏ –≤–æ—Ç —É–∂–µ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –æ–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç</p>\n<blockquote>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ø–æ—Å–ª–µ –≤—Å–µ—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –Ω–µ –∑–∞–±—ã—Ç—å —É–¥–∞–ª–∏—Ç—å —Å–≤–æ–π –æ–±—Ä–∞–∑ –∏–∑ container registry, –±–æ —Ç–∞–º –∏ —Ç–∞–∫ –¥–æ—Ñ–∏–≥–∞ –≤—Å–µ–≥–æ –∏ –ø–æ—Ç–æ–º, —Å–ø—É—Å—Ç—è –≤—Ä–µ–º—è –±—É–¥–µ–º –ª–æ–º–∞—Ç—å —Å–µ–±–µ –≥–æ–ª–æ–≤—É, –∞ –Ω—É–∂–Ω–æ –æ–Ω–æ –∏–ª–∏ –Ω–µ—Ç –∏ –º–æ–∂–Ω–æ –ª–∏ —É–¥–∞–ª–∏—Ç—å</p>\n</blockquote>\n<p>–ß–µ—Ä—Ç–æ–≤–∞ –º–∞–≥–∏—è –≤ –¥–µ–π—Å—Ç–≤–∏–∏, —É –Ω–∞—Å –≤–æ–±—â–µ –Ω–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤–æ–æ–±—â–µ –Ω–∏–≥–¥–µ, –∞ –∫–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ –Ω–µ—á–µ–≥–æ –ø—Ä—è—Ç–∞—Ç—å\\—Ä–æ—Ç–∏—Ä–æ–≤–∞—Ç—å\\–æ—Ç–∑—ã–≤–∞—Ç—å –∏ –ø—Ä–∏ —ç—Ç–æ–º –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</p>\n<p>–ï—Å–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ –º—ã —É–∂–µ —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å —á—Ç–æ –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –æ–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–∫–∫–∞—É–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∫–æ—Ç–æ—Ä—ã–º –º—ã –∑–∞–ª–æ–≥–∏–Ω–∏–ª–∏—Å—å –≤ az cli, —Ç–æ –≤ –∫—É–±–µ—Ä–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:</p>\n<ol>\n<li>–í –æ—Ç–¥–µ–ª—å–Ω–æ–º –Ω–µ–π—Å–ø–µ–π—Å–µ –±–µ–∂–∏—Ç —Å–ø–µ—Ü –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–ª–µ–¥–∏—Ç –∑–∞ –∫—É–±–µ—Ä–æ–º –∏ –∫–∞–∫ —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏—Ç —á—Ç–æ –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø–æ–¥ —Å –ª–µ–π–±–æ—á–∫–∞–º–∏ <code class=\"language-text\">\"azure.workload.identity/use\":\"true\"</code> –¥–µ–ª–∞–µ—Ç –¥–≤–µ –≤–µ—â–∏:\n<ol>\n<li>–≥–µ–Ω–µ—Ä–∏—Ç jwt —Ç–æ–∫–µ–Ω</li>\n<li>–ø–æ–¥—Å–æ–≤—ã–≤–∞–µ—Ç —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –≤ –ø–æ–¥ –≤ –ø–∞–ø–∫—É /var/run/secrets/azure</li>\n<li>–ø–æ–¥—Å–æ–≤—ã–≤–∞–µ—Ç –≤ –ø–æ–¥ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –æ –∫–æ—Ç–æ—Ä–æ—ã—Ö –∑–Ω–∞–µ—Ç DefaultAzureCredentials</li>\n</ol>\n</li>\n<li>–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞—à DefaultAzureCredentials –≤–∏–¥–∏—Ç —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ñ–∞–π–ª–∏–∫ —Å —Ç–æ–∫–µ–Ω–æ–º, –±–µ—Ä–µ—Ç –≤—Å–µ —ç—Ç–æ –¥–µ–ª–æ –∏ –∏–¥–µ—Ç –≤ Azure —á—Ç–æ –±—ã –æ–±–º–µ–Ω—è—Ç—å –∏—Ö –Ω–∞ access token –∫ –Ω–∞—à–µ–º—É S3</li>\n<li>Azure –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –≤–∏–¥–∏—Ç —á—Ç–æ –∫ –Ω–µ–º—É –ª–æ–º–∏—Ç—å—Å—è –Ω–µ—á—Ç–æ, –≤—ã–¥–∞—é—â–µ–µ —Å–µ–±—è –∑–∞ <code class=\"language-text\">client_id: XXX</code> (–Ω–∞—à–∞ —Å–µ—Ä–≤–∏—Å–Ω–∞—è —É—á–µ—Ç–∫–∞) –∏ —É—Ç–≤–µ—Ä–∂–¥–∞—é—â–µ–µ —á—Ç–æ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ–Ω–æ –ø—Ä–∏–∫—Ä–µ–ø–∏–≤ —Ç–æ–∫–µ–Ω</li>\n<li>Azure –≤–∏–¥–∏—Ç —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –µ—Å—Ç—å —Ç–∞–∫–∞—è —Å–µ—Ä–≤–∏—Å–Ω–∞—è —É—á–µ—Ç–∫–∞, —É –Ω–µ–µ –µ—Å—Ç—å —Ñ–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫—Ä–µ–¥—ã, <code class=\"language-text\">[sub]ject</code> —Å–æ–≤–ø–∞–¥–∞—é—Ç, <code class=\"language-text\">[iss]uer</code> —Å–æ–≤–ø–∞–¥–∞—é—Ç</li>\n<li>–î–∞–ª–µ–µ Azure –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Ç–æ–∫–µ–Ω —É issuer'–∞ (–∫—É–±–µ—Ä–∞) –∏ –µ—Å–ª–∏ –≤—Å–µ –æ–∫, –≥–µ–Ω–µ—Ä–∏—Ç –∏ –æ—Ç–¥–∞–µ—Ç –≤ –æ—Ç–≤–µ—Ç access token</li>\n<li>Profit</li>\n</ol>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:</p>\n<ul>\n<li>—Ç–æ–∫–µ–Ω –≤–Ω—É—Ç—Ä–∏ –∫—É–±–µ—Ä–∞ –≤ /var/run/secrets/azure —Å–≥–µ–Ω–µ—Ä–µ–Ω —Å–∞–º–∏–º –∫—É–±–µ—Ä–æ–º, —Å —ç—Ç–∏–º —Ç–æ–∫–µ–Ω–æ–º –Ω–µ –≤—ã–π–¥–µ—Ç —Å—Ö–æ–¥–∏—Ç—å –≤ s3, –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã, –≤ –Ω–µ–º —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω–∞ <code class=\"language-text\">[aud]ience</code> - api://AzureTokenExchange, —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ azure api –¥–ª—è –æ–±–º–µ–Ω–∞ –µ–≥–æ –Ω–∞ access token –∫ —Ü–µ–ª–µ–≤–æ–º—É —Ä–µ—Å—É—Ä—Å—É</li>\n<li>—Ç–æ–∫–µ–Ω –≤–Ω—É—Ç—Ä–∏ –∫—É–±–µ—Ä–µ –ø–æ–¥–ø–∏—Å–∞–Ω —Å–µ–∫—Ä–µ—Ç–æ–º –∫—É–±–µ—Ä–∞, –æ –∫–æ—Ç–æ—Ä–æ–º azure –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç (—É—Å–ª–æ–≤–Ω–æ —É –Ω–∞—Å –∫—É–±–µ—Ä –≤–æ–æ–±—â–µ –º–æ–∂–µ—Ç –≥–¥–µ —Ç–æ –Ω–∞ –Ω–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ —Ä–∞–±–æ—Ç–∞—Ç—å) –∏–º–µ–Ω–Ω–æ –ø–æ—Ç–æ–º—É –∞–∂—É—Ä –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –µ–≥–æ</li>\n<li>—Ö–æ—Ç—å –Ω–∞—à –∫—É–±–µ—Ä –∏ –≤–Ω—É—Ç—Ä–∏ –∞–∂—É—Ä–∞, –±—ã–ª –±—ã –ª–æ–≥–∏—á–Ω—ã–º –≤–æ–ø—Ä–æ—Å - –ø–æ—á–µ–º—É –±—ã —Å—Ä–∞–∑—É –Ω–µ –≤—ã–ø–∏—Å–∞—Ç—å access token - –æ—Ç–≤–µ—Ç –ø—Ä–æ—Å—Ç - access token –∫—É–¥–∞? –≤ s3, –∏–ª–∏ sql –∏–ª–∏ —á—Ç–æ —Ç–æ –µ—â–µ - –Ω–∞ –ø–µ—Ä–µ–¥ –∂–µ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–Ω–∞–µ—Ç, –ø–ª—é—Å –Ω–µ —Å—Ç–æ–∏—Ç –∑–∞–±—ã–≤–∞—Ç—å —á—Ç–æ access token —ç—Ç–æ –∫–æ—Ä–æ—Ç–∫–æ–∂–∏–≤—É—â–∏–π —Ç–æ–∫–µ–Ω, —Ç–∞–∫ —á—Ç–æ –±—ã–ª–æ –±—ã —Å—Ç—Ä–∞–Ω–Ω–æ –µ—Å–ª–∏ –±—ã –Ω–∞–º –µ–≥–æ –ø–æ–¥—Å—É–Ω—É–ª–∏, –∞ —É—Å–ª–æ–≤–Ω–æ —á–µ—Ä–µ–∑ —á–∞—Å –æ–Ω —É–∂–µ –ø—Ä–æ—Ç—É—Ö</li>\n<li>–≤—Å—è –ø—Ä–µ–ª–µ—Å—Ç—å —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ —Å –æ–±–º–µ–Ω–æ–º —Ç–æ–∫–µ–Ω–æ–≤ –≤ —Ç–æ–º —á—Ç–æ –æ–Ω –Ω–µ –∑–∞–≤—è–∑–∞–Ω –Ω–∞ –∞–∂—É—Ä –∏ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –ª—é–±—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏—è—Ö, —É—Å–ª–æ–≤–Ω–æ —É –Ω–∞—Å –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤–æ–π oidc —Å–µ—Ä–≤–µ—Ä, –∏ –º—ã –±—ã –≤ —Ñ–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫—Ä–µ–¥—ã –¥–æ–±–∞–≤–∏–ª–∏ –±—ã –µ–≥–æ, –∞ –Ω–µ –∫—É–±–µ—Ä –∏ —Ç–µ–º —Å–∞–º—ã–º –º–æ–≥–ª–∏ –±—ã –∞–≤—Ç–æ—Ä–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–¥ —Å–≤–æ–∏–º–∏ —É—á–µ—Ç–∫–∞–º–∏, —Ç–∞ –∂–µ –∏—Å—Ç–æ—Ä–∏—è —Å aws, github, –∏ –º–Ω–æ–≥–∏–º–∏ –¥—Ä—É–≥–∏–º–∏</li>\n<li>–≤—Ç–æ—Ä–∞—è –ø—Ä–µ–ª–µ—Å—Ç—å - —ç—Ç–æ —Ç–æ —á—Ç–æ —É –∫–∞–∂–¥–æ–π —Å–∏—Å—Ç–µ–º—ã –µ—Å—Ç—å —Å–≤–æ–∏ —Å–µ–∫—Ä–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–º–∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Ç–æ–∫–µ–Ω—ã, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –Ω–∏–∫—Ç–æ –æ –Ω–∏—Ö –Ω–µ –∑–Ω–∞–µ—Ç</li>\n<li>–Ω—É –∏ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∏ —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ - –≤ –Ω–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤–æ–æ–±—â–µ –Ω–∏–∫–∞–∫–∏—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤ –Ω–µ—Ç, —Ö–æ—Ç—å –≤ –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ–∫–µ—Ä —Ö–∞–± –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å, –Ω–æ —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ - –±–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –æ —Ç–æ–º —á—Ç–æ —Å–µ–∫—Ä–µ—Ç—ã –Ω—É–∂–Ω–æ —Ä–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –≤–æ—Ç —ç—Ç–æ –≤—Å–µ —á—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–∏–∫–∏ –ª—é–±—è—Ç</li>\n<li>—á—Ç–æ –±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ - –µ—Å—Ç—å —Å–º—ã—Å–ª –∏–∑ –Ω–µ–≥–æ —Å–¥–µ–ª–∞—Ç—å web api —á—Ç–æ –±—ã –æ–Ω–æ –Ω–µ —Å—Ä–∞–∑—É –∂–µ –∑–∞–∫—Ä—ã–≤–∞–ª–æ—Å—å, –∑–∞—Ç–µ–º –ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è –≤–Ω—É—Ç—Ä—å —á–µ—Ä–µ–∑ kubectl exec, –æ—á–µ–Ω—å —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ <a href=\"http://jwt.io\">jwt.io</a> —á—Ç–æ —Ç–∞–º –∑–∞ —Ç–æ–∫–µ–Ω –∏ –µ–≥–æ aud, iss –∏ –≤–æ—Ç —ç—Ç–æ –≤—Å–µ</li>\n<li>–ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ç–æ–º –∫–∞–∫–∏–µ –µ—Å—Ç—å –æ–ø—Ü–∏–∏ –æ–±–º–µ–Ω–∞ —Ç–æ–∫–∞–Ω–∞–º–∏ –æ–ø–∏—Å–∞–Ω–æ <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow#third-case-access-token-request-with-a-federated-credential\">—Ç—É—Ç</a></li>\n</ul>\n<h1>App Registrations</h1>\n<p>–ü–æ –º–∏–º–æ —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö —É—á–µ—Ç–æ–∫ –≤ Azure, –µ—Å—Ç—å —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ App Registrations, –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ Active Directory</p>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:</p>\n<ul>\n<li>tenant_id - –∫–æ—Ç–æ—Ä—ã–π –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è –≤—Å–µ–≥–æ –Ω–∞ —Å–≤–µ—Ç–µ - —ç—Ç–æ –ø–æ —Å—É—Ç–∏ id –Ω–∞—à–µ–π –æ—Ä–≥, –∏ –ø–æ —Å—É—Ç–∏ id –Ω–∞—à–µ–π active directory, –∏ –æ–¥–Ω–∏–∞–∫–æ–≤—ã–π –≤–æ –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å–∫–∞—Ö –∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö</li>\n<li>app registration - –≥–ª–æ–±–∞–ª—å–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º–æ–µ –≤–æ –≤—Å–µ–º –º–∏—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ—é—â–µ–µ —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π client_id</li>\n<li>enterprise applications - —ç—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –∫–æ–Ω—Ä–µ—Ç–Ω–æ –≤ –Ω–∞—à–µ–π active directory —ç–∫–∑–µ–º–ø–ª—è—Ä —ç—Ç–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - –ø–æ —Å—É—Ç–∏ —ç—Ç–æ –∏ –µ—Å—Ç—å –µ–≥–æ —Å–µ—Ä–≤–∏—Å–Ω–∞—è —É—á–µ—Ç–∫–∞, –≤ –æ—Ç–ª–∏—á–∏–∏ –æ—Ç app registrations, –µ—Å–ª–∏ –∫–∞–∫–∞—è —Ç–æ –¥—Ä—É–≥–∞—è –∫–æ–º–ø–∞–Ω–∏—è –ø–æ—Å—Ç–∞–≤–∏—Ç —É —Å–µ–±—è –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ç–æ –≤ –∏—Ö active directory –≤ —Ä–∞–∑–¥–µ–ª–µ enterprise applications - –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–∞—à–∞ –∞–ø–∫–∞ - —Ç–æ –µ—Å—Ç—å —Ç–µ–º —Å–∞–º—ã–º –æ–Ω–∏ –∫–∞–∫ –±—ã —Å–æ–¥–∞—é—Ç —Å–µ—Ä–≤–∏—Å–Ω—É—é —É—á–µ—Ç–∫—É –æ—Ç –∏–º–µ–Ω–∏ –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Å–≤–æ–µ–º active directory. –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–æ–∑–¥–∞–Ω–∏—è app registration, enterprise application —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–æ–º –∏ —Ç—É—Ç –Ω–∏—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ</li>\n<li>–¢–∞–∫ –∂–µ —Å–∞–º–æ –∫–∞–∫ –∏ —Å —Å–µ—Ä–≤–∏—Å–Ω—ã–º–∏ —É—á–µ—Ç–∫–∞–º–∏, —É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –≤ —Ä–∞–∑—Ä–µ–∑–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –µ—Å—Ç—å —Ä–∞–∑–¥–µ–ª federated credentials –∫–æ—Ç–æ—Ä—ã–µ –æ–¥–∏–Ω –≤ –æ–¥–∏–Ω –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ</li>\n</ul>\n<h1>Use Case: API to API</h1>\n<p>For this to work we gonna need an app registration, nothing fancy here, just create one with default settings, no need to change anything</p>\n<p>Copy your client id and tenant id, we will need them later</p>\n<p>Click ‚ÄúAdd an Application ID URI‚Äù</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/744588b5a6c985b461b9521c8e56a67d/92a6b/image-20230328-071116.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24.21875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA2ElEQVR42o2QS07EMBBEc/9jcQhYsEAgZTIJniSO//Hn0Q6C9bTUaqtdKj/XMM93xvHGeZ40oNQmXSmlkoucS6G1fvNcDdtDkVLAHJqYEj4mDhdwPhBSxjt3mT5vuK7EGIUw0YTMeU/fIbxHLIRcL8Ja6z9pzicpeJE0/FlZfcGk/hMx1PrAi8mf2FpL3/UI1GPlPk0sy8x4u8leX5pJad4+lWgK7+rk5SPyOmfkbQb1vWCMvQh6dfNt266ptOVr2dlkWmMIIfxqJJb9cBJVQofKLp0k7074A9E9heTGrVtFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/744588b5a6c985b461b9521c8e56a67d/2bef9/image-20230328-071116.png\"\n        srcset=\"/static/744588b5a6c985b461b9521c8e56a67d/6f3f2/image-20230328-071116.png 256w,\n/static/744588b5a6c985b461b9521c8e56a67d/01e7c/image-20230328-071116.png 512w,\n/static/744588b5a6c985b461b9521c8e56a67d/2bef9/image-20230328-071116.png 1024w,\n/static/744588b5a6c985b461b9521c8e56a67d/71c1d/image-20230328-071116.png 1536w,\n/static/744588b5a6c985b461b9521c8e56a67d/a878e/image-20230328-071116.png 2048w,\n/static/744588b5a6c985b461b9521c8e56a67d/92a6b/image-20230328-071116.png 2334w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>At the very top click \"Set\"</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f5fe1db612903acb9fe3ac217781edfa/03692/image-20230328-071137.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.9375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA50lEQVR42p1Q127DMBDz//9mWsSO7GgPy5bYo4IUaV8CRMDhhkjemLZQMS83rEpBaw1jDIJ3aOeJT96kfURK8ZH1jlQbLspD+4LWPxB03o7Jaq2jkMuOeTW4Gy+NMnpraG+s9/4yoXMIIaCUMgopJSzzFbdlgVJyinXFtm3DW2sRBeu9H5wY4y+XwqecabIxDELOeQju+w6lHYycgrUQ4mjCmEQaMa/GGv+Jm1LJQ5DdhmA9YGTqehx/VjklT4I5xFOAk1GMQuQy5pTTst7x/XWBc1Y+k4AfANpzlec6vDM9Rf/H9Fz5B2K4ItfP8aGrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/f5fe1db612903acb9fe3ac217781edfa/2bef9/image-20230328-071137.png\"\n        srcset=\"/static/f5fe1db612903acb9fe3ac217781edfa/6f3f2/image-20230328-071137.png 256w,\n/static/f5fe1db612903acb9fe3ac217781edfa/01e7c/image-20230328-071137.png 512w,\n/static/f5fe1db612903acb9fe3ac217781edfa/2bef9/image-20230328-071137.png 1024w,\n/static/f5fe1db612903acb9fe3ac217781edfa/71c1d/image-20230328-071137.png 1536w,\n/static/f5fe1db612903acb9fe3ac217781edfa/a878e/image-20230328-071137.png 2048w,\n/static/f5fe1db612903acb9fe3ac217781edfa/03692/image-20230328-071137.png 2440w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Accept default</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6b82ac9c3e24faa8e09f09d831e0b5a1/1cb21/image-20230328-071152.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.65625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAqElEQVR42p2QTQ7CIBBGe/9TeBTXXsCFdmOUWChYfttC4XNsWnXhQp3kZYYvzAuhurILOOcQQkBKCWMtSin4t6opJeRcSJIxxAStDfoQXtJH/4HqfZnTKw/HGvWJodUe0gSYPsGN+TsiCa2xGMc4C7dHjc2uAWsE+M2g8wNdnOBjXigL+QOUJxJ2Sj2FrNXYnxVUZ+DpL72zCN4RnmY3n51dMzdnbslX7h5PhRfxRAnAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/6b82ac9c3e24faa8e09f09d831e0b5a1/2bef9/image-20230328-071152.png\"\n        srcset=\"/static/6b82ac9c3e24faa8e09f09d831e0b5a1/6f3f2/image-20230328-071152.png 256w,\n/static/6b82ac9c3e24faa8e09f09d831e0b5a1/01e7c/image-20230328-071152.png 512w,\n/static/6b82ac9c3e24faa8e09f09d831e0b5a1/2bef9/image-20230328-071152.png 1024w,\n/static/6b82ac9c3e24faa8e09f09d831e0b5a1/71c1d/image-20230328-071152.png 1536w,\n/static/6b82ac9c3e24faa8e09f09d831e0b5a1/a878e/image-20230328-071152.png 2048w,\n/static/6b82ac9c3e24faa8e09f09d831e0b5a1/1cb21/image-20230328-071152.png 2586w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>One more prerequisite</p>\n<p>If you leave everything as is, client will fail with error</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Unhandled exception.\n\nAzure.Identity.AuthenticationFailedException:\n\nAzure CLI authentication failed due to an unknown error.\nSee the troubleshooting guide for more information.\nhttps://aka.ms/azsdk/net/identity/azclicredential/troubleshoot\n\nERROR: AADSTS65001:\n\nThe user or administrator has not consented to use the application with ID '04b07795-8ddb-461a-bbee-02f9e1bf7b46' named 'Microsoft Azure CLI'.\nSend an interactive authorization request for this user and resource.</code></pre></div>\n<p>To fix this issue go to exposed api, add some scope and add client with ID mentioned in error</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4efe6be2a26b61259e5099d820c9779a/1cb21/image-20230328-072208.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABb0lEQVR42p1S2W6EMAzk/z+yL1UrFliuEOcgZDr2LhXiqaoly07i2JOZNO3jgUfbou97jOMI51agVvzHKu81Qbzdr/VA2itmJ/ASISHDh/TrMRXEfPHbOnCdCxtO04R9321CTpmNArZtQ0fETyJ+Pp/mjnvq28Vtzzms64rFbQaoCWyQUrKGIQj6rsMw9CxaEHkmXiB8RYyRdZExWB6ZJ8Z6o6cZOV2bqnm/4avt0A0vVIbyjdB7b6g0iohF9XDJj+NA03c9NsJWSzljXFZCLyZMfbsWZp6VUowezS3yZee+1pgo31+f8JtD4iQJEbNPEHKh7nPFFA58tDOENXr5RKu5RqVFeTyf3ig67U5I5CZhnGaKMWGaZyLeqeBOBXdDcSI88xPVlcdm5kWd9BKF06iYciTKjwoWL0K8XffP+AJzEUU/9bIstijlMJK1+FqoCBTRX8y+jfKhJjFjWAUuFiyBnzW/qNBm8f1F7n5v+AMRd1tdWtobDQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/4efe6be2a26b61259e5099d820c9779a/2bef9/image-20230328-072208.png\"\n        srcset=\"/static/4efe6be2a26b61259e5099d820c9779a/6f3f2/image-20230328-072208.png 256w,\n/static/4efe6be2a26b61259e5099d820c9779a/01e7c/image-20230328-072208.png 512w,\n/static/4efe6be2a26b61259e5099d820c9779a/2bef9/image-20230328-072208.png 1024w,\n/static/4efe6be2a26b61259e5099d820c9779a/71c1d/image-20230328-072208.png 1536w,\n/static/4efe6be2a26b61259e5099d820c9779a/a878e/image-20230328-072208.png 2048w,\n/static/4efe6be2a26b61259e5099d820c9779a/1cb21/image-20230328-072208.png 2586w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Now create an API</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> myapi\n<span class=\"token builtin class-name\">cd</span> myapi\ndotnet new web --exclude-launch-settings --no-https\ndotnet <span class=\"token function\">add</span> package Microsoft.Identity.Web</code></pre></div>\n<p>And our <code class=\"language-text\">Program.cs</code></p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Security<span class=\"token punctuation\">.</span>Claims</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Microsoft<span class=\"token punctuation\">.</span>AspNetCore<span class=\"token punctuation\">.</span>Authentication<span class=\"token punctuation\">.</span>JwtBearer</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Microsoft<span class=\"token punctuation\">.</span>Identity<span class=\"token punctuation\">.</span>Web</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> builder <span class=\"token operator\">=</span> WebApplication<span class=\"token punctuation\">.</span><span class=\"token function\">CreateBuilder</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nbuilder<span class=\"token punctuation\">.</span>Services<span class=\"token punctuation\">.</span><span class=\"token function\">AddAuthentication</span><span class=\"token punctuation\">(</span>JwtBearerDefaults<span class=\"token punctuation\">.</span>AuthenticationScheme<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">AddJwtBearer</span><span class=\"token punctuation\">(</span>options <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        options<span class=\"token punctuation\">.</span>Authority <span class=\"token operator\">=</span> <span class=\"token string\">\"https://sts.windows.net/695e64b5-2d13-4ea8-bb11-a6fda2d60c41\"</span><span class=\"token punctuation\">;</span>\n        options<span class=\"token punctuation\">.</span>Audience <span class=\"token operator\">=</span> <span class=\"token string\">\"api://fa220c3a-cd6d-416a-ac4f-25a3e14ba38f\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> app <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span><span class=\"token function\">Build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">UseAuthentication</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">UseAuthorization</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">MapGet</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ClaimsPrincipal</span> user<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> user<span class=\"token punctuation\">.</span>Claims<span class=\"token punctuation\">.</span><span class=\"token function\">Select</span><span class=\"token punctuation\">(</span>c <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">KeyValuePair<span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">string</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">string</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">.</span>Type<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">.</span>Value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ToList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\napp<span class=\"token punctuation\">.</span><span class=\"token function\">Run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now we need client, to simplify things I will create console client</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> client\n<span class=\"token builtin class-name\">cd</span> client\ndotnet new console\ndotnet <span class=\"token function\">add</span> package Azure.Identity</code></pre></div>\n<p>And here is the code</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Net<span class=\"token punctuation\">.</span>Http<span class=\"token punctuation\">.</span>Headers</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Azure<span class=\"token punctuation\">.</span>Core</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Azure<span class=\"token punctuation\">.</span>Identity</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> credentials <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DefaultAzureCredential</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> tokenResult <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> credentials<span class=\"token punctuation\">.</span><span class=\"token function\">GetTokenAsync</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">TokenRequestContext</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"api://fa220c3a-cd6d-416a-ac4f-25a3e14ba38f/.default\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> CancellationToken<span class=\"token punctuation\">.</span>None<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span>tokenResult<span class=\"token punctuation\">.</span>Token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> client <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">HttpClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nclient<span class=\"token punctuation\">.</span>DefaultRequestHeaders<span class=\"token punctuation\">.</span>Authorization <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">AuthenticationHeaderValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Bearer\"</span><span class=\"token punctuation\">,</span> tokenResult<span class=\"token punctuation\">.</span>Token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> claims <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> client<span class=\"token punctuation\">.</span><span class=\"token function\">GetStringAsync</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://localhost:5000/\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span>claims<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>If everything were done correctly you should receive your access token, which then will be used to authenticate against our API</p>\n<p>The next step is to check how can we receive such token for managed identity, let‚Äôs pretend we already have one configured</p>\n<p>At moment it does not work, I was able to acquire access token for managed identity, it is much smaller but from the logs of API it seems to be valid, but at the very end API marks user as not logged in</p>\n<hr>\n<p>The easiest way to get an access token created from kubernetes will be:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># note: we are using preexisting \"ats\" service account, so no need to deal with it</span>\nkubectl run <span class=\"token parameter variable\">-it</span> <span class=\"token parameter variable\">--rm</span> mactemp <span class=\"token parameter variable\">--image</span><span class=\"token operator\">=</span>ubuntu <span class=\"token parameter variable\">--overrides</span><span class=\"token operator\">=</span><span class=\"token string\">'{\"spec\": { \"serviceAccountName\": \"ats\", \"nodeSelector\": {\"kubernetes.io/os\": \"linux\"}}, \"metadata\":{\"labels\":{\"azure.workload.identity/use\":\"true\"},\"annotations\":{\"kubeforce\":\"skip\"}}}'</span>\n\n<span class=\"token function\">apt</span> <span class=\"token parameter variable\">-qq</span> update <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token function\">curl</span> jq\n\n<span class=\"token comment\"># check that you have token</span>\n<span class=\"token function\">env</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> AZURE\n\n<span class=\"token comment\"># exchange tokens (make sure to replace \"fa220c3a-cd6d-416a-ac4f-25a3e14ba38f\" with your application registration client id)</span>\n<span class=\"token function\">curl</span> <span class=\"token parameter variable\">-s</span> <span class=\"token parameter variable\">-X</span> POST <span class=\"token parameter variable\">-H</span> <span class=\"token string\">\"Content-Type: application/x-www-form-urlencoded\"</span> <span class=\"token parameter variable\">-d</span> <span class=\"token string\">\"scope=api%3A%2F%2Ffa220c3a-cd6d-416a-ac4f-25a3e14ba38f%2F.default&amp;client_id=<span class=\"token variable\">$AZURE_CLIENT_ID</span>&amp;client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer&amp;client_assertion=<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">cat</span> $AZURE_FEDERATED_TOKEN_FILE<span class=\"token variable\">)</span></span>&amp;grant_type=client_credentials\"</span> <span class=\"token string\">\"https://login.microsoftonline.com/<span class=\"token variable\">$AZURE_TENANT_ID</span>/oauth2/v2.0/token\"</span></code></pre></div>\n<p>Then copy received token an locally call your api like so:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">curl -H \"Authorization: Bearer XXXXX\" http://localhost:5000/</code></pre></div>\n<hr>\n<h1>myapi</h1>\n<p>I have created <a href=\"https://portal.azure.com/#view/Microsoft_AAD_RegisteredApps/ApplicationMenuBlade/~/Overview/quickStartType~/null/sourceType/Microsoft_AAD_IAM/appId/328df3d8-186c-4e8c-b51e-bb60790599e9/objectId/235acd47-f11f-4032-b4ce-44c8c1a1db59/isMSAApp~/false/defaultBlade/Overview/appSignInAudience/AzureADMyOrg/servicePrincipalCreated~/true\">mactemp_myapi</a></p>\n<p>In its expose api section I have set default <code class=\"language-text\">api://328df3d8-186c-4e8c-b51e-bb60790599e9</code> app uri, added ‚ÄúHello‚Äù scope, and added <code class=\"language-text\">04b07795-8ddb-461a-bbee-02f9e1bf7b46</code> Azure CLI as allowed client</p>\n<p>In properties of <a href=\"https://portal.azure.com/#view/Microsoft_AAD_IAM/ManagedAppMenuBlade/~/Properties/objectId/5e50f74d-e91f-4fd2-88a9-e2c3cfabad0d/appId/328df3d8-186c-4e8c-b51e-bb60790599e9\">enterprise app</a> i have enabled assigment required feature, and added my self to users</p>\n<p>Did tried to remove my self at 12:55, still can receive an token, will try later to see how much time is needed for change to propagate. In 14:16 i can not receive a token anymore</p>\n<h1>console</h1>\n<p>Created <a href=\"https://portal.azure.com/#view/Microsoft_AAD_RegisteredApps/ApplicationMenuBlade/~/Overview/quickStartType~/null/sourceType/Microsoft_AAD_IAM/appId/1543f1b8-1840-4574-aa44-2e383cdd2652/objectId/79500276-90d6-4d70-9f5c-18858dfecaad/isMSAApp~/false/defaultBlade/Overview/appSignInAudience/AzureADMyOrg/servicePrincipalCreated~/true\">mactemp_console</a></p>\n<p>For easier experiments between user token and console token, have created an client credentials secret</p>\n<h1>–ö–∞–∫ –¥–µ–±–∞–∂–∏—Ç—å –¥–∂–æ–±—É</h1>\n<p>–°—Ü–µ–Ω–∞—Ä–∏–π: —É –Ω–∞—Å –µ—Å—Ç—å –Ω–µ–∫–∞—è –∫—Ä–æ–Ω –¥–∂–æ–±–∞ –∫–æ—Ç–æ—Ä–∞—è –ø–æ –∫–∞–∫–æ–π —Ç–æ –Ω–µ –≤–µ–¥–æ–º–æ–π –ø—Ä–∏—á–∏–Ω–µ –ø–µ—Ä–µ—Å—Ç–∞–ª–∞ —Ä–∞–±–æ—Ç–∞—Ç—å</p>\n<p>–ú—ã —Ö–æ—Ç–∏—Ç—å –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ –≤–∞–ª–∏–¥–Ω—ã –ª–∏ –æ–Ω–∏</p>\n<p>–í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —Ä–µ—á—å –æ –¥–æ—Å—Ç—É–ø–µ –∫ azure storage –Ω–æ —Å–∞–º –ø–æ–¥—Ö–æ–¥ –ø—Ä–∏–º–µ–Ω–∏–º –∫–æ –≤—Å–µ–º—É</p>\n<p>–ó–∞–ø—É—Å–∫–∞–µ–º –Ω–∞—à –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl run <span class=\"token parameter variable\">-it</span> <span class=\"token parameter variable\">--rm</span> mactemp <span class=\"token parameter variable\">--image</span><span class=\"token operator\">=</span>ubuntu <span class=\"token parameter variable\">--overrides</span><span class=\"token operator\">=</span><span class=\"token string\">'{\"spec\": { \"serviceAccountName\": \"ats\", \"nodeSelector\": {\"kubernetes.io/os\": \"linux\"}}, \"metadata\":{\"labels\":{\"azure.workload.identity/use\":\"true\"},\"annotations\":{\"kubeforce\":\"skip\"}}}'</span> <span class=\"token function\">bash</span></code></pre></div>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:</p>\n<ul>\n<li>–Ω—É–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å <code class=\"language-text\">--image=ubuntu</code> –Ω–∞ –æ–±—Ä–∞–∑ —Å–≤–æ–µ–π –¥–∂–æ–±—ã</li>\n<li>–Ω—É–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å <code class=\"language-text\">serviceAccountName</code> –Ω–∞ —Ç–æ—Ç –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ–≤–æ–¥–∏–º —Ç–µ—Å—Ç</li>\n<li><code class=\"language-text\">bash</code> –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ –¥–æ–±–∞–≤–ª—è–µ–º —á—Ç–æ –±—ã –∑–∞–ø—É—Å—Ç–∏–ª–∞—Å—å –Ω–µ –Ω–∞—à–∞ –¥–∂–æ–±–∞, –∞ —Ç–µ—Ä–º–∏–Ω–∞–ª</li>\n</ul>\n<p>–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ—Å—Ç–∞–≤–ª—è–µ–º —Å–æ—Ñ—Ç</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">apt</span> update\n<span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token function\">curl</span> jq</code></pre></div>\n<p>–¢–µ–ø–µ—Ä—å –Ω–∞—á–∏–Ω–∞–µ–º —Å–∞–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏</p>\n<p>–°–º–æ—Ç—Ä–∏–º –Ω–∞–ª–∏—á–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">env</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> AZURE</code></pre></div>\n<p>–í –º–æ–µ–º —Å–ª—É—á–∞–µ –≤—Å–µ –æ–∫, –≤—ã–≤–µ–ª–æ</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">AZURE_TENANT_ID</span><span class=\"token operator\">=</span>695e64b5-2d13-4ea8-bb11-a6fda2d60c41\n<span class=\"token assign-left variable\">AZURE_FEDERATED_TOKEN_FILE</span><span class=\"token operator\">=</span>/var/run/secrets/azure/tokens/azure-identity-token\n<span class=\"token assign-left variable\">AZURE_AUTHORITY_HOST</span><span class=\"token operator\">=</span>https://login.microsoftonline.com/\n<span class=\"token assign-left variable\">AZURE_CLIENT_ID</span><span class=\"token operator\">=</span>92b87306-6e31-4fa0-bf0c-fa84e64072f2</code></pre></div>\n<p>–≠—Ç–æ –∑–Ω–∞—á–∏—Ç —á—Ç–æ –≤—Å–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ –∫–∞–∫ –Ω–∞–¥–æ –∏ –Ω–∞—à–µ–º—É –ø–æ–¥—É –ø–æ–¥—Å—É–Ω—É–ª–∏ —Ç–æ–∫–µ–Ω</p>\n<p>–î–∞–ª—å—à–µ –Ω–∞–º –æ—Å—Ç–∞–µ—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π –ª–∏ —ç—Ç–æ —Ç–æ–∫–µ–Ω</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> <span class=\"token variable\">$AZURE_FEDERATED_TOKEN_FILE</span></code></pre></div>\n<p>–î–ª—è –Ω–∞—á–∞–ª–∞ —Å–º–æ—Ç—Ä–∏–º –µ–≥–æ –≤ <a href=\"http://jwt.io\">jwt.io</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b2d3618976069da6fe58877143a6b520/60708/image-20230628-111654.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.890625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACS0lEQVR42n2SzU/UQBjGm3ji5s1ErkZuJHpY3PKRcCAxG7LfNw5w0Isx4UbDX8eFK0aDqMjH4gKL69JtZ7aUdvrOvD6dLlFhYzdPnrfTmd/7zJt1boaXm9fDq+1YxlsqVp5RxkuixDOJ8QhSirwoijwi8ozJ35VVXueK43hLSrmdJMlmp9N57NTqVfHuvcdvN96Y9fV1rlVrXKvVuF6vc6vZsmo2m9xut63ffWs0GtxqtRhnzNraGq+ursrl5eUZZ9FdGLYbG1x53chWllao9GKOXr10oTItlBZpcWGJ5ufnaa5Ugrvkui6V3TKVy2UCgKrValapVBjvwezs7HNHZUqwYE6+k1Edw7rDTCfQGXN2yGxuIPw447yY9NjVNE3l7u7uTAHEoeSMTdqFn9qa0/PCjSqAGnuyazQKmXXyD/wekADEpvgQQCRLj5lV7jn4CLuTAkiApT/w7QpgvwDnzTRNSGiGWABwhFTBhbEKuxCun6VFiDyd6gEkAbktGuVJtb4HzJQSAvPpjcj0Es0XqeaeMlBRp9pYoAGY0JgCtrVNnkxISABea+bPAB7daP460nwMPxlL/QW0VxVFQh2jHsGzSUBi3gszAyh/ksQHgILPOcvijLFpLCwaJ8xHoa0eXhm34MNbNkfY9A0H95HgFAPvYhRJQWTCCAzddfjP30aG4XknGEUf+jI8+CXFx74U+/A9ONaELyMRhqH40r0Ql/2fwh8OxMAfa2AV+r4fBUFwvrOz88zB8wSannKcp5Pk3Glq6k/9UNNjzqPf6Ek5txmCglAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/b2d3618976069da6fe58877143a6b520/2bef9/image-20230628-111654.png\"\n        srcset=\"/static/b2d3618976069da6fe58877143a6b520/6f3f2/image-20230628-111654.png 256w,\n/static/b2d3618976069da6fe58877143a6b520/01e7c/image-20230628-111654.png 512w,\n/static/b2d3618976069da6fe58877143a6b520/2bef9/image-20230628-111654.png 1024w,\n/static/b2d3618976069da6fe58877143a6b520/71c1d/image-20230628-111654.png 1536w,\n/static/b2d3618976069da6fe58877143a6b520/a878e/image-20230628-111654.png 2048w,\n/static/b2d3618976069da6fe58877143a6b520/60708/image-20230628-111654.png 2872w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>–î–æ–ª–∂–Ω–æ –±—ã—Ç—å —á—Ç–æ —Ç–æ —Ç–∏–ø–∞ —Ç–∞–∫–æ–≥–æ, –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏ <code class=\"language-text\">aud</code> –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–æ—Å—Ç–∞–≤–ª–µ–Ω –≤ <code class=\"language-text\">AzureADTokenExchange</code>, –∞ <code class=\"language-text\">sub</code> –≤ –Ω–∞—à—É —Å–µ—Ä–≤–∏—Å–Ω—É—é —É—á–µ—Ç–∫—É</p>\n<p>–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ —Å —Ç–∞–∫–∏–º —Ç–æ–∫–µ–Ω–æ–º —Ö–æ–¥–∏—Ç—å –∫—É–¥–∞ –ª–∏–±–æ –Ω–µ –ø–æ–ª—É—á–∏—Ç—å—Å—è</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-s</span> <span class=\"token parameter variable\">-H</span> <span class=\"token string\">\"Authorization: Bearer <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">cat</span> $AZURE_FEDERATED_TOKEN_FILE<span class=\"token variable\">)</span></span>\"</span> <span class=\"token string\">'https://management.azure.com/subscriptions?api-version=2022-09-01'</span> <span class=\"token operator\">|</span> jq</code></pre></div>\n<p>–í—ã–¥–∞—Å—Ç</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"error\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"code\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"AuthenticationFailed\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"message\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Authentication failed.\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>–î–ª—è —Ç–æ–≥–æ —á—Ç–æ –±—ã —Ä–∞–±–æ—Ç–∞–ª–æ, –Ω–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–Ω—É—Ç—å ‚Äú–º–∞–≥–∏—é‚Äù —Ç–æ —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –∏ –æ–±–º–µ–Ω—è—Ç—å —Ç–æ–∫–µ–Ω</p>\n<p>–î–µ–ª–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-s</span> <span class=\"token parameter variable\">-X</span> POST <span class=\"token parameter variable\">-H</span> <span class=\"token string\">\"Content-Type: application/x-www-form-urlencoded\"</span> <span class=\"token parameter variable\">-d</span> <span class=\"token string\">\"scope=https%3A%2F%2Fatsrobsad.blob.core.windows.net%2F.default&amp;client_id=<span class=\"token variable\">$AZURE_CLIENT_ID</span>&amp;client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer&amp;client_assertion=<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">cat</span> $AZURE_FEDERATED_TOKEN_FILE<span class=\"token variable\">)</span></span>&amp;grant_type=client_credentials\"</span> <span class=\"token string\">\"https://login.microsoftonline.com/<span class=\"token variable\">$AZURE_TENANT_ID</span>/oauth2/v2.0/token\"</span> <span class=\"token operator\">|</span> jq <span class=\"token parameter variable\">-r</span> <span class=\"token string\">\".access_token\"</span></code></pre></div>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:</p>\n<ul>\n<li>–≤ —ç—Ç–æ–º –∑–∞–ø—Ä–æ—Å–µ —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ —ç—Ç–æ <code class=\"language-text\">scope</code> - —Ä–µ—Å—É—Ä—Å –∫ –∫–æ—Ç–æ—Ä–æ–º—É –º—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è —Å—Ç—É—á–∞—Ç—å—Å—è, –≤ –º–æ–µ–º –ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ <code class=\"language-text\">https://atsrobsad.blob.core.windows.net/.default</code></li>\n<li>—Ç–æ–∫–µ–Ω –≤—ã–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤–æ—Ç –ø—Ä—è–º–æ –Ω–∞ –∫–æ–Ω—Ä–µ—Ç–Ω—ã–π storage account, –∞ –Ω–µ –Ω–∞ –≤—Å–µ –Ω–∞ —Å–≤–µ—Ç–µ</li>\n<li>—Å–ª–µ—à–∏ –º–µ–Ω—è–µ–º –Ω–∞ <code class=\"language-text\">%2F</code>, –¥–≤–æ–µ—Ç–æ—á–∏–µ –Ω–∞ <code class=\"language-text\">%3A</code></li>\n<li>–µ—Å–ª–∏ —Å—Ç—É—á–∏–º—Å—è –∫ —Å–≤–æ–µ–º—É API —Ç–æ scope –±—É–¥–µ—Ç –ø–æ —Ç–∏–ø—É —Ç–∞–∫–æ–≥–æ: <code class=\"language-text\">api://111111-222222-33333-44444</code>, –≥–¥–µ –≤–æ—Ç —ç—Ç–∞ –ø—Ä–æ—Å—Ç—ã–Ω—è —ç—Ç–æ id –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</li>\n</ul>\n<p>–¢–µ–ø–µ—Ä—å –µ—Å–ª–∏ —Å—Ö–æ–¥–∏–º —Å –ø–æ–ª—É—á–µ–Ω–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º –≤ <a href=\"http://jwt.io\">jwt.io</a> –¥–æ–ª–∂–Ω—ã –±—É–¥–µ–º —Ç–∞–º —É–≤–∏–¥–µ—Ç—å –≤ <code class=\"language-text\">aud</code> –Ω–∞—à Azure Storage</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0ba1925ff55cd562b4b1031878f8613d/60708/image-20230628-112820.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.890625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACOElEQVR42nWSTW/TQBCGLXHihoQEElwRPRHggNo0uCJIRQpK6nxwi0QqIU4g9Varvy6X/IOKpNCWpPkAqYQ4tjeOvV7v8K7XKagNiR693p2dd2fGNhazycFsOjkKHHbIWWiLUNqBp5UDwYXNGMM6tCXnNg9C7HNbSpkSBMGh53lHYRge9Pv9O4ZV3XM/fbbp4/4H2Wq9J2vPIsuyqFqtUqPRSKnVatSo16mOPRWvgpqK1xvUarVks9mkcrnsFYvFDcPcfjl7Z+3T291avFt4I1482RRbz7bF5tO8KDw3hVnYEaYJ3TFFwSyIfCEPtlKKr1+JSqUSl0olyufzTi6Xe2zwmLs0J4rOhIyHkpILIjECSvtEMgL4UwhdEJGCaZU+lKsg8qPI63Q6G9rQw/kBST6GwiSagAvNylA4iJ3jkhnWcbYPpeS6oeCunOLCLkmVEJ6C71qXJzi/VMe1YTQkii9hisoEukoC0sG1hsfacNkD3zLD3ipJpgbKVK0TX5smqDIR61pmuuVogMBAV7KuZf4DFU512/GvrMq1M0QgOEGFp7oyZaRmGZ4hIcwMcSb+rU2Ei2dHK6q8aShxY6BmiFaXX0FXa/Dl7wxVm/wnEsdZpVmFN1+KqlDNZUhSIkGONYnSSfpZpBWqOUu8kFRhRuqTUZcF1wzn7nzkjhdseszmTo+5sy5zla6efQf4vutdsiv8OXOZf8WcLRhzHGfUbrcfGfjdM24bD/6LkXH3H67HDOMhuA9u/QHoUTntcu5cXgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/0ba1925ff55cd562b4b1031878f8613d/2bef9/image-20230628-112820.png\"\n        srcset=\"/static/0ba1925ff55cd562b4b1031878f8613d/6f3f2/image-20230628-112820.png 256w,\n/static/0ba1925ff55cd562b4b1031878f8613d/01e7c/image-20230628-112820.png 512w,\n/static/0ba1925ff55cd562b4b1031878f8613d/2bef9/image-20230628-112820.png 1024w,\n/static/0ba1925ff55cd562b4b1031878f8613d/71c1d/image-20230628-112820.png 1536w,\n/static/0ba1925ff55cd562b4b1031878f8613d/a878e/image-20230628-112820.png 2048w,\n/static/0ba1925ff55cd562b4b1031878f8613d/60708/image-20230628-112820.png 2872w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>A <code class=\"language-text\">sub</code> —Ç–µ–ø–µ—Ä—å —Ä–∞–≤–µ–Ω client id —Å–µ—Ä–≤–∏—Å–Ω–æ–π —É—á–µ—Ç–∫–µ –∏–∑ –ø–æ–¥ –∫–æ—Ç–æ—Ä–æ–π –º—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏ –Ω–∞—à –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d3b5a596fd4cdeba57c3d7a071f15699/772aa/image-20230628-113000.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.890625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABCElEQVR42p2Q626FIBCEff9X7I96bNOqKKDAchGcLtg0TROTk24yCSzL5pvpRk0YtcOntBiVa5q4V7W6BEUZ2pen1fX9K4ZHDzHPrAnLIppWMSOGgJwzgBPPVqeVgvfUFIJHygWWAs5S8J/q3ocB+6bhnIUnx0sDVqngyN9+SikhHwcK05dyqd1Ptky8hIi4eRGFdEAapk35duG2G6xqw2Ycy0Lz3VjL8RzolNLQWrPliyjGCK1ke/xb53eUozR4+dAYBOFtITwEOzsuoM7ZSuhgjGlLKtm4bqBw3BLWWSEEpJTNnWW6GkNbOE1Te4gxXJY5w4mHK3kd3ve90Z+M91s1okv551z7X+Z1cFkVNAiuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/d3b5a596fd4cdeba57c3d7a071f15699/2bef9/image-20230628-113000.png\"\n        srcset=\"/static/d3b5a596fd4cdeba57c3d7a071f15699/6f3f2/image-20230628-113000.png 256w,\n/static/d3b5a596fd4cdeba57c3d7a071f15699/01e7c/image-20230628-113000.png 512w,\n/static/d3b5a596fd4cdeba57c3d7a071f15699/2bef9/image-20230628-113000.png 1024w,\n/static/d3b5a596fd4cdeba57c3d7a071f15699/71c1d/image-20230628-113000.png 1536w,\n/static/d3b5a596fd4cdeba57c3d7a071f15699/772aa/image-20230628-113000.png 2042w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<blockquote>\n<p>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤ –∫—É–±–µ—Ä–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è <code class=\"language-text\">ats</code> –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞, –Ω–∞ –¥–µ–ª–µ <code class=\"language-text\">kubectl describe serviceaccount ats</code> –∏ —Ç–∞–º –±—É–¥–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è <code class=\"language-text\">azure.workload.identity/client-id</code> —Å —ç—Ç–∏–º id</p>\n</blockquote>\n<p>–¢–∞–∫ –Ω—É –∏ —Ç–µ–ø–µ—Ä—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ –∏—Å–∫–æ–º—É —Å–µ—Ä–≤–∏—Å—É</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">access_token</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-s</span> <span class=\"token parameter variable\">-X</span> POST <span class=\"token parameter variable\">-H</span> <span class=\"token string\">\"Content-Type: application/x-www-form-urlencoded\"</span> <span class=\"token parameter variable\">-d</span> <span class=\"token string\">\"scope=https%3A%2F%2Fatsrobsad.blob.core.windows.net%2F.default&amp;client_id=<span class=\"token variable\">$AZURE_CLIENT_ID</span>&amp;client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer&amp;client_assertion=<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">cat</span> $AZURE_FEDERATED_TOKEN_FILE<span class=\"token variable\">)</span></span>&amp;grant_type=client_credentials\"</span> <span class=\"token string\">\"https://login.microsoftonline.com/<span class=\"token variable\">$AZURE_TENANT_ID</span>/oauth2/v2.0/token\"</span> <span class=\"token operator\">|</span> jq <span class=\"token parameter variable\">-r</span> <span class=\"token string\">\".access_token\"</span><span class=\"token variable\">)</span></span>\n\n<span class=\"token function\">curl</span> <span class=\"token parameter variable\">-H</span> <span class=\"token string\">\"x-ms-version: 2021-08-06\"</span> <span class=\"token parameter variable\">-H</span> <span class=\"token string\">'accept: application/json'</span> <span class=\"token parameter variable\">-H</span> <span class=\"token string\">\"Authorization: Bearer <span class=\"token variable\">$access_token</span>\"</span> <span class=\"token string\">'https://atsrobsad.blob.core.windows.net/?comp=list'</span></code></pre></div>\n<p>–í—ã–≤–µ–¥–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–ø–∞–ø–æ–∫), —á—Ç–æ —Ç–æ —Ç–∏–ø–∞:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>EnumerationResults</span> <span class=\"token attr-name\">ServiceEndpoint</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://atsrobsad.blob.core.windows.net/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Containers</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Container</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Name</span><span class=\"token punctuation\">></span></span>olx-resume-files<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Name</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Properties</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Last-Modified</span><span class=\"token punctuation\">></span></span>Mon, 26 Jun 2023 12:14:35 GMT<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Last-Modified</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Etag</span><span class=\"token punctuation\">></span></span>\"0x8DB763EE7D2E9BF\"<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Etag</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>LeaseStatus</span><span class=\"token punctuation\">></span></span>unlocked<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>LeaseStatus</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>LeaseState</span><span class=\"token punctuation\">></span></span>available<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>LeaseState</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>PublicAccess</span><span class=\"token punctuation\">></span></span>blob<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>PublicAccess</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>DefaultEncryptionScope</span><span class=\"token punctuation\">></span></span>$account-encryption-key<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>DefaultEncryptionScope</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>DenyEncryptionScopeOverride</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>DenyEncryptionScopeOverride</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>HasImmutabilityPolicy</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>HasImmutabilityPolicy</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>HasLegalHold</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>HasLegalHold</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ImmutableStorageWithVersioningEnabled</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ImmutableStorageWithVersioningEnabled</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Properties</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Container</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Container</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Name</span><span class=\"token punctuation\">></span></span>work-resume-files<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Name</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Properties</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Last-Modified</span><span class=\"token punctuation\">></span></span>Thu, 23 Mar 2023 10:35:41 GMT<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Last-Modified</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Etag</span><span class=\"token punctuation\">></span></span>\"0x8DB2B8A59E410DB\"<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Etag</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>LeaseStatus</span><span class=\"token punctuation\">></span></span>unlocked<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>LeaseStatus</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>LeaseState</span><span class=\"token punctuation\">></span></span>available<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>LeaseState</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>PublicAccess</span><span class=\"token punctuation\">></span></span>blob<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>PublicAccess</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>DefaultEncryptionScope</span><span class=\"token punctuation\">></span></span>$account-encryption-key<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>DefaultEncryptionScope</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>DenyEncryptionScopeOverride</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>DenyEncryptionScopeOverride</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>HasImmutabilityPolicy</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>HasImmutabilityPolicy</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>HasLegalHold</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>HasLegalHold</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ImmutableStorageWithVersioningEnabled</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ImmutableStorageWithVersioningEnabled</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Properties</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Container</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Container</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Name</span><span class=\"token punctuation\">></span></span>work-resume-photos<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Name</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Properties</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Last-Modified</span><span class=\"token punctuation\">></span></span>Thu, 23 Mar 2023 10:35:41 GMT<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Last-Modified</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Etag</span><span class=\"token punctuation\">></span></span>\"0x8DB2B8A59DAC363\"<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Etag</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>LeaseStatus</span><span class=\"token punctuation\">></span></span>unlocked<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>LeaseStatus</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>LeaseState</span><span class=\"token punctuation\">></span></span>available<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>LeaseState</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>PublicAccess</span><span class=\"token punctuation\">></span></span>blob<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>PublicAccess</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>DefaultEncryptionScope</span><span class=\"token punctuation\">></span></span>$account-encryption-key<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>DefaultEncryptionScope</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>DenyEncryptionScopeOverride</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>DenyEncryptionScopeOverride</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>HasImmutabilityPolicy</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>HasImmutabilityPolicy</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>HasLegalHold</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>HasLegalHold</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ImmutableStorageWithVersioningEnabled</span><span class=\"token punctuation\">></span></span>false<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ImmutableStorageWithVersioningEnabled</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Properties</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Container</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Containers</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>NextMarker</span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>EnumerationResults</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º—ã –º–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∏ —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</p>\n<p>–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º AzureDefaultCredentials –≤–∏–¥–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –¥–µ–ª–∞–µ—Ç —Ç–∞–∫–æ–π –≤–æ—Ç –æ–±–º–µ–Ω —Ç–æ–∫–µ–Ω–∞</p>\n<p>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, –µ—Å–ª–∏ –Ω–µ—Ç –∫–∞–∫–æ–≥–æ —Ç–æ –∫–æ–Ω—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏–ª–∏ –Ω–µ –ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫ –∫ –Ω–µ–º—É –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è - —ç—Ç–æ —Å—Ö–æ–¥–∏—Ç—å –≤ –∞–ø–∏ —Å–∞–º–æ–≥–æ –∞–∂—É—Ä–∞</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">access_token</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-s</span> <span class=\"token parameter variable\">-X</span> POST <span class=\"token parameter variable\">-H</span> <span class=\"token string\">\"Content-Type: application/x-www-form-urlencoded\"</span> <span class=\"token parameter variable\">-d</span> <span class=\"token string\">\"scope=https%3A%2F%2Fmanagement.azure.com%2F.default&amp;client_id=<span class=\"token variable\">$AZURE_CLIENT_ID</span>&amp;client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer&amp;client_assertion=<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">cat</span> $AZURE_FEDERATED_TOKEN_FILE<span class=\"token variable\">)</span></span>&amp;grant_type=client_credentials\"</span> <span class=\"token string\">\"https://login.microsoftonline.com/<span class=\"token variable\">$AZURE_TENANT_ID</span>/oauth2/v2.0/token\"</span> <span class=\"token operator\">|</span> jq <span class=\"token parameter variable\">-r</span> <span class=\"token string\">\".access_token\"</span><span class=\"token variable\">)</span></span>\n\n<span class=\"token function\">curl</span> <span class=\"token parameter variable\">-s</span> <span class=\"token parameter variable\">-H</span> <span class=\"token string\">\"Authorization: Bearer <span class=\"token variable\">$access_token</span>\"</span> <span class=\"token string\">'https://management.azure.com/subscriptions?api-version=2022-09-01'</span> <span class=\"token operator\">|</span> jq <span class=\"token string\">\".value\"</span></code></pre></div>\n<p>–¢—É—Ç –º—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫, –≤ –æ—Ç–≤–µ—Ç –ø—Ä–∏–¥–µ—Ç —á—Ç–æ —Ç–æ —Ç–∏–ø–∞ —Ç–∞–∫–æ–≥–æ:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/subscriptions/9e9a4757-68f9-4e55-a5c7-1e6666f9539d\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"authorizationSource\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"RoleBased\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"managedByTenants\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"tags\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"organization\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"robota\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"environment\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dev\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"subscriptionId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"9e9a4757-68f9-4e55-a5c7-1e6666f9539d\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"tenantId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"695e64b5-2d13-4ea8-bb11-a6fda2d60c41\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"displayName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ROBOTA - Dev2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"state\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Enabled\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"subscriptionPolicies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"locationPlacementId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Public_2014-09-01\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"quotaId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"CSP_2015-05-01\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"spendingLimit\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Off\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>–í –Ω–∞—à–µ–ª —Å—É–ª—á–∞–µ –≤—Å–µ –æ–∫–∞–∑–∞–ª–æ—Å—å –¥–æ –±–æ–ª–∏ —Å–º–µ—à–Ω–æ –∏ –Ω–µ–ª–µ–ø–æ, –∞ –æ—Ç–≤–µ—Ç –±—ã–ª —É –Ω–∞—Å –≤—Å–µ —ç—Ç–æ –≤—Ä–µ–º—è –ø–µ—Ä–µ–¥ –≥–ª–∞–∑–∞–º–∏</p>\n<p>–ß—Ç–æ –±—ã –≤—Å—è —ç—Ç–∞ —à—Ç—É–∫–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ –Ω—É–∂–Ω–æ —Å–æ–±—Å–ª—é—Å—Ç–∏ 2 –º–æ–º–µ–Ω—Ç–∞:</p>\n<ul>\n<li>–ø–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –±–µ–∂–∞—Ç—å –∏–∑ –ø–æ–¥ service account'–∞ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –Ω–∞ –º–∞–Ω–µ—Ä –æ–ø–∏—Å–∞–Ω–∏—è –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞</li>\n<li>–ø–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å –ª–µ–π–±–æ—á–∫—É <code class=\"language-text\">azure.workload.identity/use=true</code></li>\n</ul>\n<p>–ò –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, –µ—Å–ª–∏ —Ç–∞–∫ –ø–æ–¥—É–º–∞—Ç—å - —Å –∫–∞–∫–æ–≥–æ –ø–µ—Ä–µ–ø—É–≥—É –ø–æ–¥—É –¥–æ–ª–∂–Ω—ã –ø–æ–¥—Å–æ–≤—ã–≤–∞—Ç—å—Å—è —Ç–æ–∫–µ–Ω—ã, –µ—Å–ª–∏ –æ–Ω –±–µ–∂–∏—Ç –∏–∑ –ø–æ–¥ —Å–µ—Ä–≤–∏—Å–Ω–æ–π —É—á–µ—Ç–∫–∏, —É –Ω–∞—Å –∏ —Ç–∞–∫ –∫—É—á–∞ —Ä–∞–∑–Ω—ã—Ö –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±–µ–≥—É—Ç –∏–∑ –ø–æ–¥ —Å–≤–æ–∏—Ö —É—á–µ—Ç–æ–∫ –∏ —Å–ª—É—Ö–æ–º –Ω–µ —Å–ª—ã—Ö–∏–≤–∞–ª–∏ –æ–± –∞–∂—É—Ä–µ –∏ —Ç–æ–∫–µ–Ω–∞—Ö –∏ –æ–Ω–æ –∏–º –Ω–µ –Ω—É–∂–Ω–æ, –∏–ª–∏ –∫ –ø—Ä–∏–º–µ—Ä—É, –∞ –µ—Å–ª–∏ —É –Ω–∞—Å –ø–æ–¥ –±—É–¥–µ—Ç —Ö–æ–¥–∏—Ç—å –≤ –∞–º–∞–∑–æ–Ω, –∏–º–µ–Ω–Ω–æ –Ω–∞–ª–∏—á–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å—é —ç—Ç—É –∏—Å—Ç–æ—Ä–∏—é</p>\n<p>–•–æ—Ç—å –º—ã –∏ –≤—ã—è—Å–Ω–∏–ª–∏ —á—Ç–æ —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –≤—Å–µ –æ–∫, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—Å–µ —Ç–∞–∫ –∂–µ –Ω–µ —Ñ—É—Ä—ã–∫–∞–ª–æ, –ø–æ–∫–∞ —Å—É—Ç—å –¥–∞ –¥–µ–ª–æ –ø—Ä–æ–±—É–µ–º –≤—Å–µ —Ç–æ –∂–µ —Å–∞–º–æ–µ —Å–¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑ donet, —Å–∫–∏–¥—ã–≤–∞—é —á—Ç–æ –±—ã –±—ã–ª–∞ –∑–∞–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è –∫–æ–ø–∏–ø–∞—Å—Ç—ã</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">using</span> <span class=\"token namespace\">System<span class=\"token punctuation\">.</span>Net<span class=\"token punctuation\">.</span>Http<span class=\"token punctuation\">.</span>Headers</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Azure<span class=\"token punctuation\">.</span>Core</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">using</span> <span class=\"token namespace\">Azure<span class=\"token punctuation\">.</span>Identity</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// dotnet add package Azure.Identity</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> credentials <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">DefaultAzureCredential</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> tokenResult <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> credentials<span class=\"token punctuation\">.</span><span class=\"token function\">GetTokenAsync</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">TokenRequestContext</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"https://atsrobsad.blob.core.windows.net/.default\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> CancellationToken<span class=\"token punctuation\">.</span>None<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span>tokenResult<span class=\"token punctuation\">.</span>Token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> client <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">HttpClient</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nclient<span class=\"token punctuation\">.</span>DefaultRequestHeaders<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-ms-version\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"2021-08-06\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nclient<span class=\"token punctuation\">.</span>DefaultRequestHeaders<span class=\"token punctuation\">.</span>Authorization <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token constructor-invocation class-name\">AuthenticationHeaderValue</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Bearer\"</span><span class=\"token punctuation\">,</span> tokenResult<span class=\"token punctuation\">.</span>Token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\"><span class=\"token keyword\">var</span></span> claims <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> client<span class=\"token punctuation\">.</span><span class=\"token function\">GetStringAsync</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://atsrobsad.blob.core.windows.net/?comp=list\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nConsole<span class=\"token punctuation\">.</span><span class=\"token function\">WriteLine</span><span class=\"token punctuation\">(</span>claims<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>–î–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–∏–ø–æ—Ç–µ–∑ –∏ —Ç–∞–∫–∏—Ö –∫—É—Å–∫–æ–≤ –∫–æ–¥ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —Ñ–∏–Ω—Ç —É—à–∞–º–∏</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl run <span class=\"token parameter variable\">-it</span> <span class=\"token parameter variable\">--rm</span> mactemp <span class=\"token parameter variable\">--image</span><span class=\"token operator\">=</span>mcr.microsoft.com/dotnet/sdk:7.0 <span class=\"token parameter variable\">--overrides</span><span class=\"token operator\">=</span><span class=\"token string\">'{\"spec\": { \"serviceAccountName\": \"ats\", \"nodeSelector\": {\"kubernetes.io/os\": \"linux\"}}, \"metadata\":{\"labels\":{\"azure.workload.identity/use\":\"true\"},\"annotations\":{\"kubeforce\":\"skip\"}}}'</span> <span class=\"token function\">bash</span></code></pre></div>\n<p>–ó–∞—Ç–µ–º –≤–Ω—É—Ç—Ä–∏</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> ~\n<span class=\"token function\">mkdir</span> foo\n<span class=\"token builtin class-name\">cd</span> foo\ndotnet new console\ndotnet <span class=\"token function\">add</span> package Azure.Identity\n\n<span class=\"token function\">apt</span> update\n<span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token function\">vim</span>\n<span class=\"token function\">vim</span> Program.cs</code></pre></div>\n<p>–ò –¥–∞–ª—å—à–µ —É–∂–µ –∫–∞–∫ –æ–±—ã—á–Ω–æ <code class=\"language-text\">dotnet run</code></p>"}},"pageContext":{"id":"b16af216-1790-51d3-8485-3929c941a9fd"}},"staticQueryHashes":[],"slicesMap":{}}