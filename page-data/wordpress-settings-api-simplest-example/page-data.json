{"componentChunkName":"component---src-templates-note-js","path":"/wordpress-settings-api-simplest-example","result":{"data":{"remark":{"fields":{"path":"wordpress-settings-api-simplest-example"},"meta":{"title":""},"headings":[{"value":"WordPress Settings API, text, tinymce, file upload simple example"}],"html":"<h1>WordPress Settings API, text, tinymce, file upload simple example</h1>\n<p>Here is example screenshot:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 813px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a6d70f94925f6dcf8e25226926ba2187/baaa6/example.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 200%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAoCAYAAAD+MdrbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEzUlEQVRIx51W208cVRjnPzBeXpqYVF980MQ+2PpiYmIa+9BEbTQxRkNMW62mN7SwgAjBosVSEgIaWwrRgE2QS1tIEEQIS+VSaLEoCVC6XJZl9j47s/edmd2Z/Znv7M6GXQbYepIvZ2bOd37f9XfmFFRUVKCyshJVVVWZubq6GqWlpXuKyWRCeXk506+pqUF9fT0KvF4veJ6HIAgIBoMIBAIIhUL4v4MBRqNRiKKIRCKBZDLJRFVVZkCSJKZI3/ICdLnckGUZfr8fiqJkNmuaxrwWSUQBkUiEGSSdeDzODNI3m80Gt9vNIqM9BQSkg+hCQ1UTcDhdsHF2NvO8D06nE3a7HS6XCxQZPVutViYOh4M5VvDX+ETG3a2AsqJgYe4eIj4nQiIPt2PT0PDWvczDickpQ0UloaG2+CTMrZcw29eGhbFbhrnU3zOAAYOQk5rGvnW1NuFmXQk2xvvQ0/4j4gl1u+4WYYCUl50A25sbcPXcu7AM3cD01Ni2tBh66HZ7DK3S+HfuLmYGOhCxLyMuRfID9PkEwxzSoqLEIcVVJHOKZmQ8A0gNbQSY5YlBVXPHNsBcEFqk5qX5cYQ1tr45FzAcDjNm0Bqxg5hCQs/6uz6nGJRIARJf9QNhKyAdGh6PGx6Ph62THvGeZgIiuq2uroLjOEZTMrxjyGSVeMr7BCbEVxJqM5rJGFFQpyN9Y9TbqSiaqiKhalAiAfhdXF4nDe019DCZTDV2mHfg94ufYuT7M7DeN6dToe7OFCNALc2Upf52TH77CTY6r2C4wZTS0bT8+tAobNdIF4bLCtF18gj66oqzPNyRKYZFSSt515cx0duBe/3d4CyL+VFvpyrTHJMVRj2jzXvm0CgnYMVJsjA1Vd1WtNyxzcNcL3YbmpY2lKacTlPGFJ1aOv3Yia1IWFmfxwa3BKt9EXa3BZxjDbxnHbx3GVIsxKhGlCOhpiYMBkgvRCNa0MPh3Is4UfUkCoufgqnkEC6ePopLdR/h157TaGx6E5vcfDqS7PC3hUxhsAoLFpy98hzqrx9D99fF+ObIIVw/fxS3/yhDS+cJ2F1LmbxtzT8DzKpU2iIvcGi4cQojfZcxUXsBSy0mtHzwKgbaDmNopgRiYHNvD1OAahrwIa52v4zRax+j9dQ76K0twi/H30BLxdNoHz4Gwe/KDzCZBvQICxg0H0R7+WF0fvU5goM/of/CW2g78wz6xvZB9OuNrubnocOzgJ97DqL5swP48MB+WK4Voei1/bh99gWMmp+AV5jOEzBdlE33PL7reB7mH47ji1eeRdv7L6L69X3oPv8eHi33wZfxcM8cphScwjKmF7vhdcRhvjmIgctlaHr7JTSfK0QoCshygrEolwA7cjkc84NzBeHiAa8IiAFgbWYGS6N/wsfLUGLG17xU2xhwORQO48GdcfwzNoW/ZxawbhVhc8Rgc8iwrgchS/FdALeAqekcrmwuoqvxSzxoLMPkrV6sWWOwPLTD8siLudkVhIIRY0D9fpg7lLgMh90GN2eDk+Pg84nsz+YXA+B5IetymsUUun3dsTjRcX8Fv82uYGhx87Hv1TnU8yOqJBCS4ghJCiKservfZYz+KVk5lCUJUjQKWYpBikXhD0chRiR25uUDRuHTRYB+9P8Bwk+s4s+IrnAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"screenshot\"\n        src=\"/static/a6d70f94925f6dcf8e25226926ba2187/baaa6/example.png\"\n        srcset=\"/static/a6d70f94925f6dcf8e25226926ba2187/6f3f2/example.png 256w,\n/static/a6d70f94925f6dcf8e25226926ba2187/01e7c/example.png 512w,\n/static/a6d70f94925f6dcf8e25226926ba2187/baaa6/example.png 813w\"\n        sizes=\"(max-width: 813px) 100vw, 813px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token comment\">// return array of default theme options</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$options</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n        <span class=\"token string single-quoted-string\">'slogan'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'Hello world!'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'contacts'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'Provide your contact information here'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'copyright'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'All rights reserverd.'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'logotype'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$options</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// simple helper functions to get option values in theme</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">get_example_option</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$options</span> <span class=\"token operator\">=</span> <span class=\"token function\">get_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$options</span><span class=\"token punctuation\">[</span><span class=\"token variable\">$name</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_option</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">echo</span> <span class=\"token function\">get_example_option</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$name</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// add theme settings page</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_menu_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// page title, menu title, access rules, url slug, render callback function</span>\n    <span class=\"token variable\">$page</span> <span class=\"token operator\">=</span> <span class=\"token function\">add_theme_page</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'Example Options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'Example'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'edit_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_theme_options_render_page'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">add_action</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'admin_print_scripts-'</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$page</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_options_page_enqueue_assets'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_action</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'admin_menu'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_menu_options'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// enqueue needed assets (for tinymce actualy)</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_options_page_enqueue_assets</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">wp_enqueue_script</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'common'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">wp_enqueue_script</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'jquery-color'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">wp_print_scripts</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'editor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">function_exists</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'add_thickbox'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token function\">add_thickbox</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">wp_print_scripts</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'media-upload'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">function_exists</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'wp_tiny_mce'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token function\">wp_tiny_mce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">wp_admin_css</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">wp_enqueue_script</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'utils'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">do_action</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"admin_print_styles-post-php\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">do_action</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'admin_print_styles'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// handling upload_button for logotype, copy-pasted from custom-metadata plugin</span>\n    <span class=\"token delimiter important\">?></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token function\">jQuery</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ready</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">$</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> upload_field<span class=\"token punctuation\">,</span> upload_preview<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.upload_button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.upload_button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">live</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                upload_field <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">closest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'td'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input.upload_field:first'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                upload_preview <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">closest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'td'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'img.upload_preview:first'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                window<span class=\"token punctuation\">.</span>send_to_editor<span class=\"token operator\">=</span>window<span class=\"token punctuation\">.</span>send_to_editor_clone<span class=\"token punctuation\">;</span>\n                <span class=\"token function\">tb_show</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span><span class=\"token string\">'media-upload.php?TB_iframe=true'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            window<span class=\"token punctuation\">.</span>original_send_to_editor <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>send_to_editor<span class=\"token punctuation\">;</span>\n            window<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">send_to_editor_clone</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">html</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                file_url <span class=\"token operator\">=</span> <span class=\"token function\">jQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">'img'</span><span class=\"token punctuation\">,</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>file_url<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> file_url <span class=\"token operator\">=</span> <span class=\"token function\">jQuery</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">'href'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n                <span class=\"token function\">tb_remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                upload_field<span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span>file_url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                upload_preview<span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src'</span><span class=\"token punctuation\">,</span> file_url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.upload_clear'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">live</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">closest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'td'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input.upload_field:first'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">closest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'td'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'img.upload_preview:first'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">hide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// register settings</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_settings_api_init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// retrieve settings, if settings not set, save default</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token constant boolean\">false</span> <span class=\"token operator\">===</span> <span class=\"token function\">get_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">add_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//group name (can be any, see settings_fields() call in example_theme_options_render_page()), option name (look at add_option, get_option), validate function callback</span>\n    <span class=\"token function\">register_setting</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_theme_options_validate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// id, title, render callback function, url slug</span>\n    <span class=\"token function\">add_settings_section</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'general'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'__return_false'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'theme_options'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// $options[KEY], label, render callback function, url slug, settings_section id</span>\n    <span class=\"token function\">add_settings_field</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'slogan'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'Slogan label'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_settings_field_slogan'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'general'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">add_settings_field</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'contacts'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'Contacts label'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_settings_field_contacts'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'general'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">add_settings_field</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'copyright'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'Copy label'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_settings_field_copyright'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'general'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">add_settings_field</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'Logotype label'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_settings_field_logotype'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'general'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_action</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'admin_init'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_settings_api_init'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// render for $options['slogan'] field</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_settings_field_slogan</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token variable\">$options</span> <span class=\"token operator\">=</span> <span class=\"token function\">get_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>example_theme_options[slogan]<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>slogan<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token function\">esc_attr</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'slogan'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_settings_field_contacts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token variable\">$options</span> <span class=\"token operator\">=</span> <span class=\"token function\">get_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n    <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token function\">the_editor</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'contacts'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_theme_options[contacts]'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_settings_field_copyright</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token variable\">$options</span> <span class=\"token operator\">=</span> <span class=\"token function\">get_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n    <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token function\">the_editor</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'copyright'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_theme_options[copyright]'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_settings_field_logotype</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token variable\">$options</span> <span class=\"token operator\">=</span> <span class=\"token function\">get_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n    <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token delimiter important\">?></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>upload_preview<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token function\">esc_attr</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token delimiter important\">?></span></span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">endif</span><span class=\"token punctuation\">;</span><span class=\"token delimiter important\">?></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>upload_field<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>example_theme_options[logotype]<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>logotype<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token function\">esc_attr</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button upload_button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Upload<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button upload_clear<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Remove<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// validation callback, gets array of $input, must retrieve the same array of $output, which will be saved to options</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_theme_options_validate</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$input</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$output</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$defaults</span> <span class=\"token operator\">=</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'slogan'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'slogan'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token variable\">$defaults</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'slogan'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'slogan'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'contacts'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'contacts'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token variable\">$defaults</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'contacts'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'contacts'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'copyright'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'copyright'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token variable\">$defaults</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'copyright'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'copyright'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token variable\">$defaults</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// allow only jpg, png and gif logotypes</span>\n        <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">in_array</span><span class=\"token punctuation\">(</span><span class=\"token function\">strtolower</span><span class=\"token punctuation\">(</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token function\">explode</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'.'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'jpg'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'jpeg'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'png'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'gif'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// try to get full image</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span> <span class=\"token operator\">===</span> <span class=\"token function\">strpos</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token function\">home_url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// if it is local image</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token function\">preg_match</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'/(.*?)\\-\\d+x\\d+\\.(jpg|jpeg|gif|png)$/usi'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$match</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">//not full size</span>\n                <span class=\"token variable\">$upload_dir</span> <span class=\"token operator\">=</span> <span class=\"token function\">wp_upload_dir</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token function\">file_exists</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$upload_dir</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'basedir'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">.</span> <span class=\"token constant\">DIRECTORY_SEPARATOR</span> <span class=\"token operator\">.</span> <span class=\"token function\">str_replace</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$upload_dir</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'baseurl'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$match</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'.'</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$match</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$match</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'.'</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$match</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$output</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// render page callback</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_theme_options_render_page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token delimiter important\">?></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrap<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token function\">screen_icon</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>Theme options<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token function\">settings_errors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">method</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>post<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">action</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>options.php<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n                <span class=\"token function\">settings_fields</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_options'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token function\">do_settings_sections</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'theme_options'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token function\">submit_button</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token delimiter important\">?></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token punctuation\">}</span></span></code></pre></div>\n<p>To display option in theme use helper functions like so:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token function\">apply_filters</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'the_content'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">get_swickd_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'copyright'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token delimiter important\">?></span></span></code></pre></div>"}},"pageContext":{"id":"184b1cd4-9fec-5bbe-8f11-b75256d7eadc"}},"staticQueryHashes":[]}