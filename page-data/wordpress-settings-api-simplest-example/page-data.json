{"componentChunkName":"component---src-templates-note-js","path":"/wordpress-settings-api-simplest-example/","result":{"data":{"remark":{"fields":{"path":"wordpress-settings-api-simplest-example"},"meta":{"title":""},"headings":[{"value":"WordPress Settings API, text, tinymce, file upload simple example"}],"html":"<h1>WordPress Settings API, text, tinymce, file upload simple example</h1>\n<p>Here is example screenshot:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 813px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a6d70f94925f6dcf8e25226926ba2187/baaa6/example.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 200%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAoCAYAAAD+MdrbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEzklEQVR42p1WW0wcVRjeNx9NtIkvvplGfWv6YCLGRPpi06ipjfGhCUlTSKUa0Rq0WpNyKyBgG20JCbRdFbEULQVLcCldEFKQmwG1yGV3YW/M3uayO3ub2d2Z/cyZ2Vn3xrL0JH/OmTPnfOf///N///l1TU1NaGlpQWtrq9ITaWtrA5lvbGwsKg0NDcq69vZ2dHR0oKurCzqGYeD3+xEIBBCJRBAOhxV53KZzu92IRqNgWRbxeBzJZFIRSZLA87xyCGmyLCvzWsscZ87pKIpCLBZTNBRFMf2DCDmEYWgwNI0gzyvryBoiiURCscRqtYJgkLVkTsexbBaIdjLRyO3xwuGk4PZ4wLAciDVkM+lpmobL5YLD4YDdblfmBUGAzjA2rpiXCUpaQpLw18IMAtQWQqwPTqt5T/8RJXQzs38og0JadnxZg+HLn2L53g9YMfyY+ve//zLXE1EA2ZTJmQtkWdV4dKAXfY0fYmd2BP03ryAcEQoCZQHu7OzknahpfKdfj6+rjsEy1ouF2ck8t2TedhqQcrkLmkCaafMRloxDCFNmJIRwaYA+mskD1MbxeAJiXIKc45KiJhMf7gYIJDWkgoFc8JaLAZJAJYv2IzqO45Q4JJtzfRMKhRRWaP8LCWEPoawmCiDZFAwG8wAJG9xulyIkgRBek0MI5cgeQleTyQSbzQafz6cC7mYy0crpdIDl/OD4oLLB6/UqtCM9OYz0mXMK9XYDJP6Q5CQEnoV3e6Ok1KVkm0KAyaQaKNGADyP1VXjQXI21B3dSB0n7D5tkiinbE4OYvngK1OA3GL10trTALqyh+s3NGTB2vgIDVUcxUFddNNGWBMhSNszfv4eVSQOorY3H11Abi/E4YpKcnY32yjbFANXLUdOZLCWUb03StCx2y9km7MVbNVZzRWGKRiHSayfH4zGsbsxhzTSPNcs8tu0rMFsfgXL+C8r5J8JhBomElKae1qepR55M0msaMn4nKuuewrs1T+CTjw/hwqly1Ne/A/3P7+HylXKsb06lLJGz3+V8k9UFwZAbn187jLaeNzHSfBFfvVGGnuqjGBqphX7wDLbtSwUDPQ2Yy5JgiMG3P70Pw1ATpprPYe3GZ7hxsgzDnS/DMFcDD21KK5CpUIFb1gAp9Nw9BOP1k9CfOY67LR+hr/oYus8dgN5QDpfPompYKqA/6MTo72XoqzuC6zUVCN/vxm/nT0Bf+QyGjU/CQ8+k9kilAbIBJ7p/eQm9tYfx9sEDWL16FrWvPYdbp5/HlPFpOD0jKQ0TpQEyfjuab7+A6e8+wBevvoju4wdx6ciz+P706zCvT8DL/bM/H7JBJxbXh8H6gHnjIsY723Cz4hVcrXwLAR4QRZUtmZXELoDqWIiFYHdxoLyAh5HB8YBjdQOb05PweQUIOVVEHmAy52ckGsHihBHL40YsPlzG1jYHmzMMGyViyxJAJBwrDpgK67TJFG1Hf2ctVq5dwMPbt2DZisC8vgOLyYvlJTM4li8MSOpDmVSsSUAiKSjjkaJpL2ivFz6PBxzLIeD3gw/w4Dg/RDFWsJrQ8X4/Zi1u9C2Y0L9oxq9/W5GQ5X3X1lnUiyUkiETiao8Sa5ncDJ/2IckyQjQKURAgClEEIwICETH9fuwFpNXbpMb+D4PRrxSCnWaAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot\"\n        title=\"\"\n        src=\"/static/a6d70f94925f6dcf8e25226926ba2187/baaa6/example.png\"\n        srcset=\"/static/a6d70f94925f6dcf8e25226926ba2187/6f3f2/example.png 256w,\n/static/a6d70f94925f6dcf8e25226926ba2187/01e7c/example.png 512w,\n/static/a6d70f94925f6dcf8e25226926ba2187/baaa6/example.png 813w\"\n        sizes=\"(max-width: 813px) 100vw, 813px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token comment\">// return array of default theme options</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$options</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n        <span class=\"token string single-quoted-string\">'slogan'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'Hello world!'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'contacts'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'Provide your contact information here'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'copyright'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'All rights reserverd.'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string single-quoted-string\">'logotype'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$options</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// simple helper functions to get option values in theme</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">get_example_option</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$options</span> <span class=\"token operator\">=</span> <span class=\"token function\">get_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$options</span><span class=\"token punctuation\">[</span><span class=\"token variable\">$name</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_option</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">echo</span> <span class=\"token function\">get_example_option</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$name</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// add theme settings page</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_menu_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// page title, menu title, access rules, url slug, render callback function</span>\n    <span class=\"token variable\">$page</span> <span class=\"token operator\">=</span> <span class=\"token function\">add_theme_page</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'Example Options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'Example'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'edit_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_theme_options_render_page'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">add_action</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'admin_print_scripts-'</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$page</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_options_page_enqueue_assets'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_action</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'admin_menu'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_menu_options'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// enqueue needed assets (for tinymce actualy)</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_options_page_enqueue_assets</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">wp_enqueue_script</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'common'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">wp_enqueue_script</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'jquery-color'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">wp_print_scripts</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'editor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">function_exists</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'add_thickbox'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token function\">add_thickbox</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">wp_print_scripts</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'media-upload'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">function_exists</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'wp_tiny_mce'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token function\">wp_tiny_mce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">wp_admin_css</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">wp_enqueue_script</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'utils'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">do_action</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"admin_print_styles-post-php\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">do_action</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'admin_print_styles'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// handling upload_button for logotype, copy-pasted from custom-metadata plugin</span>\n    <span class=\"token delimiter important\">?></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token function\">jQuery</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ready</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">$</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> upload_field<span class=\"token punctuation\">,</span> upload_preview<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.upload_button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.upload_button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">live</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                upload_field <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">closest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'td'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input.upload_field:first'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                upload_preview <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">closest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'td'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'img.upload_preview:first'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                window<span class=\"token punctuation\">.</span>send_to_editor<span class=\"token operator\">=</span>window<span class=\"token punctuation\">.</span>send_to_editor_clone<span class=\"token punctuation\">;</span>\n                <span class=\"token function\">tb_show</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span><span class=\"token string\">'media-upload.php?TB_iframe=true'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            window<span class=\"token punctuation\">.</span>original_send_to_editor <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>send_to_editor<span class=\"token punctuation\">;</span>\n            window<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">send_to_editor_clone</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">html</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                file_url <span class=\"token operator\">=</span> <span class=\"token function\">jQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">'img'</span><span class=\"token punctuation\">,</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>file_url<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> file_url <span class=\"token operator\">=</span> <span class=\"token function\">jQuery</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">'href'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n                <span class=\"token function\">tb_remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                upload_field<span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span>file_url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                upload_preview<span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src'</span><span class=\"token punctuation\">,</span> file_url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.upload_clear'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">live</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">closest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'td'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input.upload_field:first'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">val</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">closest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'td'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token string\">'img.upload_preview:first'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">hide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// register settings</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_settings_api_init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// retrieve settings, if settings not set, save default</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token constant boolean\">false</span> <span class=\"token operator\">===</span> <span class=\"token function\">get_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">add_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//group name (can be any, see settings_fields() call in example_theme_options_render_page()), option name (look at add_option, get_option), validate function callback</span>\n    <span class=\"token function\">register_setting</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_theme_options_validate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// id, title, render callback function, url slug</span>\n    <span class=\"token function\">add_settings_section</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'general'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'__return_false'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'theme_options'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// $options[KEY], label, render callback function, url slug, settings_section id</span>\n    <span class=\"token function\">add_settings_field</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'slogan'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'Slogan label'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_settings_field_slogan'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'general'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">add_settings_field</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'contacts'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'Contacts label'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_settings_field_contacts'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'general'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">add_settings_field</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'copyright'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'Copy label'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_settings_field_copyright'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'general'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">add_settings_field</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'Logotype label'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_settings_field_logotype'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'general'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">add_action</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'admin_init'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_settings_api_init'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// render for $options['slogan'] field</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_settings_field_slogan</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token variable\">$options</span> <span class=\"token operator\">=</span> <span class=\"token function\">get_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>example_theme_options[slogan]<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>slogan<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token function\">esc_attr</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'slogan'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_settings_field_contacts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token variable\">$options</span> <span class=\"token operator\">=</span> <span class=\"token function\">get_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n    <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token function\">the_editor</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'contacts'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_theme_options[contacts]'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_settings_field_copyright</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token variable\">$options</span> <span class=\"token operator\">=</span> <span class=\"token function\">get_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n    <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token function\">the_editor</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'copyright'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'example_theme_options[copyright]'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_settings_field_logotype</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token variable\">$options</span> <span class=\"token operator\">=</span> <span class=\"token function\">get_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_theme_options'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n    <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token delimiter important\">?></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>upload_preview<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token function\">esc_attr</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token delimiter important\">?></span></span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">endif</span><span class=\"token punctuation\">;</span><span class=\"token delimiter important\">?></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>upload_field<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>example_theme_options[logotype]<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>logotype<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token function\">esc_attr</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$options</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button upload_button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Upload<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button upload_clear<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Remove<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// validation callback, gets array of $input, must retrieve the same array of $output, which will be saved to options</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_theme_options_validate</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$input</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$output</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$defaults</span> <span class=\"token operator\">=</span> <span class=\"token function\">example_get_default_theme_options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'slogan'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'slogan'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token variable\">$defaults</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'slogan'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'slogan'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'contacts'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'contacts'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token variable\">$defaults</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'contacts'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'contacts'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'copyright'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'copyright'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token variable\">$defaults</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'copyright'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'copyright'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token variable\">$defaults</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token variable\">$input</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// allow only jpg, png and gif logotypes</span>\n        <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">in_array</span><span class=\"token punctuation\">(</span><span class=\"token function\">strtolower</span><span class=\"token punctuation\">(</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token function\">explode</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'.'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'jpg'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'jpeg'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'png'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'gif'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">empty</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// try to get full image</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span> <span class=\"token operator\">===</span> <span class=\"token function\">strpos</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token function\">home_url</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// if it is local image</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token function\">preg_match</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'/(.*?)\\-\\d+x\\d+\\.(jpg|jpeg|gif|png)$/usi'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$match</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">//not full size</span>\n                <span class=\"token variable\">$upload_dir</span> <span class=\"token operator\">=</span> <span class=\"token function\">wp_upload_dir</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token function\">file_exists</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$upload_dir</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'basedir'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">.</span> <span class=\"token constant\">DIRECTORY_SEPARATOR</span> <span class=\"token operator\">.</span> <span class=\"token function\">str_replace</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$upload_dir</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'baseurl'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$match</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'.'</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$match</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'logotype'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$match</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">.</span> <span class=\"token string single-quoted-string\">'.'</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$match</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$output</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// render page callback</span>\n<span class=\"token keyword\">function</span> <span class=\"token function-definition function\">example_theme_options_render_page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token delimiter important\">?></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>wrap<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token function\">screen_icon</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>Theme options<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token function\">settings_errors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span>\n\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">method</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>post<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">action</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>options.php<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n                <span class=\"token function\">settings_fields</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'example_options'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token function\">do_settings_sections</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'theme_options'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token function\">submit_button</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token delimiter important\">?></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token punctuation\">}</span></span></code></pre></div>\n<p>To display option in theme use helper functions like so:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token function\">apply_filters</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'the_content'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">get_swickd_option</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'copyright'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token delimiter important\">?></span></span></code></pre></div>"}},"pageContext":{"id":"184b1cd4-9fec-5bbe-8f11-b75256d7eadc"}},"staticQueryHashes":[],"slicesMap":{}}