{"componentChunkName":"component---src-templates-note-js","path":"/self-signed-ssl-for-nginx","result":{"data":{"remark":{"fields":{"path":"self-signed-ssl-for-nginx"},"meta":{"title":""},"headings":[{"value":"Self signed ssl for nginx"}],"html":"<h1>Self signed ssl for nginx</h1>\n<h2>Create sertificates</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">openssl req <span class=\"token parameter variable\">-new</span> <span class=\"token parameter variable\">-x509</span> <span class=\"token parameter variable\">-days</span> <span class=\"token number\">365</span> <span class=\"token parameter variable\">-nodes</span> <span class=\"token parameter variable\">-out</span> /home/mac/nginx.pem <span class=\"token parameter variable\">-keyout</span> /home/mac/nginx.key</code></pre></div>\n<p>You may create 2048-bit certificate by adding <code class=\"language-text\">-newkey rsa:2048</code> to the previous command like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">openssl req <span class=\"token parameter variable\">-new</span> <span class=\"token parameter variable\">-x509</span> <span class=\"token parameter variable\">-days</span> <span class=\"token number\">365</span> <span class=\"token parameter variable\">-nodes</span> <span class=\"token parameter variable\">-out</span> /srv/ssl/nginx.pem <span class=\"token parameter variable\">-keyout</span> /srv/ssl/nginx.key <span class=\"token parameter variable\">-newkey</span> rsa:2048</code></pre></div>\n<p>Openssl will ask you few questions:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Cuntry Name: UK\nState or Province Name: [Empty]\nLocality Name: Kiev\nOrganization Name: mac\nOrganization Unit Name: Web Services\nCommon Name: example.com # &lt;- MUST BE YOUR DOMAIN\nEmail Address: marchenko.alexandr@gmail.com</code></pre></div>\n<h2>Configure nginx</h2>\n<p>Example of my config:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">server {\n    listen 80;\n    rewrite ^(.*) https://$host$1 permanent; # redirect all to https\n    root /home/mac/www;\n    index index.html;\n    server_name localhost;\n\n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n}\nserver {\n    listen 443 default_server ssl;\n    root /home/mac/www;\n    index index.html;\n    server_name localhost;\n\n    ssl_certificate /home/mac/nginx.pem;\n    ssl_certificate_key /home/mac/nginx.key;\n    ssl_session_timeout 10m;\n    keepalive_timeout 70;\n\n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n}</code></pre></div>\n<p>Links:</p>\n<p><a href=\"http://library.linode.com/web-servers/nginx/configuration/ssl\">http://library.linode.com/web-servers/nginx/configuration/ssl</a> <a href=\"http://wiki.nginx.org/HttpSslModule\">http://wiki.nginx.org/HttpSslModule</a></p>"}},"pageContext":{"id":"a1d9b80f-2bca-530d-be76-d4db572047f2"}},"staticQueryHashes":[]}