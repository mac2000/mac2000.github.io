{"componentChunkName":"component---src-templates-note-js","path":"/zod-brand/","result":{"data":{"remark":{"fields":{"path":"zod-brand"},"meta":{"title":""},"headings":[{"value":"zod brand primitive types"}],"html":"<h1>zod brand primitive types</h1>\n<p>Youtube suggested great video <a href=\"https://www.youtube.com/watch?v=FGqTX7Mmn2w\">The HIDDEN GEM in Zod &#x26; Valibot You NEED To Use</a></p>\n<p>Key idea is that whenever you have function like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">function</span> <span class=\"token function\">demo</span><span class=\"token punctuation\">(</span>email<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> uuid<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>you are actually not controlling primitive types passed to the function</p>\n<p>and with zod, you can</p>\n<p>here is an example</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> z <span class=\"token keyword\">from</span> <span class=\"token string\">\"zod\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> EmailSchema <span class=\"token operator\">=</span> z<span class=\"token punctuation\">.</span><span class=\"token function\">email</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">brand</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Email\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> UuidSchema <span class=\"token operator\">=</span> z<span class=\"token punctuation\">.</span><span class=\"token function\">uuid</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">brand</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"UUID\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">Email</span> <span class=\"token operator\">=</span> z<span class=\"token punctuation\">.</span>infer<span class=\"token operator\">&lt;</span><span class=\"token keyword\">typeof</span> EmailSchema<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">type</span> <span class=\"token class-name\"><span class=\"token constant\">UUID</span></span> <span class=\"token operator\">=</span> z<span class=\"token punctuation\">.</span>infer<span class=\"token operator\">&lt;</span><span class=\"token keyword\">typeof</span> UuidSchema<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">demo</span><span class=\"token punctuation\">(</span>email<span class=\"token operator\">:</span> Email<span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span> <span class=\"token constant\">UUID</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Email: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>email<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, UUID: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// demo(\"user@example.com\", \"123e4567-e89b-12d3-a456-426614174000\"); // fails</span>\n<span class=\"token comment\">// Argument of type 'string' is not assignable to parameter of type 'string &amp; $brand&lt;\"Email\">'.</span>\n<span class=\"token comment\">//   Type 'string' is not assignable to type '$brand&lt;\"Email\">'.</span>\n\n<span class=\"token keyword\">const</span> email <span class=\"token operator\">=</span> EmailSchema<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"user@example.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> id <span class=\"token operator\">=</span> UuidSchema<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"123e4567-e89b-12d3-a456-426614174000\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">demo</span><span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// works</span></code></pre></div>\n<p>with this in place we can pass validated primitives accross our app</p>"}},"pageContext":{"id":"56467025-f9c3-574d-a8b7-4d7823898012"}},"staticQueryHashes":[],"slicesMap":{}}